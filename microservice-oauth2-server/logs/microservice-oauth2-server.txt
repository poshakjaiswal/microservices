2018-09-20 10:15:12,952 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@dcb71715: startup date [Thu Sep 20 10:15:12 CST 2018]; root of context hierarchy
2018-09-20 10:15:13,455 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d03cc425] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:15:13,896 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 10:15:13,924 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e2bef5d6: startup date [Thu Sep 20 10:15:13 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@dcb71715
2018-09-20 10:15:15,034 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 10:15:15,899 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 10:15:16,472 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 10:15:16,776 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b422c128] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:15:16,857 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d03cc425] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:15:17,591 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 10:15:17,879 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3956 ms
2018-09-20 10:15:18,043 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 10:15:19,224 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 10:15:19,224 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 10:15:19,225 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 10:15:19,225 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 10:15:19,225 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 10:15:19,226 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 10:15:19,226 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 10:15:19,227 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 10:15:19,380 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 10:15:19,570 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 10:15:19,633 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 10:15:19,653 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 10:15:19,816 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 10:15:19,818 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 10:15:19,880 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 10:15:20,036 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 10:15:20,350 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 10:15:20,862 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 10:15:21,070 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e2bef5d6: startup date [Thu Sep 20 10:15:13 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@dcb71715
2018-09-20 10:15:21,087 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 10:15:21,091 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 10:15:21,093 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 10:15:21,094 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 10:15:21,095 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 10:15:21,096 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 10:15:21,097 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 10:15:21,098 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 10:15:21,099 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 10:15:21,100 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 10:15:21,101 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 10:15:21,101 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 10:15:21,112 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 10:15:21,118 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 10:15:21,332 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 10:15:21,491 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$b60316de@a058d9e1}
2018-09-20 10:15:21,503 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 10:15:21,719 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 10:15:21,723 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 10:15:21,723 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 10:15:21,738 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:15:21,740 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:15:21,768 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ae2fd74, org.springframework.security.web.context.SecurityContextPersistenceFilter@8e9d48f6, org.springframework.security.web.header.HeaderWriterFilter@989811c5, org.springframework.security.web.authentication.logout.LogoutFilter@f1f9ed1, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@f99e505a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d631d388, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f7862f7d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c5a82852, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6728dd7, org.springframework.security.web.session.SessionManagementFilter@8dc5136e, org.springframework.security.web.access.ExceptionTranslationFilter@48d2df8d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bc17d9ba]
2018-09-20 10:15:21,807 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 10:15:21,808 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:15:21,809 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:15:21,838 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b38c3ccd, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c1731fc, org.springframework.security.web.header.HeaderWriterFilter@3c6f8099, org.springframework.security.web.csrf.CsrfFilter@17484ae3, org.springframework.security.web.authentication.logout.LogoutFilter@d6af783b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e5b4fd9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3c129521, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@fa62a893, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a354cf63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72c7fceb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5941eb5b, org.springframework.security.web.session.SessionManagementFilter@4bcdd122, org.springframework.security.web.access.ExceptionTranslationFilter@6095bee7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e6620768]
2018-09-20 10:15:21,844 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 10:15:22,107 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 10:15:22,514 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e2bef5d6: startup date [Thu Sep 20 10:15:13 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@dcb71715
2018-09-20 10:15:22,582 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 10:15:22,645 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 10:15:22,646 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 10:15:22,712 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 10:15:22,713 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 10:15:23,650 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 10:15:23,677 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 10:15:23,678 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 10:15:23,679 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 10:15:23,903 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 10:15:23,908 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 10:15:23,922 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 10:15:23,924 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 10:15:23,926 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 10:15:23,930 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 10:15:23,942 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 10:15:23,958 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=e2bef5d6,type=ConfigurationPropertiesRebinder]
2018-09-20 10:15:23,971 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 10:15:24,054 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 10:15:24,061 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.899 seconds (JVM running for 14.464)
2018-09-20 10:15:55,044 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 10:15:55,077 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2018-09-20 10:15:55,092 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 10:15:55,094 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 10:15:55,103 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 10:15:55,103 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:15:55,103 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 10:15:55,104 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@67026e81

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 49374c8b-ba23-aa1b-dae0-9e50a7f3d57d
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 10:15:55,107 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 10:15:55,107 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:15:55,108 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 10:15:55,108 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 10:15:55,109 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 10:15:55,110 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 10:15:55,112 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 10:15:55,112 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 10:15:55,112 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 10:15:55,112 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 10:15:55,112 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 10:15:55,113 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 10:15:55,113 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 10:15:55,113 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 10:15:55,113 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 10:15:55,113 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 10:15:55,113 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 10:15:55,113 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 10:15:55,114 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 10:15:55,115 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 10:15:55,490 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 10:15:55,490 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 10:15:55,490 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 10:15:55,492 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 10:15:55,492 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-20 10:15:55,492 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 10:15:55,492 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6cdb5b7d
2018-09-20 10:15:55,493 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 10:15:55,493 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 10:15:55,494 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:15:55,494 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 10:15:55,494 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 10:15:55,501 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6d6e2873, returned: 1
2018-09-20 10:15:55,501 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 10:15:55,501 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 10:15:55,501 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 10:15:55,510 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 10:15:55,510 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 10:16:03,107 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 10:16:03,107 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 10:16:10,741 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: IllegalArgumentException, There is no PasswordEncoder mapped for the id "null"
java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:238) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:198) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider.additionalAuthenticationChecks(JpaAuthenticationProvider.java:13) ~[classes/:?]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:166) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:512) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 10:16:10,903 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3f5a3b9a
2018-09-20 10:16:10,909 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"]
2018-09-20 10:16:10,922 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 10:16:10,922 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 10:22:34,046 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 10:22:34,047 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 10:22:34,049 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 10:22:34,049 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:22:34,049 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 10:22:34,050 microservice-oauth2-server [http-nio-8080-exec-3] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@67026e81

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 3df63fd4-e69e-da15-a556-c00315328d4d
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 10:22:34,050 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 10:22:34,050 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:22:34,051 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 10:22:34,051 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 10:22:34,051 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 10:22:34,051 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 10:22:34,051 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 10:22:34,052 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 10:22:34,052 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 10:22:34,068 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 10:22:34,069 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 10:22:34,069 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 10:22:34,069 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 10:22:34,069 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 10:22:34,069 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 10:22:34,070 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 10:22:34,070 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 10:22:34,070 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 10:22:34,070 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 10:22:34,070 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 10:22:34,071 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 10:22:34,071 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 10:22:34,071 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 10:22:34,071 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 10:22:34,071 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-20 10:22:34,079 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 10:22:34,079 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6cdb5b7d
2018-09-20 10:22:34,079 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 10:22:34,079 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 10:22:34,080 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:22:34,080 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 10:22:34,080 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 10:22:34,081 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6d6e2873, returned: 1
2018-09-20 10:22:34,081 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 10:22:34,081 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 10:22:34,081 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 10:22:34,085 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 10:22:34,086 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 10:23:09,132 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 10:23:09,135 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 10:23:11,939 microservice-oauth2-server [http-nio-8080-exec-3] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: IllegalArgumentException, There is no PasswordEncoder mapped for the id "null"
java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:238) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:198) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider.additionalAuthenticationChecks(JpaAuthenticationProvider.java:13) ~[classes/:?]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:166) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:502) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 10:23:11,962 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3f5a3b9a
2018-09-20 10:23:11,964 microservice-oauth2-server [http-nio-8080-exec-3] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"]
2018-09-20 10:23:11,965 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 10:23:11,965 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 10:38:50,464 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-20 10:38:50,465 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e2bef5d6: startup date [Thu Sep 20 10:15:13 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@dcb71715
2018-09-20 10:38:50,498 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-20 10:38:50,500 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-20 10:38:50,512 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 10:38:50,519 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 10:38:50,528 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 10:39:01,568 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ddc2eb80: startup date [Thu Sep 20 10:39:01 CST 2018]; root of context hierarchy
2018-09-20 10:39:02,073 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c5323d46] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:39:02,506 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 10:39:02,531 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@969fd7f7: startup date [Thu Sep 20 10:39:02 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ddc2eb80
2018-09-20 10:39:03,629 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 10:39:04,480 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 10:39:05,043 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 10:39:05,345 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a9183a49] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:39:05,419 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c5323d46] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:39:06,139 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 10:39:06,450 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3919 ms
2018-09-20 10:39:06,593 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 10:39:07,823 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 10:39:07,824 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 10:39:07,824 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 10:39:07,824 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 10:39:07,824 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 10:39:07,826 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 10:39:07,826 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 10:39:07,826 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 10:39:07,974 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 10:39:08,146 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 10:39:08,206 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 10:39:08,221 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 10:39:08,332 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 10:39:08,335 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 10:39:08,386 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 10:39:08,553 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 10:39:08,818 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 10:39:09,183 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 10:39:09,364 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@969fd7f7: startup date [Thu Sep 20 10:39:02 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ddc2eb80
2018-09-20 10:39:09,376 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 10:39:09,378 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 10:39:09,380 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 10:39:09,380 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 10:39:09,381 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 10:39:09,382 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 10:39:09,382 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 10:39:09,382 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 10:39:09,383 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 10:39:09,383 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 10:39:09,386 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 10:39:09,386 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 10:39:09,392 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 10:39:09,393 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 10:39:09,508 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 10:39:09,632 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$aaf88fff@62463317}
2018-09-20 10:39:09,643 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 10:39:09,875 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 10:39:09,878 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 10:39:09,878 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 10:39:09,891 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:39:09,894 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:39:09,919 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@744b8e0b, org.springframework.security.web.context.SecurityContextPersistenceFilter@5a1fdd9d, org.springframework.security.web.header.HeaderWriterFilter@b3b42f66, org.springframework.security.web.authentication.logout.LogoutFilter@8d360587, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@e6c59e08, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6f1f3fd5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c3bd2d6c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8f3962f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69018a1d, org.springframework.security.web.session.SessionManagementFilter@4e24a2e1, org.springframework.security.web.access.ExceptionTranslationFilter@103e0097, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5910cfb9]
2018-09-20 10:39:09,948 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 10:39:09,948 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:39:09,949 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:39:09,963 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b1d48cf3, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d48220b, org.springframework.security.web.header.HeaderWriterFilter@f4417961, org.springframework.security.web.csrf.CsrfFilter@7cb717fb, org.springframework.security.web.authentication.logout.LogoutFilter@79390219, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1ae41293, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@8f78a4db, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@89f18b27, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fff885a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a90f4db0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d6ef4274, org.springframework.security.web.session.SessionManagementFilter@ffef6293, org.springframework.security.web.access.ExceptionTranslationFilter@99e55a3c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d77993f]
2018-09-20 10:39:09,966 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 10:39:10,130 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 10:39:10,468 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@969fd7f7: startup date [Thu Sep 20 10:39:02 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ddc2eb80
2018-09-20 10:39:10,522 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 10:39:10,579 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 10:39:10,580 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 10:39:10,637 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 10:39:10,637 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 10:39:11,473 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 10:39:11,497 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 10:39:11,498 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 10:39:11,499 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 10:39:11,699 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 10:39:11,701 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 10:39:11,715 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 10:39:11,716 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 10:39:11,720 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 10:39:11,724 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 10:39:11,735 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 10:39:11,751 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=969fd7f7,type=ConfigurationPropertiesRebinder]
2018-09-20 10:39:11,761 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 10:39:11,827 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 10:39:11,832 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.035 seconds (JVM running for 13.274)
2018-09-20 10:39:25,652 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 10:39:25,682 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 30 ms
2018-09-20 10:39:25,697 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 10:39:25,699 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 10:39:25,707 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 10:39:25,707 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:39:25,708 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 10:39:25,709 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@30b905c1

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: c1ae4172-5308-90bf-0324-0435f26ede7b
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 10:39:25,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 10:39:25,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:39:25,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 10:39:25,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 10:39:25,715 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 10:39:25,715 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 10:39:25,717 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 10:39:25,717 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 10:39:25,717 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 10:39:25,717 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 10:39:25,717 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 10:39:25,718 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 10:39:25,718 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 10:39:25,718 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 10:39:25,718 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 10:39:25,718 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 10:39:25,718 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 10:39:25,718 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 10:39:25,719 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 10:39:25,720 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 10:39:26,083 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 10:39:26,083 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 10:39:26,084 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 10:39:26,085 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 10:39:26,085 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-20 10:39:26,086 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 10:39:26,086 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4aead891
2018-09-20 10:39:26,086 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 10:39:26,086 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 10:39:26,087 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:39:26,087 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 10:39:26,088 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 10:39:26,095 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@57d14b39, returned: 1
2018-09-20 10:39:26,095 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 10:39:26,095 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 10:39:26,095 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 10:39:26,106 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 10:39:26,106 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 10:39:35,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 10:39:35,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 10:39:38,511 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: IllegalArgumentException, There is no PasswordEncoder mapped for the id "null"
java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:238) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:198) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider.additionalAuthenticationChecks(JpaAuthenticationProvider.java:13) ~[classes/:?]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:166) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:512) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 10:39:38,640 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@87380b73
2018-09-20 10:39:38,646 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"]
2018-09-20 10:39:38,659 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 10:39:38,659 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 10:40:32,204 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-20 10:40:32,204 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@969fd7f7: startup date [Thu Sep 20 10:39:02 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ddc2eb80
2018-09-20 10:40:32,210 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-20 10:40:32,211 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-20 10:40:32,215 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 10:40:32,218 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 10:40:32,225 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 10:41:37,689 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@a198e70c: startup date [Thu Sep 20 10:41:37 CST 2018]; root of context hierarchy
2018-09-20 10:41:38,179 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$cd9081c7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:41:38,601 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 10:41:38,625 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61279f38: startup date [Thu Sep 20 10:41:38 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a198e70c
2018-09-20 10:41:39,694 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 10:41:40,549 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 10:41:41,093 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 10:41:41,398 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b1767eca] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:41:41,468 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$cd9081c7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:41:42,194 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 10:41:42,491 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3866 ms
2018-09-20 10:41:42,638 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 10:41:43,845 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 10:41:43,846 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 10:41:43,846 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 10:41:43,846 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 10:41:43,846 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 10:41:43,848 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 10:41:43,848 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 10:41:43,849 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 10:41:43,993 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 10:41:44,161 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 10:41:44,219 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 10:41:44,234 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 10:41:44,352 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 10:41:44,354 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 10:41:44,407 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 10:41:44,542 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 10:41:44,816 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 10:41:45,213 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 10:41:45,369 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61279f38: startup date [Thu Sep 20 10:41:38 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a198e70c
2018-09-20 10:41:45,385 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 10:41:45,388 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 10:41:45,389 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 10:41:45,390 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 10:41:45,390 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 10:41:45,391 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 10:41:45,392 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 10:41:45,392 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 10:41:45,392 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 10:41:45,393 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 10:41:45,393 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 10:41:45,394 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 10:41:45,400 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 10:41:45,400 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 10:41:45,515 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 10:41:45,640 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$b356d480@cc6d5d93}
2018-09-20 10:41:45,647 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 10:41:45,848 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 10:41:45,851 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 10:41:45,852 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 10:41:45,862 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:41:45,864 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:41:45,892 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb7282, org.springframework.security.web.context.SecurityContextPersistenceFilter@8e61d5f1, org.springframework.security.web.header.HeaderWriterFilter@1b44e5c3, org.springframework.security.web.authentication.logout.LogoutFilter@89b0b853, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@8bbb49d5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@bcb515b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@736ffd35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a9e4522, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95a431a1, org.springframework.security.web.session.SessionManagementFilter@6371aa16, org.springframework.security.web.access.ExceptionTranslationFilter@1dc099ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e14212d]
2018-09-20 10:41:45,919 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 10:41:45,920 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:41:45,920 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 10:41:45,933 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2de7c21f, org.springframework.security.web.context.SecurityContextPersistenceFilter@43883adb, org.springframework.security.web.header.HeaderWriterFilter@9c56e2ff, org.springframework.security.web.csrf.CsrfFilter@8f056d23, org.springframework.security.web.authentication.logout.LogoutFilter@6de7d718, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@35fef9df, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@634e9d8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ef66b4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9d34c458, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d30e617b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c86ec844, org.springframework.security.web.session.SessionManagementFilter@326298fe, org.springframework.security.web.access.ExceptionTranslationFilter@72612b19, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@145c5e18]
2018-09-20 10:41:45,939 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 10:41:46,109 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 10:41:46,471 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61279f38: startup date [Thu Sep 20 10:41:38 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a198e70c
2018-09-20 10:41:46,522 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 10:41:46,577 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 10:41:46,578 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 10:41:46,637 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 10:41:46,638 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 10:41:47,397 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 10:41:47,417 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 10:41:47,418 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 10:41:47,419 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 10:41:47,613 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 10:41:47,615 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 10:41:47,631 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 10:41:47,632 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 10:41:47,635 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 10:41:47,639 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 10:41:47,650 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 10:41:47,666 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=61279f38,type=ConfigurationPropertiesRebinder]
2018-09-20 10:41:47,676 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 10:41:47,750 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 10:41:47,755 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 10.812 seconds (JVM running for 12.885)
2018-09-20 10:41:59,763 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 10:41:59,802 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 39 ms
2018-09-20 10:41:59,816 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 10:41:59,818 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 10:41:59,845 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 10:41:59,845 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:41:59,845 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 10:41:59,847 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@cbeef58d

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: ffe8d3f9-e65c-b797-ffa9-3eef78f31bde
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 10:41:59,850 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 10:41:59,850 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:41:59,850 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 10:41:59,851 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 10:41:59,852 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 10:41:59,853 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 10:41:59,854 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 10:41:59,855 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 10:41:59,855 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 10:41:59,855 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 10:41:59,855 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 10:41:59,855 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 10:41:59,855 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 10:41:59,855 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 10:41:59,856 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 10:41:59,856 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 10:41:59,856 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 10:41:59,856 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 10:41:59,856 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 10:41:59,858 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 10:42:00,226 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 10:42:00,227 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 10:42:00,227 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 10:42:00,228 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 10:42:00,228 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-20 10:42:00,229 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 10:42:00,229 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@c50a7dd9
2018-09-20 10:42:00,229 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 10:42:00,229 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 10:42:00,230 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 10:42:00,230 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 10:42:00,230 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 10:42:00,237 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@69c8f421, returned: 1
2018-09-20 10:42:00,237 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 10:42:00,238 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 10:42:00,238 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 10:42:00,247 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 10:42:00,247 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 10:42:03,237 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 10:42:03,238 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 10:42:08,796 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: IllegalArgumentException, There is no PasswordEncoder mapped for the id "null"
java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:238) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:198) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider.additionalAuthenticationChecks(JpaAuthenticationProvider.java:13) ~[classes/:?]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:166) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:512) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 10:42:08,912 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@199ae09b
2018-09-20 10:42:08,917 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"]
2018-09-20 10:42:08,930 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 10:42:08,930 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 10:56:25,339 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@b3e1bf7b: startup date [Thu Sep 20 10:56:25 CST 2018]; root of context hierarchy
2018-09-20 10:56:25,844 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$38853848] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:56:26,278 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 10:56:26,301 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59f5321: startup date [Thu Sep 20 10:56:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@b3e1bf7b
2018-09-20 10:56:27,396 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 10:56:28,328 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 10:56:28,927 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 10:56:29,227 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1c6b354b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:56:29,304 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$38853848] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 10:56:30,204 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 10:56:30,571 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4270 ms
2018-09-20 10:56:30,768 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 10:56:32,005 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 10:56:32,005 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 10:56:32,006 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 10:56:32,006 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 10:56:32,006 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 10:56:32,007 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 10:56:32,008 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 10:56:32,008 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 10:56:32,153 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 10:56:32,355 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 10:56:32,415 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 10:56:32,431 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 10:56:32,547 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 10:56:32,551 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 10:56:32,605 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 10:56:32,746 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 10:56:33,017 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 10:56:33,392 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 10:56:33,599 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59f5321: startup date [Thu Sep 20 10:56:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@b3e1bf7b
2018-09-20 10:56:33,611 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 10:56:33,613 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 10:56:33,614 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 10:56:33,615 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 10:56:33,616 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 10:56:33,616 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 10:56:33,617 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 10:56:33,617 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 10:56:33,618 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 10:56:33,618 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 10:56:33,619 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 10:56:33,619 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 10:56:33,628 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 10:56:33,628 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 10:56:48,818 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 11:11:08,418 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$1e4b8b01@1d525d8c}
2018-09-20 11:11:08,433 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 11:11:08,667 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 11:11:08,675 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 11:11:08,675 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 11:11:08,693 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:11:08,695 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:11:08,721 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76b2e7f6, org.springframework.security.web.context.SecurityContextPersistenceFilter@5be1d66c, org.springframework.security.web.header.HeaderWriterFilter@f36b6add, org.springframework.security.web.authentication.logout.LogoutFilter@b5b908d5, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@d16c3e65, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@410bc968, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63ee97da, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40738bc9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ba79737d, org.springframework.security.web.session.SessionManagementFilter@bb012451, org.springframework.security.web.access.ExceptionTranslationFilter@7be945be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5616545a]
2018-09-20 11:11:08,753 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 11:11:08,754 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:11:08,754 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:11:08,769 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74a06e0b, org.springframework.security.web.context.SecurityContextPersistenceFilter@76b90cfa, org.springframework.security.web.header.HeaderWriterFilter@15f4565f, org.springframework.security.web.csrf.CsrfFilter@1e245bb8, org.springframework.security.web.authentication.logout.LogoutFilter@faad7873, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@acf6e99d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5bd7e60, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@76e94193, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@82602408, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b51b3ee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f4672dee, org.springframework.security.web.session.SessionManagementFilter@4471b78c, org.springframework.security.web.access.ExceptionTranslationFilter@77dff99d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@90025383]
2018-09-20 11:11:08,772 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 11:11:08,962 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:11:09,393 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@59f5321: startup date [Thu Sep 20 10:56:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@b3e1bf7b
2018-09-20 11:11:09,446 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 11:11:09,510 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 11:11:09,511 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 11:11:09,578 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:11:09,579 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:11:10,420 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 11:11:10,443 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 11:11:10,444 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 11:11:10,446 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 11:11:10,716 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 11:11:10,719 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 11:11:10,737 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 11:11:10,739 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 11:11:10,744 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 11:11:10,748 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 11:11:10,767 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 11:11:10,786 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=59f5321,type=ConfigurationPropertiesRebinder]
2018-09-20 11:11:10,803 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 11:11:10,903 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 11:11:10,908 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 886.345 seconds (JVM running for 888.59)
2018-09-20 11:12:41,221 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@7e2707df: startup date [Thu Sep 20 11:12:41 CST 2018]; root of context hierarchy
2018-09-20 11:12:41,730 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a952b13f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 11:12:42,147 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 11:12:42,170 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ec35d70d: startup date [Thu Sep 20 11:12:42 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@7e2707df
2018-09-20 11:12:43,280 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 11:12:44,136 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 11:12:44,722 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 11:12:45,035 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8d38ae42] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 11:12:45,109 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a952b13f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 11:12:45,820 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 11:12:46,134 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3964 ms
2018-09-20 11:12:46,330 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 11:12:47,564 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 11:12:47,564 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 11:12:47,565 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 11:12:47,565 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 11:12:47,565 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 11:12:47,566 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 11:12:47,567 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 11:12:47,567 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 11:12:47,717 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 11:12:47,899 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 11:12:47,968 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 11:12:47,982 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 11:12:48,095 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 11:12:48,098 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 11:12:48,149 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 11:12:48,324 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 11:12:48,594 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 11:12:48,951 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 11:12:49,104 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ec35d70d: startup date [Thu Sep 20 11:12:42 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@7e2707df
2018-09-20 11:12:49,118 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 11:12:49,121 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 11:12:49,123 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 11:12:49,124 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 11:12:49,125 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 11:12:49,126 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 11:12:49,126 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 11:12:49,126 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 11:12:49,127 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 11:12:49,127 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 11:12:49,128 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 11:12:49,128 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 11:12:49,134 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 11:12:49,135 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 11:13:21,209 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 11:14:10,381 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$8f1903f8@156f96a7}
2018-09-20 11:14:10,402 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 11:15:32,264 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 11:15:32,269 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 11:15:32,269 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 11:15:32,282 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:15:32,284 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:15:32,310 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5104d2d5, org.springframework.security.web.context.SecurityContextPersistenceFilter@44490d9c, org.springframework.security.web.header.HeaderWriterFilter@ed2344b3, org.springframework.security.web.authentication.logout.LogoutFilter@f17756e8, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@d7261263, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@a6c5ce1c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@87d8a1a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@664d71ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@82e61c8, org.springframework.security.web.session.SessionManagementFilter@92e61ddb, org.springframework.security.web.access.ExceptionTranslationFilter@4ead456e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78519105]
2018-09-20 11:15:32,341 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 11:15:32,341 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:15:32,342 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:15:32,357 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f669c841, org.springframework.security.web.context.SecurityContextPersistenceFilter@a513a913, org.springframework.security.web.header.HeaderWriterFilter@9f36aeae, org.springframework.security.web.csrf.CsrfFilter@be68535e, org.springframework.security.web.authentication.logout.LogoutFilter@183baf43, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2cdb6580, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@b1968a6a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4ec9bcf3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33fc642d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@89b630e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56a07c8e, org.springframework.security.web.session.SessionManagementFilter@d044c35a, org.springframework.security.web.access.ExceptionTranslationFilter@e134a8c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bca4c5f4]
2018-09-20 11:15:32,360 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 11:15:32,542 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:15:32,904 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ec35d70d: startup date [Thu Sep 20 11:12:42 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@7e2707df
2018-09-20 11:15:32,963 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 11:15:33,029 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 11:15:33,030 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 11:15:33,095 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:15:33,096 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:15:33,990 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 11:15:34,017 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 11:15:34,018 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 11:15:34,020 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 11:15:34,227 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 11:15:34,231 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 11:15:34,253 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 11:15:34,255 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 11:15:34,260 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 11:15:34,265 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 11:15:34,280 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 11:15:34,298 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=ec35d70d,type=ConfigurationPropertiesRebinder]
2018-09-20 11:15:34,312 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 11:15:34,418 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 11:15:34,422 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 173.956 seconds (JVM running for 176.148)
2018-09-20 11:39:51,611 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@e7d845aa: startup date [Thu Sep 20 11:39:51 CST 2018]; root of context hierarchy
2018-09-20 11:39:52,103 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7d494fab] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 11:39:52,535 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 11:39:52,558 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@a621eb8f: startup date [Thu Sep 20 11:39:52 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@e7d845aa
2018-09-20 11:39:53,655 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 11:39:54,554 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 11:39:55,114 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 11:39:55,417 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$612f4cae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 11:39:55,490 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7d494fab] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 11:39:56,196 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 11:39:56,500 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3942 ms
2018-09-20 11:39:56,645 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 11:39:57,887 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 11:39:57,887 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 11:39:57,887 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 11:39:57,887 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 11:39:57,887 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 11:39:57,889 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 11:39:57,889 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 11:39:57,889 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 11:39:58,064 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 11:39:58,246 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 11:39:58,321 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 11:39:58,340 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 11:39:58,474 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 11:39:58,477 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 11:39:58,542 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 11:39:58,712 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 11:39:59,000 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 11:39:59,406 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 11:39:59,558 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@a621eb8f: startup date [Thu Sep 20 11:39:52 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@e7d845aa
2018-09-20 11:39:59,570 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 11:39:59,574 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 11:39:59,575 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 11:39:59,576 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 11:39:59,577 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 11:39:59,577 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 11:39:59,578 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 11:39:59,578 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 11:39:59,579 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 11:39:59,579 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 11:39:59,579 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 11:39:59,580 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 11:39:59,587 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 11:39:59,587 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 11:40:03,156 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 11:40:04,863 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$630fa264@35dd92d5}
2018-09-20 11:40:04,900 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 11:40:06,616 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 11:40:06,620 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 11:40:06,620 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 11:40:06,636 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:40:06,638 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:40:06,664 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29845417, org.springframework.security.web.context.SecurityContextPersistenceFilter@69cd4739, org.springframework.security.web.header.HeaderWriterFilter@6a088849, org.springframework.security.web.authentication.logout.LogoutFilter@27ae5467, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@fcf09f3e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@58e18752, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f4a1540, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e3234ad6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1da45071, org.springframework.security.web.session.SessionManagementFilter@969f9a5f, org.springframework.security.web.access.ExceptionTranslationFilter@ac30c617, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3838d5f9]
2018-09-20 11:40:06,693 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 11:40:06,693 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:40:06,694 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:40:06,714 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d83e4255, org.springframework.security.web.context.SecurityContextPersistenceFilter@fbf5da95, org.springframework.security.web.header.HeaderWriterFilter@4325e9ad, org.springframework.security.web.csrf.CsrfFilter@49a28e8d, org.springframework.security.web.authentication.logout.LogoutFilter@72e511c0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3be89e8c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@20b153d7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c35e5d48, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c7f0701, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7da3b87a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@448e7c2b, org.springframework.security.web.session.SessionManagementFilter@2f1b60a7, org.springframework.security.web.access.ExceptionTranslationFilter@fdc6a0f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e207acec]
2018-09-20 11:40:06,720 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 11:40:06,918 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:40:07,299 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@a621eb8f: startup date [Thu Sep 20 11:39:52 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@e7d845aa
2018-09-20 11:40:07,360 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 11:40:07,423 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 11:40:07,425 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 11:40:07,513 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:40:07,514 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:40:08,393 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 11:40:08,421 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 11:40:08,422 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 11:40:08,423 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 11:40:08,632 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 11:40:08,636 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 11:40:08,663 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 11:40:08,668 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 11:40:08,676 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 11:40:08,684 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 11:40:08,707 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 11:40:08,744 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=a621eb8f,type=ConfigurationPropertiesRebinder]
2018-09-20 11:40:08,794 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 11:40:08,892 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 11:40:08,897 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 18.053 seconds (JVM running for 20.282)
2018-09-20 11:40:17,538 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 11:40:17,570 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 31 ms
2018-09-20 11:40:17,586 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 11:40:17,588 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 11:40:17,596 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 11:40:17,596 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 11:40:17,597 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 11:40:17,598 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@e730e4d7

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 8ef27b3e-88e9-94ff-4712-b15747380562
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 11:40:17,601 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 11:40:17,602 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 11:40:17,602 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 11:40:17,602 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 11:40:17,604 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 11:40:17,605 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 11:40:17,606 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 11:40:17,606 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 11:40:17,606 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 11:40:17,606 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 11:40:17,607 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 11:40:17,607 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 11:40:17,607 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 11:40:17,607 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 11:40:17,607 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 11:40:17,608 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 11:40:17,608 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 11:40:17,608 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 11:40:17,608 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 11:40:25,356 microservice-oauth2-server [http-nio-8080-exec-1] INFO  com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetailsSource - extact real ip null from X_Forward_For
2018-09-20 11:40:25,358 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 11:40:25,729 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dc0b4fd: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetails@15b91c: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 11:40:25,729 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 11:40:25,730 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 11:40:25,731 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 11:40:25,731 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dc0b4fd: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetails@15b91c: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-20 11:40:25,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 11:40:25,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@212005d1
2018-09-20 11:40:25,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 11:40:25,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 11:40:25,733 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 11:40:25,734 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 11:40:25,734 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dc0b4fd: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetails@15b91c: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 11:40:25,740 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@b79a8a6b, returned: 1
2018-09-20 11:40:25,740 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 11:40:25,740 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 11:40:25,740 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 11:40:25,750 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 11:40:25,751 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 11:40:27,273 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 11:40:27,273 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 11:40:37,998 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: IllegalArgumentException, There is no PasswordEncoder mapped for the id "null"
java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:238) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:198) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider.additionalAuthenticationChecks(JpaAuthenticationProvider.java:13) ~[classes/:?]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:166) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:512) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 11:40:38,111 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@e7458376
2018-09-20 11:40:38,116 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"]
2018-09-20 11:40:38,127 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 11:40:38,127 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 11:45:50,822 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@36d48dec: startup date [Thu Sep 20 11:45:50 CST 2018]; root of context hierarchy
2018-09-20 11:45:51,315 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2bd531dc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 11:45:51,732 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 11:45:51,755 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@701ae40b: startup date [Thu Sep 20 11:45:51 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@36d48dec
2018-09-20 11:45:52,871 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 11:45:53,734 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 11:45:54,294 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 11:45:54,599 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fbb2edf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 11:45:54,671 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2bd531dc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 11:45:55,378 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 11:45:55,688 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3933 ms
2018-09-20 11:45:55,831 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 11:45:57,015 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 11:45:57,015 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 11:45:57,015 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 11:45:57,015 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 11:45:57,016 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 11:45:57,017 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 11:45:57,017 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 11:45:57,017 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 11:45:57,196 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 11:45:57,364 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 11:45:57,424 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 11:45:57,439 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 11:45:57,555 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 11:45:57,558 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 11:45:57,610 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 11:45:57,747 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 11:45:58,015 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 11:45:58,433 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 11:45:58,583 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@701ae40b: startup date [Thu Sep 20 11:45:51 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@36d48dec
2018-09-20 11:45:58,597 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 11:45:58,600 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 11:45:58,601 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 11:45:58,602 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 11:45:58,602 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 11:45:58,603 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 11:45:58,603 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 11:45:58,604 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 11:45:58,604 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 11:45:58,605 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 11:45:58,605 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 11:45:58,605 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 11:45:58,613 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 11:45:58,614 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 11:46:03,488 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 11:46:08,968 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$119b8495@e43090f3}
2018-09-20 11:46:08,986 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 11:46:12,762 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 11:46:12,765 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 11:46:12,766 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 11:46:12,781 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:46:12,783 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:46:12,808 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@959d0456, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c976f11, org.springframework.security.web.header.HeaderWriterFilter@5b50645c, org.springframework.security.web.authentication.logout.LogoutFilter@be40439d, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@c757499c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@f3cf54fb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53cd1e4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79ce79b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fb01d161, org.springframework.security.web.session.SessionManagementFilter@64d29833, org.springframework.security.web.access.ExceptionTranslationFilter@a1d0c73a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d791e270]
2018-09-20 11:46:12,842 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 11:46:12,842 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:46:12,843 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 11:46:12,858 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ab6ae90a, org.springframework.security.web.context.SecurityContextPersistenceFilter@82b6c5db, org.springframework.security.web.header.HeaderWriterFilter@dc671ab3, org.springframework.security.web.csrf.CsrfFilter@b0bd52b6, org.springframework.security.web.authentication.logout.LogoutFilter@a0088bc9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e94c8418, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5d9d41ab, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@44a0e5c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a4eb9484, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@638b9b69, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@371d46bf, org.springframework.security.web.session.SessionManagementFilter@394e839d, org.springframework.security.web.access.ExceptionTranslationFilter@6693fe92, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2df4468e]
2018-09-20 11:46:12,862 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 11:46:13,057 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:46:13,464 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@701ae40b: startup date [Thu Sep 20 11:45:51 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@36d48dec
2018-09-20 11:46:13,519 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 11:46:13,579 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 11:46:13,579 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 11:46:13,638 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:46:13,638 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 11:46:14,509 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 11:46:14,537 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 11:46:14,538 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 11:46:14,539 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 11:46:14,744 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 11:46:14,747 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 11:46:14,763 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 11:46:14,765 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 11:46:14,768 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 11:46:14,771 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 11:46:14,785 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 11:46:14,801 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=701ae40b,type=ConfigurationPropertiesRebinder]
2018-09-20 11:46:14,810 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 11:46:14,894 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 11:46:14,898 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 24.818 seconds (JVM running for 26.897)
2018-09-20 11:46:27,319 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 11:46:27,346 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 27 ms
2018-09-20 11:46:27,360 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 11:46:27,363 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 11:46:27,373 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 11:46:27,374 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 11:46:27,374 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 11:46:27,376 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@c32f1e16

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 9a45e773-b9a9-a5f3-0210-3fa7917925d8
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 11:46:27,380 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 11:46:27,380 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 11:46:27,380 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 11:46:27,381 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 11:46:27,383 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 11:46:27,383 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 11:46:27,385 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 11:46:27,385 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 11:46:27,385 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 11:46:27,385 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 11:46:27,385 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 11:46:27,385 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 11:46:27,386 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 11:46:27,386 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 11:46:27,386 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 11:46:27,386 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 11:46:27,386 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 11:46:27,386 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 11:46:27,386 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 11:46:27,387 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 11:46:27,770 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 11:46:27,770 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 11:46:27,771 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 11:46:27,772 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 11:46:27,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-20 11:46:27,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 11:46:27,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2f0618ed
2018-09-20 11:46:27,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 11:46:27,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 11:46:27,774 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 11:46:27,775 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 11:46:27,775 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 11:46:27,781 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@f235fb04, returned: 1
2018-09-20 11:46:27,781 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 11:46:27,782 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 11:46:27,782 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 11:46:27,790 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 11:46:27,790 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 11:46:30,618 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 11:46:30,618 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 11:46:40,589 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: IllegalArgumentException, There is no PasswordEncoder mapped for the id "null"
java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:238) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:198) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider.additionalAuthenticationChecks(JpaAuthenticationProvider.java:13) ~[classes/:?]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:166) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:512) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 11:46:40,689 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2304f0f1
2018-09-20 11:46:40,703 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"]
2018-09-20 11:46:40,714 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 11:46:40,714 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:04:00,375 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@fa7a9ece: startup date [Thu Sep 20 12:04:00 CST 2018]; root of context hierarchy
2018-09-20 12:04:00,875 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$710220ca] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:04:01,301 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 12:04:01,325 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@279af1a4: startup date [Thu Sep 20 12:04:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@fa7a9ece
2018-09-20 12:04:02,440 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 12:04:03,309 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 12:04:03,870 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 12:04:04,177 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$54e81dcd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:04:04,248 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$710220ca] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:04:04,971 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 12:04:05,291 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3966 ms
2018-09-20 12:04:05,436 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 12:04:06,650 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 12:04:06,651 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 12:04:06,651 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 12:04:06,651 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 12:04:06,651 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 12:04:06,652 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 12:04:06,653 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 12:04:06,653 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 12:04:06,800 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 12:04:06,968 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 12:04:07,028 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 12:04:07,041 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 12:04:07,190 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 12:04:07,194 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 12:04:07,245 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 12:04:07,387 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 12:04:07,654 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 12:04:08,013 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 12:04:08,210 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@279af1a4: startup date [Thu Sep 20 12:04:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@fa7a9ece
2018-09-20 12:04:08,224 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 12:04:08,226 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 12:04:08,227 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 12:04:08,228 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 12:04:08,229 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 12:04:08,229 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 12:04:08,230 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 12:04:08,230 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 12:04:08,231 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 12:04:08,231 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 12:04:08,232 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 12:04:08,232 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 12:04:08,240 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 12:04:08,240 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 12:04:08,360 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 12:04:11,339 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$56c87383@619e9af3}
2018-09-20 12:04:11,348 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 12:04:11,577 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 12:04:11,582 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 12:04:11,582 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 12:04:11,594 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:04:11,595 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:04:11,624 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ba633e9, org.springframework.security.web.context.SecurityContextPersistenceFilter@e73232fe, org.springframework.security.web.header.HeaderWriterFilter@63e43e29, org.springframework.security.web.authentication.logout.LogoutFilter@d17bcf3b, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@f383a317, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@b68a97aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e4fed36, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9b28ffb5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a437e961, org.springframework.security.web.session.SessionManagementFilter@2fbf702b, org.springframework.security.web.access.ExceptionTranslationFilter@83181dde, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@db1df96a]
2018-09-20 12:04:11,655 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 12:04:11,655 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:04:11,656 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:04:11,674 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4011807a, org.springframework.security.web.context.SecurityContextPersistenceFilter@d758b47f, org.springframework.security.web.header.HeaderWriterFilter@917e4f98, org.springframework.security.web.csrf.CsrfFilter@8f40409c, org.springframework.security.web.authentication.logout.LogoutFilter@15fd2f62, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19eaf1f4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@856c562c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@bc8d6fd9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f06c80b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@aafdbc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71c7cdf3, org.springframework.security.web.session.SessionManagementFilter@fcac31c2, org.springframework.security.web.access.ExceptionTranslationFilter@2638b93b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16f1ccb3]
2018-09-20 12:04:11,678 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 12:04:11,867 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 12:04:12,245 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@279af1a4: startup date [Thu Sep 20 12:04:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@fa7a9ece
2018-09-20 12:04:12,303 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 12:04:12,356 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 12:04:12,357 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 12:04:12,417 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 12:04:12,417 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 12:04:13,204 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 12:04:13,227 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 12:04:13,228 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 12:04:13,229 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 12:04:13,433 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 12:04:13,438 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 12:04:13,465 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 12:04:13,467 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 12:04:13,469 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 12:04:13,473 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 12:04:13,486 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 12:04:13,534 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=279af1a4,type=ConfigurationPropertiesRebinder]
2018-09-20 12:04:13,545 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 12:04:13,623 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 12:04:13,628 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 14.008 seconds (JVM running for 16.2)
2018-09-20 12:05:03,240 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 12:05:03,272 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2018-09-20 12:05:03,289 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /filter
2018-09-20 12:05:03,292 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Did not find handler method for [/filter]
2018-09-20 12:05:03,301 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:03,301 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:05:03,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:03,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:05:03,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:03,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:05:03,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:03,304 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/filter':

org.apache.catalina.connector.RequestFacade@22e17936

servletPath:/filter
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: e82c29c4-f7fb-2e37-c169-2b54649f8cb3
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  CsrfFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:05:03,307 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:03,307 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:05:03,307 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:03,307 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:05:03,307 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:03,308 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:05:03,308 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:03,308 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 1 of 14 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:05:03,310 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 2 of 14 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:05:03,311 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No HttpSession currently exists
2018-09-20 12:05:03,311 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: null. A new one will be created.
2018-09-20 12:05:03,314 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 3 of 14 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:05:03,315 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 4 of 14 in additional filter chain; firing Filter: 'CsrfFilter'
2018-09-20 12:05:03,321 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

New HTTP session created: 03A08C593F54CFF1BE3B3E49E3ADCC0F

Call stack: 

	at org.springframework.security.web.debug.Logger.info(Logger.java:44)
	at org.springframework.security.web.debug.DebugRequestWrapper.getSession(DebugFilter.java:166)
	at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:240)
	at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:240)
	at org.springframework.security.web.csrf.HttpSessionCsrfTokenRepository.saveToken(HttpSessionCsrfTokenRepository.java:63)
	at org.springframework.security.web.csrf.LazyCsrfTokenRepository$SaveOnAccessCsrfToken.saveTokenIfNecessary(LazyCsrfTokenRepository.java:175)
	at org.springframework.security.web.csrf.LazyCsrfTokenRepository$SaveOnAccessCsrfToken.getToken(LazyCsrfTokenRepository.java:127)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:785)


************************************************************


2018-09-20 12:05:03,324 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/filter
2018-09-20 12:05:03,326 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62d525fb
2018-09-20 12:05:03,326 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:05:03,326 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:05:03,334 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:03,335 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:05:03,335 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:03,335 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:05:03,335 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:03,335 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:05:03,335 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:03,336 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/error':

org.apache.catalina.core.ApplicationHttpRequest@d24bd49

servletPath:/error
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: e82c29c4-f7fb-2e37-c169-2b54649f8cb3
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  CsrfFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:05:03,336 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:03,336 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:05:03,337 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:03,337 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:05:03,337 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:03,337 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:05:03,337 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:03,337 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 1 of 14 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:05:03,338 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 2 of 14 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:05:03,338 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - HttpSession returned null object for SPRING_SECURITY_CONTEXT
2018-09-20 12:05:03,338 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@a182cc9. A new one will be created.
2018-09-20 12:05:03,338 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 3 of 14 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:05:03,338 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 4 of 14 in additional filter chain; firing Filter: 'CsrfFilter'
2018-09-20 12:05:03,338 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 5 of 14 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:05:03,339 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/logout'
2018-09-20 12:05:03,339 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 6 of 14 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
2018-09-20 12:05:03,339 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/login'
2018-09-20 12:05:03,339 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 7 of 14 in additional filter chain; firing Filter: 'DefaultLoginPageGeneratingFilter'
2018-09-20 12:05:03,339 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 8 of 14 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:05:03,339 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 9 of 14 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 12:05:03,340 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 10 of 14 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 12:05:03,343 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 11 of 14 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 12:05:03,344 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8e54dcb2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 03A08C593F54CFF1BE3B3E49E3ADCC0F; Granted Authorities: ROLE_ANONYMOUS'
2018-09-20 12:05:03,344 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 12 of 14 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 12:05:03,345 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 13 of 14 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 12:05:03,345 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 14 of 14 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 12:05:03,346 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /error; Attributes: [authenticated]
2018-09-20 12:05:03,346 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@8e54dcb2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 03A08C593F54CFF1BE3B3E49E3ADCC0F; Granted Authorities: ROLE_ANONYMOUS
2018-09-20 12:05:03,352 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@365c722d, returned: -1
2018-09-20 12:05:03,358 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:728) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:472) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:316) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:254) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:177) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 12:05:03,372 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using Ant [pattern='/**', GET]
2018-09-20 12:05:03,372 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'GET /**
2018-09-20 12:05:03,372 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:05:03,373 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - Request not saved as configured RequestMatcher did not match
2018-09-20 12:05:03,373 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Calling Authentication entry point.
2018-09-20 12:05:03,373 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:05:03,373 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-20 12:05:03,373 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:05:03,373 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]
2018-09-20 12:05:03,374 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:05:03,374 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:05:03,374 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-20 12:05:03,374 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-20 12:05:03,374 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:05:03,375 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using OrRequestMatcher [requestMatchers=[RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]]
2018-09-20 12:05:03,375 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:05:03,375 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:05:03,375 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]]
2018-09-20 12:05:03,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:05:03,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:05:03,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - text/html .isCompatibleWith */* = true
2018-09-20 12:05:03,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = false
2018-09-20 12:05:03,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:05:03,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]
2018-09-20 12:05:03,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:05:03,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:05:03,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - isEqualTo true
2018-09-20 12:05:03,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:05:03,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@9934a6ee
2018-09-20 12:05:03,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:05:03,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@27e7037f
2018-09-20 12:05:03,378 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:05:03,378 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:05:20,028 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /filter
2018-09-20 12:05:20,029 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Did not find handler method for [/filter]
2018-09-20 12:05:20,030 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:20,030 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:05:20,030 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:20,030 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:05:20,030 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:20,030 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:05:20,030 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:20,031 microservice-oauth2-server [http-nio-8080-exec-2] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/filter':

org.apache.catalina.connector.RequestFacade@22e17936

servletPath:/filter
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: de100010-9887-c3e7-ad8f-078e04b27c9e
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=03A08C593F54CFF1BE3B3E49E3ADCC0F


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  CsrfFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:05:20,032 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:20,032 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:05:20,032 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:20,032 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:05:20,032 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:20,032 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:05:20,032 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:20,032 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 1 of 14 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:05:20,032 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 2 of 14 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:05:20,033 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - HttpSession returned null object for SPRING_SECURITY_CONTEXT
2018-09-20 12:05:20,033 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@a182cc9. A new one will be created.
2018-09-20 12:05:20,033 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 3 of 14 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:05:20,033 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 4 of 14 in additional filter chain; firing Filter: 'CsrfFilter'
2018-09-20 12:05:20,033 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/filter
2018-09-20 12:05:20,036 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62d525fb
2018-09-20 12:05:20,036 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:05:20,037 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:05:20,038 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:20,038 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:05:20,038 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:20,038 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:05:20,039 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:20,039 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:05:20,039 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:20,040 microservice-oauth2-server [http-nio-8080-exec-2] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/error':

org.apache.catalina.core.ApplicationHttpRequest@69d799d9

servletPath:/error
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: de100010-9887-c3e7-ad8f-078e04b27c9e
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=03A08C593F54CFF1BE3B3E49E3ADCC0F


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  CsrfFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:05:20,040 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:20,040 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:05:20,041 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:20,041 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:05:20,041 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:20,041 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:05:20,041 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:20,041 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 1 of 14 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:05:20,041 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 2 of 14 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:05:20,042 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - HttpSession returned null object for SPRING_SECURITY_CONTEXT
2018-09-20 12:05:20,042 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@a182cc9. A new one will be created.
2018-09-20 12:05:20,042 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 3 of 14 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:05:20,045 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 4 of 14 in additional filter chain; firing Filter: 'CsrfFilter'
2018-09-20 12:05:20,045 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 5 of 14 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:05:20,046 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/logout'
2018-09-20 12:05:20,046 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 6 of 14 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
2018-09-20 12:05:20,046 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/login'
2018-09-20 12:05:20,047 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 7 of 14 in additional filter chain; firing Filter: 'DefaultLoginPageGeneratingFilter'
2018-09-20 12:05:20,047 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 8 of 14 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:05:20,047 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 9 of 14 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 12:05:20,047 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 10 of 14 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 12:05:20,048 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 11 of 14 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 12:05:20,048 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8e54dcb2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 03A08C593F54CFF1BE3B3E49E3ADCC0F; Granted Authorities: ROLE_ANONYMOUS'
2018-09-20 12:05:20,048 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 12 of 14 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 12:05:20,048 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 13 of 14 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 12:05:20,048 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 14 of 14 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 12:05:20,049 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /error; Attributes: [authenticated]
2018-09-20 12:05:20,049 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@8e54dcb2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 03A08C593F54CFF1BE3B3E49E3ADCC0F; Granted Authorities: ROLE_ANONYMOUS
2018-09-20 12:05:20,049 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@365c722d, returned: -1
2018-09-20 12:05:20,049 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:728) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:472) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:316) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:254) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:177) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 12:05:20,052 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using Ant [pattern='/**', GET]
2018-09-20 12:05:20,052 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'GET /**
2018-09-20 12:05:20,052 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:05:20,053 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - Request not saved as configured RequestMatcher did not match
2018-09-20 12:05:20,053 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Calling Authentication entry point.
2018-09-20 12:05:20,053 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:05:20,053 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-20 12:05:20,055 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:05:20,056 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]
2018-09-20 12:05:20,056 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:05:20,056 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:05:20,056 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-20 12:05:20,057 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-20 12:05:20,057 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:05:20,057 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using OrRequestMatcher [requestMatchers=[RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]]
2018-09-20 12:05:20,058 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:05:20,058 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:05:20,058 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]]
2018-09-20 12:05:20,059 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:05:20,059 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:05:20,059 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - text/html .isCompatibleWith */* = true
2018-09-20 12:05:20,059 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = false
2018-09-20 12:05:20,060 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:05:20,060 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]
2018-09-20 12:05:20,060 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:05:20,060 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:05:20,061 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - isEqualTo true
2018-09-20 12:05:20,061 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:05:20,061 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@9934a6ee
2018-09-20 12:05:20,061 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:05:20,062 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@27e7037f
2018-09-20 12:05:20,062 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:05:20,062 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:05:27,163 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /filter
2018-09-20 12:05:27,167 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Did not find handler method for [/filter]
2018-09-20 12:05:27,169 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:27,169 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:05:27,169 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:27,169 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:05:27,170 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:27,170 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:05:27,170 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:27,172 microservice-oauth2-server [http-nio-8080-exec-3] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/filter':

org.apache.catalina.connector.RequestFacade@22e17936

servletPath:/filter
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 222d04dc-245f-54bd-d4f7-4bdb2150d78f
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=03A08C593F54CFF1BE3B3E49E3ADCC0F


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  CsrfFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:05:27,175 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:27,175 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:05:27,175 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:27,176 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:05:27,176 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:27,176 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:05:27,176 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:27,177 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 1 of 14 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:05:27,177 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 2 of 14 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:05:27,177 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - HttpSession returned null object for SPRING_SECURITY_CONTEXT
2018-09-20 12:05:27,178 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@a182cc9. A new one will be created.
2018-09-20 12:05:27,179 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 3 of 14 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:05:27,179 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 4 of 14 in additional filter chain; firing Filter: 'CsrfFilter'
2018-09-20 12:05:27,180 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/filter
2018-09-20 12:05:27,180 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62d525fb
2018-09-20 12:05:27,181 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:05:27,181 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:05:27,183 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:27,183 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:05:27,184 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:27,184 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:05:27,184 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:27,184 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:05:27,185 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:27,186 microservice-oauth2-server [http-nio-8080-exec-3] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/error':

org.apache.catalina.core.ApplicationHttpRequest@3e52c8ca

servletPath:/error
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 222d04dc-245f-54bd-d4f7-4bdb2150d78f
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=03A08C593F54CFF1BE3B3E49E3ADCC0F


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  CsrfFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:05:27,187 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:05:27,187 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:05:27,188 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:05:27,188 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:05:27,188 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:05:27,188 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:05:27,189 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:05:27,189 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 1 of 14 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:05:27,190 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 2 of 14 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:05:27,190 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - HttpSession returned null object for SPRING_SECURITY_CONTEXT
2018-09-20 12:05:27,192 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@a182cc9. A new one will be created.
2018-09-20 12:05:27,193 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 3 of 14 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:05:27,193 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 4 of 14 in additional filter chain; firing Filter: 'CsrfFilter'
2018-09-20 12:05:27,193 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 5 of 14 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:05:27,194 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/logout'
2018-09-20 12:05:27,194 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 6 of 14 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
2018-09-20 12:05:27,194 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/login'
2018-09-20 12:05:27,195 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 7 of 14 in additional filter chain; firing Filter: 'DefaultLoginPageGeneratingFilter'
2018-09-20 12:05:27,195 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 8 of 14 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:05:27,195 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 9 of 14 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 12:05:27,195 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 10 of 14 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 12:05:27,195 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 11 of 14 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 12:05:27,195 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8e54dcb2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 03A08C593F54CFF1BE3B3E49E3ADCC0F; Granted Authorities: ROLE_ANONYMOUS'
2018-09-20 12:05:27,196 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 12 of 14 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 12:05:27,196 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 13 of 14 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 12:05:27,196 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 14 of 14 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 12:05:27,196 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /error; Attributes: [authenticated]
2018-09-20 12:05:27,196 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@8e54dcb2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 03A08C593F54CFF1BE3B3E49E3ADCC0F; Granted Authorities: ROLE_ANONYMOUS
2018-09-20 12:05:27,197 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@365c722d, returned: -1
2018-09-20 12:05:27,197 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:728) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:472) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:316) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:254) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:177) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 12:05:27,201 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using Ant [pattern='/**', GET]
2018-09-20 12:05:27,201 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'GET /**
2018-09-20 12:05:27,201 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:05:27,202 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - Request not saved as configured RequestMatcher did not match
2018-09-20 12:05:27,202 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Calling Authentication entry point.
2018-09-20 12:05:27,202 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:05:27,202 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-20 12:05:27,202 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:05:27,202 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]
2018-09-20 12:05:27,203 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:05:27,203 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:05:27,203 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-20 12:05:27,203 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-20 12:05:27,203 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:05:27,203 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using OrRequestMatcher [requestMatchers=[RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]]
2018-09-20 12:05:27,204 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:05:27,204 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:05:27,205 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]]
2018-09-20 12:05:27,205 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:05:27,205 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:05:27,206 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - text/html .isCompatibleWith */* = true
2018-09-20 12:05:27,206 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = false
2018-09-20 12:05:27,206 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:05:27,206 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]
2018-09-20 12:05:27,206 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:05:27,206 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:05:27,206 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - isEqualTo true
2018-09-20 12:05:27,206 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:05:27,207 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@9934a6ee
2018-09-20 12:05:27,207 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:05:27,207 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@27e7037f
2018-09-20 12:05:27,207 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:05:27,207 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:06:39,584 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /filter
2018-09-20 12:06:39,586 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Did not find handler method for [/filter]
2018-09-20 12:06:39,586 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:06:39,587 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:06:39,587 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:06:39,587 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:06:39,587 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:06:39,587 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:06:39,587 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:06:39,588 microservice-oauth2-server [http-nio-8080-exec-5] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/filter':

org.apache.catalina.connector.RequestFacade@22e17936

servletPath:/filter
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 03b5ac27-0736-1aa9-e6b4-1b41d9218337
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=03A08C593F54CFF1BE3B3E49E3ADCC0F


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  CsrfFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:06:39,588 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:06:39,588 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:06:39,588 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:06:39,588 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:06:39,588 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:06:39,589 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:06:39,589 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:06:39,589 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 1 of 14 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:06:39,589 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 2 of 14 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:06:39,589 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - HttpSession returned null object for SPRING_SECURITY_CONTEXT
2018-09-20 12:06:39,589 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@a182cc9. A new one will be created.
2018-09-20 12:06:39,589 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 3 of 14 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:06:39,589 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 4 of 14 in additional filter chain; firing Filter: 'CsrfFilter'
2018-09-20 12:06:39,590 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/filter
2018-09-20 12:06:39,590 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@62d525fb
2018-09-20 12:06:39,590 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:06:39,590 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:06:39,591 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:06:39,591 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:06:39,591 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:06:39,591 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:06:39,592 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:06:39,592 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:06:39,592 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:06:39,592 microservice-oauth2-server [http-nio-8080-exec-5] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/error':

org.apache.catalina.core.ApplicationHttpRequest@d975f4fd

servletPath:/error
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 03b5ac27-0736-1aa9-e6b4-1b41d9218337
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=03A08C593F54CFF1BE3B3E49E3ADCC0F


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  CsrfFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:06:39,593 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:06:39,593 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:06:39,593 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:06:39,594 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:06:39,594 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:06:39,594 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:06:39,594 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:06:39,594 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 1 of 14 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:06:39,594 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 2 of 14 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:06:39,595 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - HttpSession returned null object for SPRING_SECURITY_CONTEXT
2018-09-20 12:06:39,595 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: org.apache.catalina.session.StandardSessionFacade@a182cc9. A new one will be created.
2018-09-20 12:06:39,595 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 3 of 14 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:06:39,595 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 4 of 14 in additional filter chain; firing Filter: 'CsrfFilter'
2018-09-20 12:06:39,596 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 5 of 14 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:06:39,596 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/logout'
2018-09-20 12:06:39,596 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 6 of 14 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
2018-09-20 12:06:39,596 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/login'
2018-09-20 12:06:39,596 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 7 of 14 in additional filter chain; firing Filter: 'DefaultLoginPageGeneratingFilter'
2018-09-20 12:06:39,597 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 8 of 14 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:06:39,597 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 9 of 14 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 12:06:39,597 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 10 of 14 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 12:06:39,597 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 11 of 14 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 12:06:39,597 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@8e54dcb2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 03A08C593F54CFF1BE3B3E49E3ADCC0F; Granted Authorities: ROLE_ANONYMOUS'
2018-09-20 12:06:39,598 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 12 of 14 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 12:06:39,598 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 13 of 14 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 12:06:39,598 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 14 of 14 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 12:06:39,598 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /error; Attributes: [authenticated]
2018-09-20 12:06:39,598 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@8e54dcb2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 03A08C593F54CFF1BE3B3E49E3ADCC0F; Granted Authorities: ROLE_ANONYMOUS
2018-09-20 12:06:39,599 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@365c722d, returned: -1
2018-09-20 12:06:39,599 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:728) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:472) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:316) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:254) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:177) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 12:06:39,602 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using Ant [pattern='/**', GET]
2018-09-20 12:06:39,602 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'GET /**
2018-09-20 12:06:39,602 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:06:39,603 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - Request not saved as configured RequestMatcher did not match
2018-09-20 12:06:39,603 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Calling Authentication entry point.
2018-09-20 12:06:39,604 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:06:39,604 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-20 12:06:39,604 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:06:39,604 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]
2018-09-20 12:06:39,605 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:06:39,605 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:06:39,605 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-20 12:06:39,605 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-20 12:06:39,605 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:06:39,605 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using OrRequestMatcher [requestMatchers=[RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]]
2018-09-20 12:06:39,606 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:06:39,607 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:06:39,607 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]]
2018-09-20 12:06:39,608 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:06:39,608 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:06:39,608 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - text/html .isCompatibleWith */* = true
2018-09-20 12:06:39,609 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = false
2018-09-20 12:06:39,609 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:06:39,609 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@331399d1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]
2018-09-20 12:06:39,609 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:06:39,610 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:06:39,610 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - isEqualTo true
2018-09-20 12:06:39,610 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:06:39,610 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@9934a6ee
2018-09-20 12:06:39,611 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:06:39,611 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@27e7037f
2018-09-20 12:06:39,611 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:06:39,612 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:11:25,044 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@333596f9: startup date [Thu Sep 20 12:11:25 CST 2018]; root of context hierarchy
2018-09-20 12:11:25,575 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$719e0c61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:11:26,005 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 12:11:26,037 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e15df6a3: startup date [Thu Sep 20 12:11:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@333596f9
2018-09-20 12:11:27,209 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 12:11:28,159 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 12:11:28,736 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 12:11:29,043 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$55840964] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:11:29,135 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$719e0c61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:11:29,937 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 12:11:30,309 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4272 ms
2018-09-20 12:11:30,504 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 12:11:31,870 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 12:11:31,870 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 12:11:31,870 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 12:11:31,870 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 12:11:31,871 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 12:11:31,872 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 12:11:31,872 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 12:11:31,872 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 12:11:32,022 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 12:11:32,198 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 12:11:32,260 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 12:11:32,275 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 12:11:32,419 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 12:11:32,422 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 12:11:32,473 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 12:11:32,610 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 12:11:32,881 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 12:11:33,235 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 12:11:33,388 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e15df6a3: startup date [Thu Sep 20 12:11:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@333596f9
2018-09-20 12:11:33,413 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 12:11:33,417 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 12:11:33,418 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 12:11:33,420 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 12:11:33,420 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 12:11:33,421 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 12:11:33,422 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 12:11:33,422 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 12:11:33,423 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 12:11:33,424 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 12:11:33,424 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 12:11:33,425 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 12:11:33,434 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 12:11:33,435 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 12:11:33,577 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 12:11:36,528 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$57645f1a@f7313729}
2018-09-20 12:11:36,551 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 12:11:36,793 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 12:11:36,797 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 12:11:36,797 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 12:11:36,809 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:11:36,811 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:11:36,845 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b09c7719, org.springframework.security.web.context.SecurityContextPersistenceFilter@11b6bdbf, org.springframework.security.web.header.HeaderWriterFilter@29c4cfaa, org.springframework.security.web.authentication.logout.LogoutFilter@3ceb928b, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@3c8dd6e2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@e550c929, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e3bead48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d877a17a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ccbc315, org.springframework.security.web.session.SessionManagementFilter@dae0d0b7, org.springframework.security.web.access.ExceptionTranslationFilter@a57dfbf8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b71313ce]
2018-09-20 12:11:36,873 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 12:11:36,874 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:11:36,874 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:11:36,890 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@867ffaf7, org.springframework.security.web.context.SecurityContextPersistenceFilter@77d5649c, org.springframework.security.web.header.HeaderWriterFilter@b228513f, org.springframework.security.web.authentication.logout.LogoutFilter@62d97fea, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3b0b5494, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@c843d6a7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@cce50e46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d8b75c7c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ce419edc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a79538ab, org.springframework.security.web.session.SessionManagementFilter@529b8199, org.springframework.security.web.access.ExceptionTranslationFilter@daa7968b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e0992bb]
2018-09-20 12:11:36,893 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 12:11:37,089 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 12:11:37,413 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e15df6a3: startup date [Thu Sep 20 12:11:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@333596f9
2018-09-20 12:11:37,464 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 12:11:37,517 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 12:11:37,518 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 12:11:37,570 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 12:11:37,570 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 12:11:38,377 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 12:11:38,400 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 12:11:38,401 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 12:11:38,402 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 12:11:38,600 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 12:11:38,602 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 12:11:38,615 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 12:11:38,617 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 12:11:38,619 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 12:11:38,623 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 12:11:38,637 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 12:11:38,653 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=e15df6a3,type=ConfigurationPropertiesRebinder]
2018-09-20 12:11:38,664 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 12:11:38,737 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 12:11:38,742 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 14.461 seconds (JVM running for 16.702)
2018-09-20 12:11:43,077 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 12:11:43,111 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2018-09-20 12:11:43,125 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /filter
2018-09-20 12:11:43,128 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Did not find handler method for [/filter]
2018-09-20 12:11:43,136 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:11:43,136 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:11:43,136 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:11:43,137 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:11:43,137 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:11:43,137 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:11:43,137 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:11:43,138 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/filter':

org.apache.catalina.connector.RequestFacade@8642e794

servletPath:/filter
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 010921ab-d6c9-0943-87af-d32a6f6222a6
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=03A08C593F54CFF1BE3B3E49E3ADCC0F


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:11:43,141 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:11:43,142 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:11:43,142 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:11:43,142 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:11:43,142 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:11:43,142 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:11:43,142 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:11:43,143 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:11:43,144 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 2 of 13 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:11:43,145 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No HttpSession currently exists
2018-09-20 12:11:43,145 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: null. A new one will be created.
2018-09-20 12:11:43,148 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 3 of 13 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:11:43,149 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 4 of 13 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:11:43,149 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 12:11:43,149 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /filter' doesn't match 'GET /logout
2018-09-20 12:11:43,149 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 12:11:43,149 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/logout'
2018-09-20 12:11:43,149 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 12:11:43,149 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /filter' doesn't match 'PUT /logout
2018-09-20 12:11:43,149 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 12:11:43,150 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /filter' doesn't match 'DELETE /logout
2018-09-20 12:11:43,150 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:11:43,150 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 5 of 13 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
2018-09-20 12:11:43,150 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/login'
2018-09-20 12:11:43,150 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 6 of 13 in additional filter chain; firing Filter: 'DefaultLoginPageGeneratingFilter'
2018-09-20 12:11:43,150 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 7 of 13 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:11:45,354 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 12:12:09,732 microservice-oauth2-server [http-nio-8080-exec-1] INFO  com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetailsSource - extact real ip null from X_Forward_For
2018-09-20 12:12:09,735 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 12:12:14,765 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@f75f0dc6
2018-09-20 12:12:14,768 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:12:14,768 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:12:14,802 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:12:14,802 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:12:14,802 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:12:14,802 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:12:14,803 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:12:14,803 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:12:14,803 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:12:14,804 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/error':

org.apache.catalina.core.ApplicationHttpRequest@80f67fd

servletPath:/error
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 010921ab-d6c9-0943-87af-d32a6f6222a6
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=03A08C593F54CFF1BE3B3E49E3ADCC0F


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:12:14,805 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:12:14,805 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:12:14,805 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:12:14,805 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:12:14,805 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:12:14,805 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:12:14,806 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:12:14,806 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:12:14,806 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 2 of 13 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:12:14,806 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No HttpSession currently exists
2018-09-20 12:12:14,806 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: null. A new one will be created.
2018-09-20 12:12:14,807 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 3 of 13 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:12:14,807 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 4 of 13 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:12:14,807 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 12:12:14,807 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'GET /logout
2018-09-20 12:12:14,807 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 12:12:14,807 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/logout'
2018-09-20 12:12:14,808 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 12:12:14,808 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'PUT /logout
2018-09-20 12:12:14,808 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 12:12:14,808 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'DELETE /logout
2018-09-20 12:12:14,808 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:12:14,808 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 5 of 13 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
2018-09-20 12:12:14,809 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/login'
2018-09-20 12:12:14,809 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 6 of 13 in additional filter chain; firing Filter: 'DefaultLoginPageGeneratingFilter'
2018-09-20 12:12:14,809 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 7 of 13 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:12:14,809 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 8 of 13 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 12:12:14,809 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 9 of 13 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 12:12:14,812 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 10 of 13 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 12:12:14,813 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@42ae1a7e: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-09-20 12:12:14,813 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 11 of 13 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 12:12:14,814 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Requested session ID 03A08C593F54CFF1BE3B3E49E3ADCC0F is invalid.
2018-09-20 12:12:14,814 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 12 of 13 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 12:12:14,815 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 13 of 13 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 12:12:14,816 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /error; Attributes: [authenticated]
2018-09-20 12:12:14,817 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@42ae1a7e: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-09-20 12:12:14,824 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ff342ee4, returned: -1
2018-09-20 12:12:14,830 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:728) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:472) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:316) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:254) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:349) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:175) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 12:12:14,845 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=Ant [pattern='/**/favicon.ico']]
2018-09-20 12:12:14,845 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/**/favicon.ico'
2018-09-20 12:12:14,845 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:12:14,846 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]]
2018-09-20 12:12:14,846 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:12:14,846 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:12:14,846 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-20 12:12:14,846 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-20 12:12:14,846 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:12:14,847 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-20 12:12:14,847 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:12:14,847 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - All requestMatchers returned true
2018-09-20 12:12:14,863 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

New HTTP session created: 66B97B2D74481B03390002935B6BCFC5

Call stack: 

	at org.springframework.security.web.debug.Logger.info(Logger.java:44)
	at org.springframework.security.web.debug.DebugRequestWrapper.getSession(DebugFilter.java:166)
	at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:240)
	at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:240)
	at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:240)
	at org.springframework.security.web.savedrequest.HttpSessionRequestCache.saveRequest(HttpSessionRequestCache.java:59)
	at org.springframework.security.web.access.ExceptionTranslationFilter.sendStartAuthentication(ExceptionTranslationFilter.java:211)
	at org.springframework.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException(ExceptionTranslationFilter.java:185)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:141)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:728)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:472)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:395)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:316)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:395)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:254)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:349)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:175)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:785)


************************************************************


2018-09-20 12:12:14,865 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - DefaultSavedRequest added to Session: DefaultSavedRequest[http://localhost:8080/error]
2018-09-20 12:12:14,865 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Calling Authentication entry point.
2018-09-20 12:12:14,865 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:12:14,865 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-20 12:12:14,865 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:12:14,865 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]
2018-09-20 12:12:14,866 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:12:14,866 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:12:14,866 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-20 12:12:14,866 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-20 12:12:14,866 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:12:14,866 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using OrRequestMatcher [requestMatchers=[RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]]
2018-09-20 12:12:14,866 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:12:14,866 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:12:14,867 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]]
2018-09-20 12:12:14,867 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:12:14,867 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:12:14,867 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - text/html .isCompatibleWith */* = true
2018-09-20 12:12:14,867 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = false
2018-09-20 12:12:14,867 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:12:14,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6bae93e1, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]
2018-09-20 12:12:14,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:12:14,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:12:14,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - isEqualTo true
2018-09-20 12:12:14,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:12:14,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@75ef993a
2018-09-20 12:12:14,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:12:14,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@39143b9e
2018-09-20 12:12:14,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:12:14,869 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:14:47,156 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@776424d7: startup date [Thu Sep 20 12:14:47 CST 2018]; root of context hierarchy
2018-09-20 12:14:47,668 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$17ad89a6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:14:48,095 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 12:14:48,118 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@95f4d6af: startup date [Thu Sep 20 12:14:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@776424d7
2018-09-20 12:14:49,197 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 12:14:50,045 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 12:14:50,630 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-20 12:14:50,926 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fb9386a9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:14:50,998 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$17ad89a6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:14:51,707 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 12:14:51,993 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3875 ms
2018-09-20 12:14:52,135 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 12:14:53,318 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 12:14:53,318 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 12:14:53,318 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 12:14:53,318 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 12:14:53,318 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 12:14:53,320 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 12:14:53,320 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 12:14:53,320 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 12:14:53,471 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 12:14:53,667 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 12:14:53,728 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 12:14:53,745 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 12:14:53,859 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 12:14:53,862 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 12:14:53,916 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 12:14:54,052 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 12:14:54,322 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 12:14:54,694 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 12:14:54,849 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@95f4d6af: startup date [Thu Sep 20 12:14:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@776424d7
2018-09-20 12:14:54,861 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 12:14:54,863 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 12:14:54,865 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 12:14:54,866 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 12:14:54,866 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 12:14:54,867 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 12:14:54,867 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 12:14:54,868 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 12:14:54,868 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 12:14:54,868 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 12:14:54,869 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 12:14:54,869 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 12:14:54,876 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 12:14:54,876 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 12:14:54,997 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 12:14:58,368 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$fd73dc5f@53aa2028}
2018-09-20 12:14:58,387 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 12:14:58,604 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 12:14:58,607 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 12:14:58,608 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 12:14:58,620 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:14:58,622 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:14:58,655 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1356f2c0, org.springframework.security.web.context.SecurityContextPersistenceFilter@af198907, org.springframework.security.web.header.HeaderWriterFilter@66e555c, org.springframework.security.web.authentication.logout.LogoutFilter@7e537e44, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@f058c34c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@70734e85, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41c74e1b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9a9f61aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9cb7b6bb, org.springframework.security.web.session.SessionManagementFilter@880fd5f6, org.springframework.security.web.access.ExceptionTranslationFilter@832ceb1c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@164315c8]
2018-09-20 12:14:58,676 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 12:14:58,677 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:14:58,677 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:14:58,691 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25a7854d, org.springframework.security.web.context.SecurityContextPersistenceFilter@fefcad12, org.springframework.security.web.header.HeaderWriterFilter@8f46335d, org.springframework.security.web.authentication.logout.LogoutFilter@614c7c87, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e31b467d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@ece9202d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@ec244733, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8ea48a14, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45700785, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9c53167a, org.springframework.security.web.session.SessionManagementFilter@3701d315, org.springframework.security.web.access.ExceptionTranslationFilter@3239f325, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c48580df]
2018-09-20 12:14:58,694 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 12:14:58,897 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 12:14:59,248 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@95f4d6af: startup date [Thu Sep 20 12:14:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@776424d7
2018-09-20 12:14:59,304 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 12:14:59,372 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 12:14:59,373 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 12:14:59,434 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 12:14:59,434 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 12:15:00,348 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 12:15:00,370 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 12:15:00,371 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 12:15:00,372 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 12:15:00,572 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 12:15:00,575 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 12:15:00,592 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 12:15:00,594 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 12:15:00,597 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 12:15:00,601 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 12:15:00,615 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 12:15:00,636 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=95f4d6af,type=ConfigurationPropertiesRebinder]
2018-09-20 12:15:00,651 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 12:15:00,754 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 12:15:00,759 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 14.35 seconds (JVM running for 16.545)
2018-09-20 12:15:08,971 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 12:15:09,004 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2018-09-20 12:15:09,022 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /filter
2018-09-20 12:15:09,025 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Did not find handler method for [/filter]
2018-09-20 12:15:09,034 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:15:09,034 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:15:09,034 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:15:09,034 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:15:09,035 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:15:09,035 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:15:09,035 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:15:09,036 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/filter':

org.apache.catalina.connector.RequestFacade@12a151a8

servletPath:/filter
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 0a9a2072-46f7-308c-9911-878244cd277d
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=66B97B2D74481B03390002935B6BCFC5


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:15:09,040 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:15:09,041 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token'
2018-09-20 12:15:09,041 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:15:09,041 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/token_key'
2018-09-20 12:15:09,041 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:15:09,041 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/oauth/check_token'
2018-09-20 12:15:09,041 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:15:09,042 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:15:09,044 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 2 of 13 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:15:09,045 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No HttpSession currently exists
2018-09-20 12:15:09,045 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: null. A new one will be created.
2018-09-20 12:15:09,047 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 3 of 13 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:15:09,048 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 4 of 13 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:15:09,049 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 12:15:09,049 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /filter' doesn't match 'GET /logout
2018-09-20 12:15:09,049 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 12:15:09,049 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/logout'
2018-09-20 12:15:09,049 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 12:15:09,049 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /filter' doesn't match 'PUT /logout
2018-09-20 12:15:09,049 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 12:15:09,050 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /filter' doesn't match 'DELETE /logout
2018-09-20 12:15:09,050 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:15:09,050 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 5 of 13 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
2018-09-20 12:15:09,050 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/filter'; against '/login'
2018-09-20 12:15:09,050 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 6 of 13 in additional filter chain; firing Filter: 'DefaultLoginPageGeneratingFilter'
2018-09-20 12:15:09,050 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /filter at position 7 of 13 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:15:11,881 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 12:15:13,558 microservice-oauth2-server [http-nio-8080-exec-1] INFO  com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetailsSource - extact real ip null from X_Forward_For
2018-09-20 12:15:13,559 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 12:15:17,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication request for failed: org.springframework.security.authentication.BadCredentialsException: Bad credentials
2018-09-20 12:15:17,363 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:15:17,364 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@94562b2a
2018-09-20 12:15:17,367 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4d927edb
2018-09-20 12:15:17,368 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:15:17,368 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:15:17,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:15:17,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:15:17,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:15:17,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:15:17,377 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:15:17,378 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:15:17,378 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:15:17,379 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/error':

org.apache.catalina.core.ApplicationHttpRequest@b098f25b

servletPath:/error
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 0a9a2072-46f7-308c-9911-878244cd277d
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=66B97B2D74481B03390002935B6BCFC5


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  UsernamePasswordAuthenticationFilter
  DefaultLoginPageGeneratingFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:15:17,380 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:15:17,380 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-20 12:15:17,380 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-20 12:15:17,380 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-20 12:15:17,380 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-20 12:15:17,381 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-20 12:15:17,381 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:15:17,381 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:15:17,381 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 2 of 13 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:15:17,381 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No HttpSession currently exists
2018-09-20 12:15:17,382 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - No SecurityContext was available from the HttpSession: null. A new one will be created.
2018-09-20 12:15:17,382 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 3 of 13 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:15:17,382 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 4 of 13 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:15:17,382 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 12:15:17,383 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'GET /logout
2018-09-20 12:15:17,383 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 12:15:17,383 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/logout'
2018-09-20 12:15:17,383 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 12:15:17,384 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'PUT /logout
2018-09-20 12:15:17,384 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 12:15:17,384 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /error' doesn't match 'DELETE /logout
2018-09-20 12:15:17,385 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:15:17,386 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 5 of 13 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'
2018-09-20 12:15:17,386 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/login'
2018-09-20 12:15:17,387 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 6 of 13 in additional filter chain; firing Filter: 'DefaultLoginPageGeneratingFilter'
2018-09-20 12:15:17,387 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 7 of 13 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:15:17,387 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 8 of 13 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 12:15:17,388 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 9 of 13 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 12:15:17,391 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 10 of 13 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 12:15:17,392 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@12c539eb: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-09-20 12:15:17,392 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 11 of 13 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 12:15:17,393 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Requested session ID 66B97B2D74481B03390002935B6BCFC5 is invalid.
2018-09-20 12:15:17,393 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 12 of 13 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 12:15:17,394 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error at position 13 of 13 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 12:15:17,395 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /error; Attributes: [authenticated]
2018-09-20 12:15:17,396 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@12c539eb: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-09-20 12:15:17,404 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@d3f419a7, returned: -1
2018-09-20 12:15:17,407 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:728) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:472) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:316) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:395) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:254) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:177) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 12:15:17,420 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=Ant [pattern='/**/favicon.ico']]
2018-09-20 12:15:17,420 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/**/favicon.ico'
2018-09-20 12:15:17,420 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:15:17,420 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]]
2018-09-20 12:15:17,420 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:15:17,421 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:15:17,421 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-20 12:15:17,421 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-20 12:15:17,421 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:15:17,421 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-20 12:15:17,421 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:15:17,421 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - All requestMatchers returned true
2018-09-20 12:15:17,432 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

New HTTP session created: 5BF9284AD26C507BBF18929AC8B2CA82

Call stack: 

	at org.springframework.security.web.debug.Logger.info(Logger.java:44)
	at org.springframework.security.web.debug.DebugRequestWrapper.getSession(DebugFilter.java:166)
	at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:240)
	at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:240)
	at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:240)
	at org.springframework.security.web.savedrequest.HttpSessionRequestCache.saveRequest(HttpSessionRequestCache.java:59)
	at org.springframework.security.web.access.ExceptionTranslationFilter.sendStartAuthentication(ExceptionTranslationFilter.java:211)
	at org.springframework.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException(ExceptionTranslationFilter.java:185)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:141)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:728)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:472)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:395)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:316)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:395)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:254)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:177)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:785)


************************************************************


2018-09-20 12:15:17,433 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - DefaultSavedRequest added to Session: DefaultSavedRequest[http://localhost:8080/error]
2018-09-20 12:15:17,433 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Calling Authentication entry point.
2018-09-20 12:15:17,434 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:15:17,434 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-20 12:15:17,434 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-20 12:15:17,434 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]
2018-09-20 12:15:17,434 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:15:17,434 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:15:17,434 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-20 12:15:17,435 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-20 12:15:17,435 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:15:17,435 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using OrRequestMatcher [requestMatchers=[RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]]
2018-09-20 12:15:17,435 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:15:17,435 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-20 12:15:17,437 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]]
2018-09-20 12:15:17,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:15:17,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:15:17,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - text/html .isCompatibleWith */* = true
2018-09-20 12:15:17,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = false
2018-09-20 12:15:17,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-20 12:15:17,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@bbba9e90, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]
2018-09-20 12:15:17,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-20 12:15:17,439 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-20 12:15:17,439 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - isEqualTo true
2018-09-20 12:15:17,439 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:15:17,439 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@68b816fc
2018-09-20 12:15:17,439 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-20 12:15:17,439 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@94562b2a
2018-09-20 12:15:17,440 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository - SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.
2018-09-20 12:15:17,440 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:17:52,647 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 12:17:52,649 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 12:17:52,653 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:17:52,653 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 12:17:52,653 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:17:52,654 microservice-oauth2-server [http-nio-8080-exec-3] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@12a151a8

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 6c58382c-ccfd-a619-1253-3201178d6dd7
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=5BF9284AD26C507BBF18929AC8B2CA82


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:17:52,654 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:17:52,654 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 12:17:52,654 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:17:52,654 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:17:52,654 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:17:52,654 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:17:52,654 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 12:17:52,660 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:17:59,233 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 12:18:00,762 microservice-oauth2-server [http-nio-8080-exec-3] INFO  com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetailsSource - extact real ip null from X_Forward_For
2018-09-20 12:18:00,762 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 12:18:00,906 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9d9426b5: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetails@412b54: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 5BF9284AD26C507BBF18929AC8B2CA82; Granted Authorities: ROLE_CLIENT
2018-09-20 12:18:00,906 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 12:18:00,907 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - pathInfo: both null (property equals)
2018-09-20 12:18:00,907 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - queryString: both null (property equals)
2018-09-20 12:18:00,907 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - requestURI: arg1=/error; arg2=/oauth/token (property not equals)
2018-09-20 12:18:00,907 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - saved request doesn't match
2018-09-20 12:18:00,907 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 12:18:00,907 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 12:18:00,907 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9d9426b5: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetails@412b54: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 5BF9284AD26C507BBF18929AC8B2CA82; Granted Authorities: ROLE_CLIENT'
2018-09-20 12:18:00,907 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 12:18:00,907 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2f7e452a
2018-09-20 12:18:00,910 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 12:18:00,910 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 12:18:00,910 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 12:18:00,911 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 12:18:00,911 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9d9426b5: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetails@412b54: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 5BF9284AD26C507BBF18929AC8B2CA82; Granted Authorities: ROLE_CLIENT
2018-09-20 12:18:00,913 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@476a686, returned: 1
2018-09-20 12:18:00,913 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 12:18:00,913 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 12:18:00,913 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 12:18:00,922 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 12:18:00,923 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 12:18:01,769 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 12:18:01,770 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 12:18:04,888 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7b889f39
2018-09-20 12:18:04,897 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 12:18:04,897 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:18:14,778 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 12:18:14,778 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 12:18:14,780 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:18:14,780 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 12:18:14,780 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:18:14,781 microservice-oauth2-server [http-nio-8080-exec-4] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@12a151a8

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 4ca60009-9991-f261-206e-dcf974f6b9b3
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=BF74DD873687AFF2D0161A056A770FAF


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-20 12:18:14,781 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 12:18:14,781 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 12:18:14,782 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 12:18:14,782 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 12:18:14,782 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 12:18:14,782 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 12:18:14,782 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 12:18:14,782 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 12:18:14,783 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 12:18:14,783 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 12:18:14,783 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 12:18:14,783 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 12:18:14,784 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 12:18:14,784 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 12:18:14,784 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 12:18:14,784 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 12:18:14,784 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 12:18:14,784 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 12:18:16,256 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 12:18:17,008 microservice-oauth2-server [http-nio-8080-exec-4] INFO  com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetailsSource - extact real ip null from X_Forward_For
2018-09-20 12:18:17,008 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 12:18:17,016 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@62466f95: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetails@ff936274: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: BF74DD873687AFF2D0161A056A770FAF; Granted Authorities: ROLE_CLIENT
2018-09-20 12:18:17,016 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 12:18:17,017 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - pathInfo: both null (property equals)
2018-09-20 12:18:17,017 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - queryString: both null (property equals)
2018-09-20 12:18:17,017 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - requestURI: arg1=/error; arg2=/oauth/token (property not equals)
2018-09-20 12:18:17,017 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - saved request doesn't match
2018-09-20 12:18:17,017 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 12:18:17,017 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 12:18:17,018 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@62466f95: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetails@ff936274: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: BF74DD873687AFF2D0161A056A770FAF; Granted Authorities: ROLE_CLIENT'
2018-09-20 12:18:17,018 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 12:18:17,019 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2f7e452a
2018-09-20 12:18:17,020 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 12:18:17,020 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 12:18:17,020 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 12:18:17,020 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 12:18:17,021 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@62466f95: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: com.github.sawied.microservice.oauth2.security.CustomWebAuthenticationDetails@ff936274: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: BF74DD873687AFF2D0161A056A770FAF; Granted Authorities: ROLE_CLIENT
2018-09-20 12:18:17,022 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@476a686, returned: 1
2018-09-20 12:18:17,022 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 12:18:17,022 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 12:18:17,023 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 12:18:17,030 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 12:18:17,031 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 12:18:17,776 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 12:18:17,777 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 12:18:19,377 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7b889f39
2018-09-20 12:18:19,379 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 12:18:19,380 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 12:59:17,557 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-20 12:59:17,558 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@95f4d6af: startup date [Thu Sep 20 12:14:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@776424d7
2018-09-20 12:59:17,587 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-20 12:59:17,589 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-20 12:59:17,598 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 12:59:17,605 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 12:59:17,611 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 12:59:26,591 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@64d0c127: startup date [Thu Sep 20 12:59:26 CST 2018]; root of context hierarchy
2018-09-20 12:59:27,093 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b5bdf3e2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:59:27,526 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 12:59:27,550 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc74cd1b: startup date [Thu Sep 20 12:59:27 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@64d0c127
2018-09-20 12:59:28,667 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 12:59:29,639 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 12:59:30,200 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 12:59:30,489 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$99a3f0e5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:59:30,595 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b5bdf3e2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 12:59:31,329 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 12:59:31,621 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4071 ms
2018-09-20 12:59:31,775 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 12:59:32,995 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 12:59:32,995 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 12:59:32,995 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 12:59:32,996 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 12:59:32,996 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 12:59:32,997 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 12:59:32,998 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 12:59:32,998 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 12:59:33,145 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 12:59:33,320 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 12:59:33,388 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 12:59:33,404 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 12:59:33,524 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 12:59:33,526 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 12:59:33,579 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 12:59:33,723 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 12:59:34,030 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 12:59:34,397 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 12:59:34,555 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc74cd1b: startup date [Thu Sep 20 12:59:27 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@64d0c127
2018-09-20 12:59:34,567 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 12:59:34,569 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 12:59:34,570 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 12:59:34,571 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 12:59:34,572 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 12:59:34,572 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 12:59:34,573 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 12:59:34,573 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 12:59:34,573 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 12:59:34,574 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 12:59:34,574 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 12:59:34,574 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 12:59:34,583 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 12:59:34,583 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 12:59:34,725 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 12:59:34,854 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$9b84469b@8416b543}
2018-09-20 12:59:34,884 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 12:59:35,073 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 12:59:35,076 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 12:59:35,076 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 12:59:35,087 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:59:35,089 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 12:59:35,112 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f505df84, org.springframework.security.web.context.SecurityContextPersistenceFilter@33c789e1, org.springframework.security.web.header.HeaderWriterFilter@aca9c7fe, org.springframework.security.web.authentication.logout.LogoutFilter@588cf286, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@d39f1d7d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@18d144b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c59ec42, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d744777, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@329b0cf8, org.springframework.security.web.session.SessionManagementFilter@b1d86f01, org.springframework.security.web.access.ExceptionTranslationFilter@d55ea6ca, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e3a90b98]
2018-09-20 12:59:35,120 microservice-oauth2-server [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@83730391 to already built object
2018-09-20 12:59:35,123 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 12:59:35,128 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 12:59:35,137 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 12:59:35,168 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-20 12:59:35,179 microservice-oauth2-server [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@83730391 to already built object
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$118.0000000011442CD0.getObject(Unknown Source) ~[?:?]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication.main(MicroserviceOauth2ServerApplication.java:10) [classes/:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@83730391 to already built object
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
Caused by: java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@83730391 to already built object
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.add(AbstractConfiguredSecurityBuilder.java:196) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.apply(AbstractConfiguredSecurityBuilder.java:133) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.getOrApply(HttpSecurity.java:1467) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.httpBasic(HttpSecurity.java:1065) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.CustomDSL.configure(CustomDSL.java:10) ~[classes/:?]
	at com.github.sawied.microservice.oauth2.security.CustomDSL.configure(CustomDSL.java:1) ~[classes/:?]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:384) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:330) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:292) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:79) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:334) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$40d51dd8.CGLIB$springSecurityFilterChain$1(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$40d51dd8$$FastClassBySpringCGLIB$$8137475f.invoke(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:365) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$40d51dd8.springSecurityFilterChain(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
2018-09-20 13:01:42,466 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@c3822f57: startup date [Thu Sep 20 13:01:42 CST 2018]; root of context hierarchy
2018-09-20 13:01:42,980 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$f88d330d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 13:01:43,401 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 13:01:43,430 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@296e7070: startup date [Thu Sep 20 13:01:43 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@c3822f57
2018-09-20 13:01:44,541 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 13:01:45,462 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 13:01:46,010 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 13:01:46,313 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dc733010] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 13:01:46,385 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$f88d330d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 13:01:47,121 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 13:01:47,405 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3975 ms
2018-09-20 13:01:47,580 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 13:01:48,817 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 13:01:48,817 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 13:01:48,817 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 13:01:48,818 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 13:01:48,818 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 13:01:48,819 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 13:01:48,819 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 13:01:48,819 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 13:01:48,967 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 13:01:49,142 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 13:01:49,204 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 13:01:49,219 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 13:01:49,329 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 13:01:49,332 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 13:01:49,384 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 13:01:49,550 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 13:01:49,828 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 13:01:50,198 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 13:01:50,368 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@296e7070: startup date [Thu Sep 20 13:01:43 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@c3822f57
2018-09-20 13:01:50,381 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 13:01:50,383 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 13:01:50,384 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 13:01:50,385 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 13:01:50,386 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 13:01:50,386 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 13:01:50,387 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 13:01:50,387 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 13:01:50,388 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 13:01:50,388 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 13:01:50,388 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 13:01:50,389 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 13:01:50,397 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 13:01:50,397 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 13:01:50,540 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 13:01:50,703 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$de5385c6@59c7f9bd}
2018-09-20 13:01:50,733 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 13:01:50,938 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 13:01:50,942 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 13:01:50,942 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 13:01:50,953 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 13:01:50,954 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 13:01:50,976 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b519301, org.springframework.security.web.context.SecurityContextPersistenceFilter@474b0eb3, org.springframework.security.web.header.HeaderWriterFilter@f9c2639b, org.springframework.security.web.authentication.logout.LogoutFilter@42b380ad, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@425c4a8a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@a66571c6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a74f99ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9e4f7116, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f4945c9b, org.springframework.security.web.session.SessionManagementFilter@d6406427, org.springframework.security.web.access.ExceptionTranslationFilter@fb69304d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e285825]
2018-09-20 13:01:50,986 microservice-oauth2-server [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@e685be24 to already built object
2018-09-20 13:01:50,988 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 13:01:50,993 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 13:01:51,004 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 13:01:51,035 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-20 13:01:51,046 microservice-oauth2-server [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@e685be24 to already built object
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$118.0000000011335060.getObject(Unknown Source) ~[?:?]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication.main(MicroserviceOauth2ServerApplication.java:10) [classes/:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@e685be24 to already built object
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
Caused by: java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@e685be24 to already built object
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.add(AbstractConfiguredSecurityBuilder.java:196) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.apply(AbstractConfiguredSecurityBuilder.java:133) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.getOrApply(HttpSecurity.java:1467) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.httpBasic(HttpSecurity.java:1065) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.CustomDSL.configure(CustomDSL.java:10) ~[classes/:?]
	at com.github.sawied.microservice.oauth2.security.CustomDSL.configure(CustomDSL.java:1) ~[classes/:?]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:384) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:330) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:292) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:79) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:334) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$83a45d03.CGLIB$springSecurityFilterChain$1(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$83a45d03$$FastClassBySpringCGLIB$$ba43d66b.invoke(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:365) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$83a45d03.springSecurityFilterChain(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
2018-09-20 13:08:55,014 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@7d2c8bb8: startup date [Thu Sep 20 13:08:55 CST 2018]; root of context hierarchy
2018-09-20 13:08:55,531 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$88a29d4a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 13:08:55,964 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 13:08:55,990 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d90ab32: startup date [Thu Sep 20 13:08:55 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@7d2c8bb8
2018-09-20 13:08:57,094 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 13:08:58,033 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 13:08:58,594 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 13:08:58,892 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6c889a4d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 13:08:58,974 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$88a29d4a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 13:08:59,706 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 13:09:00,009 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4019 ms
2018-09-20 13:09:00,180 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 13:09:01,379 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 13:09:01,380 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 13:09:01,380 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 13:09:01,380 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 13:09:01,380 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 13:09:01,381 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 13:09:01,382 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 13:09:01,382 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 13:09:01,569 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 13:09:01,749 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 13:09:01,812 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 13:09:01,827 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 13:09:01,952 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 13:09:01,955 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 13:09:02,007 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 13:09:02,146 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 13:09:02,422 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 13:09:02,817 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 13:09:02,977 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d90ab32: startup date [Thu Sep 20 13:08:55 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@7d2c8bb8
2018-09-20 13:09:02,990 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 13:09:02,992 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 13:09:02,993 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 13:09:02,994 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 13:09:02,994 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 13:09:02,995 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 13:09:02,995 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 13:09:02,996 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 13:09:02,996 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 13:09:02,996 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 13:09:02,997 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 13:09:02,997 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 13:09:03,003 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 13:09:03,004 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 13:09:03,141 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 13:09:03,265 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$6e68f003@10e3d8cd}
2018-09-20 13:09:03,296 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 13:09:03,488 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 13:09:03,491 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 13:09:03,492 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 13:09:03,503 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 13:09:03,505 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 13:09:03,529 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fd3baf5, org.springframework.security.web.context.SecurityContextPersistenceFilter@4804dc24, org.springframework.security.web.header.HeaderWriterFilter@d8018658, org.springframework.security.web.authentication.logout.LogoutFilter@bd5577f5, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@60049a47, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5c056568, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3168455c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d25f8488, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3365275d, org.springframework.security.web.session.SessionManagementFilter@e368adbd, org.springframework.security.web.access.ExceptionTranslationFilter@e815047e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2396e6e7]
2018-09-20 13:09:03,537 microservice-oauth2-server [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@3fa5de2a to already built object
2018-09-20 13:09:03,539 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 13:09:03,542 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 13:09:03,553 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 13:09:03,585 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-20 13:09:03,597 microservice-oauth2-server [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@3fa5de2a to already built object
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$118.0000000011353F30.getObject(Unknown Source) ~[?:?]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication.main(MicroserviceOauth2ServerApplication.java:10) [classes/:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@3fa5de2a to already built object
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
Caused by: java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.HttpBasicConfigurer@3fa5de2a to already built object
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.add(AbstractConfiguredSecurityBuilder.java:196) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.apply(AbstractConfiguredSecurityBuilder.java:133) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.getOrApply(HttpSecurity.java:1467) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.httpBasic(HttpSecurity.java:1065) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.CustomDSL.configure(CustomDSL.java:10) ~[classes/:?]
	at com.github.sawied.microservice.oauth2.security.CustomDSL.configure(CustomDSL.java:1) ~[classes/:?]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:384) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:330) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:292) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:79) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:334) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$13b9c740.CGLIB$springSecurityFilterChain$1(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$13b9c740$$FastClassBySpringCGLIB$$e52b2b14.invoke(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:365) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$13b9c740.springSecurityFilterChain(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
2018-09-20 14:20:28,354 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@48c9b087: startup date [Thu Sep 20 14:20:28 CST 2018]; root of context hierarchy
2018-09-20 14:20:28,846 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9654b8fa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:20:29,289 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 14:20:29,320 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@62ff0eb4: startup date [Thu Sep 20 14:20:29 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@48c9b087
2018-09-20 14:20:30,456 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 14:20:31,379 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 14:20:31,947 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 14:20:32,262 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7a3ab5fd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:20:32,335 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9654b8fa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:20:33,037 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 14:20:33,352 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4032 ms
2018-09-20 14:20:33,502 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 14:20:34,723 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 14:20:34,723 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 14:20:34,723 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 14:20:34,723 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 14:20:34,723 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 14:20:34,725 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 14:20:34,725 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 14:20:34,725 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 14:20:34,872 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 14:20:35,045 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 14:20:35,108 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 14:20:35,124 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 14:20:35,239 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 14:20:35,243 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 14:20:35,299 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 14:20:35,440 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 14:20:35,754 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 14:20:36,113 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 14:20:36,273 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@62ff0eb4: startup date [Thu Sep 20 14:20:29 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@48c9b087
2018-09-20 14:20:36,285 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 14:20:36,287 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 14:20:36,288 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 14:20:36,291 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 14:20:36,292 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 14:20:36,293 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 14:20:36,294 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 14:20:36,295 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 14:20:36,296 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 14:20:36,297 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 14:20:36,298 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 14:20:36,299 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 14:20:36,307 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 14:20:36,308 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 14:20:36,450 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 14:20:36,574 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$7c1b0bb3@3bc74481}
2018-09-20 14:20:36,603 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 14:20:36,849 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 14:20:36,852 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 14:20:36,853 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 14:20:36,864 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:20:36,866 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:20:36,888 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ec709cb4, org.springframework.security.web.context.SecurityContextPersistenceFilter@6b7b5555, org.springframework.security.web.header.HeaderWriterFilter@3223193f, org.springframework.security.web.authentication.logout.LogoutFilter@ee096fac, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@473ac8a4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@dfecd732, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d59fb47e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bc26b96b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e209950, org.springframework.security.web.session.SessionManagementFilter@b52d9a0e, org.springframework.security.web.access.ExceptionTranslationFilter@845a0e0a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45f0e1]
2018-09-20 14:20:36,912 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 14:20:36,913 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:20:36,914 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:20:36,914 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@87c09c94, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fe55b93, org.springframework.security.web.context.SecurityContextPersistenceFilter@d9aac55d, org.springframework.security.web.header.HeaderWriterFilter@e7a3c5f, org.springframework.security.web.authentication.logout.LogoutFilter@c3e05a64, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2ff083a6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@db0dc2f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17c73904, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57b6ade9, org.springframework.security.web.session.SessionManagementFilter@a31c779c, org.springframework.security.web.access.ExceptionTranslationFilter@3a0c02fd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cecbe4f]
2018-09-20 14:20:36,942 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 14:20:36,942 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:20:36,942 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:20:36,958 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44efd2b5, org.springframework.security.web.context.SecurityContextPersistenceFilter@e6265b13, org.springframework.security.web.header.HeaderWriterFilter@50ad4060, org.springframework.security.web.csrf.CsrfFilter@afc6f47, org.springframework.security.web.authentication.logout.LogoutFilter@21a17673, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f3f8c650, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@38adb14, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@908c94d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22e189cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2bd83c48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f91831a3, org.springframework.security.web.session.SessionManagementFilter@bdad873d, org.springframework.security.web.access.ExceptionTranslationFilter@f0ed30e9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a4c74a1b]
2018-09-20 14:20:36,961 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 14:20:37,128 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:20:37,468 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@62ff0eb4: startup date [Thu Sep 20 14:20:29 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@48c9b087
2018-09-20 14:20:37,524 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 14:20:37,576 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 14:20:37,577 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 14:20:37,632 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:20:37,632 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:20:38,453 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 14:20:38,478 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 14:20:38,479 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 14:20:38,480 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 14:20:38,683 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 14:20:38,687 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 14:20:38,700 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 14:20:38,701 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 14:20:38,704 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 14:20:38,708 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 14:20:38,721 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 14:20:38,738 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=62ff0eb4,type=ConfigurationPropertiesRebinder]
2018-09-20 14:20:38,748 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 14:20:38,817 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 14:20:38,822 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.241 seconds (JVM running for 13.465)
2018-09-20 14:21:49,722 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1453fd71: startup date [Thu Sep 20 14:21:49 CST 2018]; root of context hierarchy
2018-09-20 14:21:50,200 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$658c492a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:21:50,629 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 14:21:50,669 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4eab7102: startup date [Thu Sep 20 14:21:50 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1453fd71
2018-09-20 14:21:51,790 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 14:21:52,688 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 14:21:53,243 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 14:21:53,548 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4972462d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:21:53,617 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$658c492a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:21:54,336 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 14:21:54,630 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3961 ms
2018-09-20 14:21:54,772 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 14:21:55,971 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 14:21:55,972 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 14:21:55,972 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 14:21:55,972 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 14:21:55,972 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 14:21:55,974 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 14:21:55,974 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 14:21:55,975 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 14:21:56,121 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 14:21:56,294 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 14:21:56,356 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 14:21:56,375 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 14:21:56,494 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 14:21:56,497 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 14:21:56,575 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 14:21:56,714 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 14:21:56,978 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 14:21:57,367 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 14:21:57,517 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4eab7102: startup date [Thu Sep 20 14:21:50 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1453fd71
2018-09-20 14:21:57,530 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 14:21:57,532 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 14:21:57,534 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 14:21:57,535 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 14:21:57,535 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 14:21:57,535 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 14:21:57,536 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 14:21:57,536 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 14:21:57,537 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 14:21:57,537 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 14:21:57,538 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 14:21:57,538 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 14:21:57,547 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 14:21:57,547 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 14:21:57,685 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 14:21:57,833 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$4b529be3@fabcd848}
2018-09-20 14:21:57,861 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 14:22:21,624 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 14:22:21,628 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 14:22:21,628 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 14:22:21,643 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:22:21,646 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:22:21,669 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e2fd912c, org.springframework.security.web.context.SecurityContextPersistenceFilter@ba97271c, org.springframework.security.web.header.HeaderWriterFilter@6482a076, org.springframework.security.web.authentication.logout.LogoutFilter@27b00b62, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@209401c9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@e61f7532, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@544456b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f755d35e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ebee044a, org.springframework.security.web.session.SessionManagementFilter@6783d4e0, org.springframework.security.web.access.ExceptionTranslationFilter@4eda4153, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@da9ea908]
2018-09-20 14:22:24,045 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 14:22:24,047 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:22:24,047 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:22:24,048 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@3d24225e, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e3d8a1f1, org.springframework.security.web.context.SecurityContextPersistenceFilter@eed79d70, org.springframework.security.web.header.HeaderWriterFilter@fd172159, org.springframework.security.web.authentication.logout.LogoutFilter@47aad7fd, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@21ee42f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d6a7853f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cfed4468, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@af301bf8, org.springframework.security.web.session.SessionManagementFilter@f1f6f4e6, org.springframework.security.web.access.ExceptionTranslationFilter@514a2ee9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@fc6b544c]
2018-09-20 14:22:25,041 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 14:22:25,047 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:22:25,048 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:22:25,081 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@912c1921, org.springframework.security.web.context.SecurityContextPersistenceFilter@a53a361b, org.springframework.security.web.header.HeaderWriterFilter@2f0d0559, org.springframework.security.web.csrf.CsrfFilter@34a9b32d, org.springframework.security.web.authentication.logout.LogoutFilter@e5ee60d0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@8e3c90c2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6e391fae, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@46e4a053, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e2f030a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a1b7ff4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f79a038, org.springframework.security.web.session.SessionManagementFilter@55dbfb0, org.springframework.security.web.access.ExceptionTranslationFilter@4705ada3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@761fa79]
2018-09-20 14:22:25,084 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 14:22:25,313 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:22:25,668 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4eab7102: startup date [Thu Sep 20 14:21:50 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1453fd71
2018-09-20 14:22:25,717 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 14:22:25,771 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 14:22:25,772 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 14:22:25,832 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:22:25,833 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:22:26,716 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 14:22:26,740 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 14:22:26,741 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 14:22:26,742 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 14:22:26,928 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 14:22:26,931 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 14:22:26,950 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 14:22:26,951 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 14:22:26,956 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 14:22:26,960 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 14:22:26,973 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 14:22:26,989 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=4eab7102,type=ConfigurationPropertiesRebinder]
2018-09-20 14:22:27,002 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 14:22:27,101 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 14:22:27,108 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 38.153 seconds (JVM running for 40.359)
2018-09-20 14:35:47,201 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-20 14:35:47,201 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4eab7102: startup date [Thu Sep 20 14:21:50 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1453fd71
2018-09-20 14:35:47,230 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-20 14:35:47,231 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-20 14:35:47,242 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 14:35:47,249 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 14:35:47,261 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 14:35:55,391 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@f06d6c41: startup date [Thu Sep 20 14:35:55 CST 2018]; root of context hierarchy
2018-09-20 14:35:55,890 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7c56e571] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:35:56,324 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 14:35:56,353 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ae286bfa: startup date [Thu Sep 20 14:35:56 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@f06d6c41
2018-09-20 14:35:57,448 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 14:35:58,354 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 14:35:58,903 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 14:35:59,202 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$603ce274] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:35:59,270 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7c56e571] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:35:59,979 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 14:36:00,303 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3950 ms
2018-09-20 14:36:00,460 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 14:36:01,690 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 14:36:01,690 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 14:36:01,691 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 14:36:01,691 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 14:36:01,691 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 14:36:01,692 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 14:36:01,692 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 14:36:01,692 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 14:36:01,836 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 14:36:02,006 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 14:36:02,068 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 14:36:02,082 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 14:36:02,202 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 14:36:02,206 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 14:36:02,257 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 14:36:02,396 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 14:36:02,701 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 14:36:03,059 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 14:36:03,219 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ae286bfa: startup date [Thu Sep 20 14:35:56 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@f06d6c41
2018-09-20 14:36:03,231 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 14:36:03,233 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 14:36:03,235 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 14:36:03,236 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 14:36:03,236 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 14:36:03,237 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 14:36:03,238 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 14:36:03,238 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 14:36:03,238 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 14:36:03,239 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 14:36:03,239 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 14:36:03,240 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 14:36:03,248 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 14:36:03,248 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 14:36:03,385 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 14:36:03,544 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$621d382a@23302df4}
2018-09-20 14:36:03,575 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 14:36:03,592 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/webjars/**'], []
2018-09-20 14:36:03,592 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/images/**'], []
2018-09-20 14:36:03,592 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/uncache_approvals'], []
2018-09-20 14:36:03,592 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/cache_approvals'], []
2018-09-20 14:36:08,678 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 14:36:08,681 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 14:36:08,681 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 14:36:08,693 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:36:08,695 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:36:08,722 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@85123528, org.springframework.security.web.context.SecurityContextPersistenceFilter@e8350ad5, org.springframework.security.web.header.HeaderWriterFilter@f6a0d364, org.springframework.security.web.authentication.logout.LogoutFilter@9790bffa, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@1516f225, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@dd78a5c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f0ec9025, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22034380, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a95545c, org.springframework.security.web.session.SessionManagementFilter@d962a299, org.springframework.security.web.access.ExceptionTranslationFilter@7f50d20c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6933dd73]
2018-09-20 14:36:09,357 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 14:36:09,358 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:36:09,359 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:36:09,360 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@284829d7, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e1745e, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a5f633c, org.springframework.security.web.header.HeaderWriterFilter@7c27ca44, org.springframework.security.web.authentication.logout.LogoutFilter@7515f25f, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@a0f1c351, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e78dbf7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c6a3ab5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f0cc33fb, org.springframework.security.web.session.SessionManagementFilter@45cd3aeb, org.springframework.security.web.access.ExceptionTranslationFilter@2ea22c56, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c9a227f4]
2018-09-20 14:36:10,048 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 14:36:10,051 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:36:10,052 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:36:10,096 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14797445, org.springframework.security.web.context.SecurityContextPersistenceFilter@c6d49e83, org.springframework.security.web.header.HeaderWriterFilter@62ca7edf, org.springframework.security.web.csrf.CsrfFilter@860808c8, org.springframework.security.web.authentication.logout.LogoutFilter@ff40d603, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@c9fa8194, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6a7714bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b8efe86, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f712fe4a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49d38cad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f44a2f0b, org.springframework.security.web.session.SessionManagementFilter@45fc2cb6, org.springframework.security.web.access.ExceptionTranslationFilter@20035df0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d56ae5d1]
2018-09-20 14:36:10,102 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 14:36:10,316 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:36:10,723 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ae286bfa: startup date [Thu Sep 20 14:35:56 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@f06d6c41
2018-09-20 14:36:10,779 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 14:36:10,840 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 14:36:10,841 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 14:36:10,949 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:36:10,949 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:36:11,836 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 14:36:11,869 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 14:36:11,870 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 14:36:11,872 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 14:36:12,080 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 14:36:12,084 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 14:36:12,105 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 14:36:12,108 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 14:36:12,111 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 14:36:12,114 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 14:36:12,131 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 14:36:12,154 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=ae286bfa,type=ConfigurationPropertiesRebinder]
2018-09-20 14:36:12,169 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 14:36:12,254 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 14:36:12,260 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 17.634 seconds (JVM running for 19.853)
2018-09-20 14:38:05,544 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@46aa000b: startup date [Thu Sep 20 14:38:05 CST 2018]; root of context hierarchy
2018-09-20 14:38:06,032 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$61cd49f3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:38:06,475 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 14:38:06,498 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c0e9d545: startup date [Thu Sep 20 14:38:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@46aa000b
2018-09-20 14:38:07,626 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 14:38:08,510 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 14:38:09,078 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 14:38:09,369 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$45b346f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:38:09,442 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$61cd49f3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 14:38:10,145 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 14:38:10,455 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3957 ms
2018-09-20 14:38:10,620 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 14:38:11,855 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 14:38:11,855 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 14:38:11,855 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 14:38:11,855 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 14:38:11,856 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 14:38:11,857 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 14:38:11,857 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 14:38:11,857 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 14:38:12,003 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 14:38:12,174 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 14:38:12,236 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 14:38:12,252 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 14:38:12,362 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 14:38:12,366 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 14:38:12,419 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 14:38:12,556 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 14:38:12,863 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 14:38:13,229 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 14:38:13,388 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c0e9d545: startup date [Thu Sep 20 14:38:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@46aa000b
2018-09-20 14:38:13,403 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 14:38:13,406 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 14:38:13,407 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 14:38:13,408 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 14:38:13,409 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 14:38:13,409 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 14:38:13,410 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 14:38:13,410 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 14:38:13,411 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 14:38:13,411 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 14:38:13,412 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 14:38:13,412 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 14:38:13,418 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 14:38:13,419 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 14:38:13,561 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 14:38:13,729 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$47939cac@af3ad166}
2018-09-20 14:38:13,758 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 14:38:13,776 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/webjars/**'], []
2018-09-20 14:38:13,776 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/images/**'], []
2018-09-20 14:38:13,776 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/uncache_approvals'], []
2018-09-20 14:38:13,776 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/cache_approvals'], []
2018-09-20 14:38:16,497 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 14:38:16,500 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 14:38:16,500 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 14:38:16,516 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:38:16,518 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:38:16,540 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d5f78951, org.springframework.security.web.context.SecurityContextPersistenceFilter@53c9cd85, org.springframework.security.web.header.HeaderWriterFilter@a1ac7a4e, org.springframework.security.web.authentication.logout.LogoutFilter@fe82f647, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@1cc9655b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@305fd262, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@99a4a8ca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d3b64ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@efe76896, org.springframework.security.web.session.SessionManagementFilter@de81cf0a, org.springframework.security.web.access.ExceptionTranslationFilter@818d5e5f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d5430706]
2018-09-20 14:38:17,359 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 14:38:17,363 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:38:17,364 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:38:17,365 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7fdfa23a, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6946c842, org.springframework.security.web.context.SecurityContextPersistenceFilter@5572c0ba, org.springframework.security.web.header.HeaderWriterFilter@df33b9d1, org.springframework.security.web.authentication.logout.LogoutFilter@dbb92540, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@3f16aa1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c0872315, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c8a0cea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52ca1636, org.springframework.security.web.session.SessionManagementFilter@6143bb56, org.springframework.security.web.access.ExceptionTranslationFilter@6304316e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33d67eaa]
2018-09-20 14:38:17,969 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 14:38:17,973 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:38:17,975 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 14:38:18,013 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6896ba6a, org.springframework.security.web.context.SecurityContextPersistenceFilter@c0701703, org.springframework.security.web.header.HeaderWriterFilter@4f741dee, org.springframework.security.web.csrf.CsrfFilter@d0887244, org.springframework.security.web.authentication.logout.LogoutFilter@99e0541a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@a5fa8a59, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@bd6018dc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@b512388b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@790621b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@90900d30, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ffdf9f5e, org.springframework.security.web.session.SessionManagementFilter@35695c01, org.springframework.security.web.access.ExceptionTranslationFilter@2ea9b09, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d6b5c6e]
2018-09-20 14:38:18,019 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 14:38:18,214 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:38:18,586 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c0e9d545: startup date [Thu Sep 20 14:38:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@46aa000b
2018-09-20 14:38:18,643 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 14:38:18,703 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 14:38:18,704 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 14:38:18,774 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:38:18,775 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 14:38:19,634 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 14:38:19,655 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 14:38:19,656 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 14:38:19,658 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 14:38:19,880 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 14:38:19,886 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 14:38:19,905 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 14:38:19,907 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 14:38:19,911 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 14:38:19,916 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 14:38:19,930 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 14:38:19,948 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=c0e9d545,type=ConfigurationPropertiesRebinder]
2018-09-20 14:38:19,959 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 14:38:20,047 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 14:38:20,054 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 15.268 seconds (JVM running for 17.333)
2018-09-20 16:57:34,460 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@7f9317b7: startup date [Thu Sep 20 16:57:34 CST 2018]; root of context hierarchy
2018-09-20 16:57:34,982 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9c2862b5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 16:57:35,413 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 16:57:35,439 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@a36c0e57: startup date [Thu Sep 20 16:57:35 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@7f9317b7
2018-09-20 16:57:36,602 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 16:57:37,591 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 16:57:38,206 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 16:57:38,541 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$800e5fb8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 16:57:38,616 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9c2862b5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 16:57:39,376 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 16:57:39,677 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4238 ms
2018-09-20 16:57:39,865 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 16:57:41,142 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 16:57:41,143 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 16:57:41,143 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 16:57:41,143 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 16:57:41,143 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 16:57:41,145 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 16:57:41,145 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 16:57:41,145 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 16:57:41,295 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 16:57:41,480 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 16:57:41,546 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 16:57:41,563 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 16:57:41,680 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 16:57:41,683 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 16:57:41,736 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 16:57:41,907 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 16:57:42,183 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 16:57:42,536 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 16:57:42,691 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@a36c0e57: startup date [Thu Sep 20 16:57:35 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@7f9317b7
2018-09-20 16:57:42,704 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 16:57:42,707 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 16:57:42,708 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 16:57:42,709 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 16:57:42,709 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 16:57:42,710 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 16:57:42,710 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 16:57:42,710 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 16:57:42,711 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 16:57:42,711 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 16:57:42,712 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 16:57:42,712 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 16:57:42,718 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 16:57:42,719 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 16:57:42,904 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 16:57:43,034 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$81eeb56e@12b06d85}
2018-09-20 16:57:43,064 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 16:57:43,085 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/webjars/**'], []
2018-09-20 16:57:43,085 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/images/**'], []
2018-09-20 16:57:43,085 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/uncache_approvals'], []
2018-09-20 16:57:43,085 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/cache_approvals'], []
2018-09-20 16:57:45,929 microservice-oauth2-server [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer@b50bafcb to already built object
2018-09-20 16:57:45,935 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 16:57:45,946 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 16:57:45,961 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 16:57:46,014 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-20 16:57:46,026 microservice-oauth2-server [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer@b50bafcb to already built object
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$118.000000001126A080.getObject(Unknown Source) ~[?:?]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication.main(MicroserviceOauth2ServerApplication.java:10) [classes/:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer@b50bafcb to already built object
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
Caused by: java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer@b50bafcb to already built object
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.add(AbstractConfiguredSecurityBuilder.java:196) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.apply(AbstractConfiguredSecurityBuilder.java:133) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.getOrApply(HttpSecurity.java:1467) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.formLogin(HttpSecurity.java:897) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.CustomDSL.configure(CustomDSL.java:13) ~[classes/:?]
	at com.github.sawied.microservice.oauth2.security.CustomDSL.configure(CustomDSL.java:1) ~[classes/:?]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:384) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:330) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:292) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:79) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:334) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$273f8cab.CGLIB$springSecurityFilterChain$1(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$273f8cab$$FastClassBySpringCGLIB$$d2d8c04f.invoke(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:365) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$273f8cab.springSecurityFilterChain(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
2018-09-20 18:35:02,206 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@a47c77eb: startup date [Thu Sep 20 18:35:02 CST 2018]; root of context hierarchy
2018-09-20 18:35:02,717 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9d4bd487] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:35:03,149 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 18:35:03,188 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b6aca62d: startup date [Thu Sep 20 18:35:03 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a47c77eb
2018-09-20 18:35:04,289 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 18:35:05,191 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 18:35:05,761 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 18:35:06,070 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8131d18a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:35:06,141 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9d4bd487] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:35:06,871 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 18:35:07,157 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3969 ms
2018-09-20 18:35:07,313 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 18:35:08,539 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 18:35:08,540 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 18:35:08,540 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 18:35:08,540 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 18:35:08,540 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 18:35:08,542 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 18:35:08,542 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 18:35:08,542 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 18:35:08,691 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 18:35:08,868 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 18:35:08,932 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 18:35:08,951 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 18:35:09,080 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 18:35:09,082 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 18:35:09,149 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 18:35:09,287 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 18:35:09,560 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 18:35:09,930 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 18:35:10,088 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b6aca62d: startup date [Thu Sep 20 18:35:03 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a47c77eb
2018-09-20 18:35:10,102 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 18:35:10,104 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 18:35:10,105 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 18:35:10,106 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 18:35:10,107 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 18:35:10,107 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 18:35:10,108 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 18:35:10,108 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 18:35:10,108 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 18:35:10,109 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 18:35:10,109 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 18:35:10,109 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 18:35:10,117 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 18:35:10,117 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 18:35:15,224 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 18:41:05,507 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$83122740@fda1996d}
2018-09-20 18:41:05,555 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 18:41:05,582 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/webjars/**'], []
2018-09-20 18:41:05,582 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/images/**'], []
2018-09-20 18:41:05,582 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/uncache_approvals'], []
2018-09-20 18:41:05,583 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/cache_approvals'], []
2018-09-20 18:41:07,401 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 18:41:07,405 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 18:41:07,405 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 18:41:07,454 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:41:07,456 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:41:07,476 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8fc64afe, org.springframework.security.web.context.SecurityContextPersistenceFilter@3600b6bc, org.springframework.security.web.header.HeaderWriterFilter@bb690611, org.springframework.security.web.authentication.logout.LogoutFilter@3e41b827, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@f8515128, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@42a10ffc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f2b7523, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@90d4f0f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d06b4782, org.springframework.security.web.session.SessionManagementFilter@22a2ab69, org.springframework.security.web.access.ExceptionTranslationFilter@200644f8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29a2cb55]
2018-09-20 18:41:08,163 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 18:41:08,165 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:41:08,166 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:41:08,166 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@148b2669, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33bc99ed, org.springframework.security.web.context.SecurityContextPersistenceFilter@ef708ab1, org.springframework.security.web.header.HeaderWriterFilter@e7654714, org.springframework.security.web.authentication.logout.LogoutFilter@7c20e4ea, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@11661359, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fc4dd55c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b16c9eab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1354c961, org.springframework.security.web.session.SessionManagementFilter@21b9c25b, org.springframework.security.web.access.ExceptionTranslationFilter@349515d4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5fa78ce9]
2018-09-20 18:41:08,816 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 18:41:08,820 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:41:08,822 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:41:08,860 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c42ebd56, org.springframework.security.web.context.SecurityContextPersistenceFilter@f6cb8700, org.springframework.security.web.header.HeaderWriterFilter@e759fc7a, org.springframework.security.web.csrf.CsrfFilter@24b88010, org.springframework.security.web.authentication.logout.LogoutFilter@180a316f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@aef66cda, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@c36cee0d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2fc77423, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b65aa7ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@af61e3ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cd449b, org.springframework.security.web.session.SessionManagementFilter@44805af7, org.springframework.security.web.access.ExceptionTranslationFilter@7b4bc317, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d5d6f9c]
2018-09-20 18:41:08,865 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 18:41:09,092 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 18:41:09,449 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b6aca62d: startup date [Thu Sep 20 18:35:03 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a47c77eb
2018-09-20 18:41:09,501 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 18:41:09,561 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 18:41:09,562 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 18:41:09,638 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 18:41:09,638 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 18:41:10,528 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 18:41:10,553 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 18:41:10,554 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 18:41:10,556 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 18:41:10,751 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 18:41:10,757 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 18:41:10,779 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 18:41:10,781 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 18:41:10,785 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 18:41:10,790 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 18:41:10,808 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 18:41:10,829 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=b6aca62d,type=ConfigurationPropertiesRebinder]
2018-09-20 18:41:10,843 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 18:41:10,963 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 18:41:10,971 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 369.498 seconds (JVM running for 371.693)
2018-09-20 18:43:00,115 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@499df220: startup date [Thu Sep 20 18:43:00 CST 2018]; root of context hierarchy
2018-09-20 18:43:00,618 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$fac12769] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:43:01,078 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 18:43:01,113 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f2c2d25a: startup date [Thu Sep 20 18:43:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@499df220
2018-09-20 18:43:02,365 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 18:43:03,293 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 18:43:03,931 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 18:43:04,246 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dea7246c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:43:04,320 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$fac12769] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:43:05,063 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 18:43:05,386 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4273 ms
2018-09-20 18:43:05,535 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 18:43:06,778 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 18:43:06,778 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 18:43:06,778 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 18:43:06,778 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 18:43:06,778 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 18:43:06,780 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 18:43:06,780 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 18:43:06,780 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 18:43:06,940 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 18:43:07,115 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 18:43:07,181 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 18:43:07,196 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 18:43:07,311 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 18:43:07,313 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 18:43:07,366 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 18:43:07,506 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 18:43:07,812 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 18:43:08,170 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 18:43:08,340 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f2c2d25a: startup date [Thu Sep 20 18:43:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@499df220
2018-09-20 18:43:08,352 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 18:43:08,355 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 18:43:08,357 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 18:43:08,358 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 18:43:08,359 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 18:43:08,360 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 18:43:08,360 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 18:43:08,360 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 18:43:08,361 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 18:43:08,361 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 18:43:08,362 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 18:43:08,362 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 18:43:08,369 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 18:43:08,369 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 18:43:21,552 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 18:47:27,212 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$e0877a22@30f2b358}
2018-09-20 18:47:27,254 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 18:47:27,288 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/webjars/**'], []
2018-09-20 18:47:27,288 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/images/**'], []
2018-09-20 18:47:27,289 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/uncache_approvals'], []
2018-09-20 18:47:27,289 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: Ant [pattern='/oauth/cache_approvals'], []
2018-09-20 18:47:27,522 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 18:47:27,527 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 18:47:27,527 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 18:47:27,539 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:47:27,541 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:47:27,564 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ef59beeb, org.springframework.security.web.context.SecurityContextPersistenceFilter@bdef5719, org.springframework.security.web.header.HeaderWriterFilter@7abb2207, org.springframework.security.web.authentication.logout.LogoutFilter@e0ffd15d, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@7c4358f3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3781d4d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2421333c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9b82056d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ff20c9e3, org.springframework.security.web.session.SessionManagementFilter@a8f51320, org.springframework.security.web.access.ExceptionTranslationFilter@78ae7269, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@854c84b6]
2018-09-20 18:47:27,591 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 18:47:27,593 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:47:27,593 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:47:27,594 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@c970be06, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@bcdeb574, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e9b3069, org.springframework.security.web.header.HeaderWriterFilter@31a143dc, org.springframework.security.web.authentication.logout.LogoutFilter@f4a6a4cc, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@72c47287, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@82f73937, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c05d3376, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3bca45b5, org.springframework.security.web.session.SessionManagementFilter@7820339b, org.springframework.security.web.access.ExceptionTranslationFilter@f3f71eb7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4d97ccc8]
2018-09-20 18:47:27,623 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 18:47:27,624 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:47:27,625 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:47:27,638 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e2b362aa, org.springframework.security.web.context.SecurityContextPersistenceFilter@a6445b7e, org.springframework.security.web.header.HeaderWriterFilter@1f6fd77b, org.springframework.security.web.csrf.CsrfFilter@fadde59c, org.springframework.security.web.authentication.logout.LogoutFilter@8194d396, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@428f3d2b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@630e208f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@bb7a63af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63f07328, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51d486f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@96148636, org.springframework.security.web.session.SessionManagementFilter@9cba1254, org.springframework.security.web.access.ExceptionTranslationFilter@59a5fc33, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ec3f9fb6]
2018-09-20 18:47:27,641 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 18:47:27,845 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 18:47:28,188 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f2c2d25a: startup date [Thu Sep 20 18:43:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@499df220
2018-09-20 18:47:28,245 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 18:47:28,298 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 18:47:28,299 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 18:47:28,397 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 18:47:28,397 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 18:47:29,264 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 18:47:29,289 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 18:47:29,289 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 18:47:29,291 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 18:47:29,499 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 18:47:29,503 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 18:47:29,524 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 18:47:29,527 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 18:47:29,532 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 18:47:29,537 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 18:47:29,550 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 18:47:29,583 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=f2c2d25a,type=ConfigurationPropertiesRebinder]
2018-09-20 18:47:29,599 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 18:47:29,737 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 18:47:29,743 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 270.411 seconds (JVM running for 272.674)
2018-09-20 18:56:00,400 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@165751e: startup date [Thu Sep 20 18:56:00 CST 2018]; root of context hierarchy
2018-09-20 18:56:00,919 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$cef24207] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:56:01,365 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 18:56:01,398 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@686470a3: startup date [Thu Sep 20 18:56:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@165751e
2018-09-20 18:56:02,507 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 18:56:03,483 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 18:56:04,057 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a4261696-b444-3688-8754-a23117e834a8
2018-09-20 18:56:04,351 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b2d83f0a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:56:04,419 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$cef24207] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:56:05,146 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 18:56:05,449 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4050 ms
2018-09-20 18:56:05,602 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 18:56:06,856 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 18:56:06,856 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 18:56:06,856 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 18:56:06,856 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 18:56:06,856 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 18:56:06,858 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 18:56:06,858 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 18:56:06,858 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 18:56:07,005 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 18:56:07,180 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 18:56:07,241 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 18:56:07,255 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 18:56:07,364 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 18:56:07,367 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 18:56:07,453 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 18:56:07,595 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 18:56:07,861 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 18:56:08,215 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 18:56:10,829 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@686470a3: startup date [Thu Sep 20 18:56:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@165751e
2018-09-20 18:56:10,842 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 18:56:10,845 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 18:56:10,846 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 18:56:10,848 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 18:56:10,848 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 18:56:10,849 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 18:56:10,850 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 18:56:10,850 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 18:56:10,850 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 18:56:10,851 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 18:56:10,851 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 18:56:10,852 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 18:56:10,861 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 18:56:10,861 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 18:56:11,634 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 18:56:13,076 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$b4b894c0@849fedd8}
2018-09-20 18:56:13,126 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-20 18:56:13,338 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 18:56:13,342 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 18:56:13,342 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 18:56:13,354 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:56:13,356 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:56:13,380 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e25127e, org.springframework.security.web.context.SecurityContextPersistenceFilter@db787337, org.springframework.security.web.header.HeaderWriterFilter@7e9bd4e6, org.springframework.security.web.authentication.logout.LogoutFilter@149910fe, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@ac3baca3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c800c4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6838e5d4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9b82ad4b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e0cdae1d, org.springframework.security.web.session.SessionManagementFilter@d8ed0149, org.springframework.security.web.access.ExceptionTranslationFilter@2b71af27, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@13b21867]
2018-09-20 18:56:13,404 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 18:56:13,405 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:56:13,405 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:56:13,406 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@ccc491fc, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@991b8ea4, org.springframework.security.web.context.SecurityContextPersistenceFilter@e9f17f86, org.springframework.security.web.header.HeaderWriterFilter@203fbd5f, org.springframework.security.web.authentication.logout.LogoutFilter@6931be09, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@ee0b046b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ba754107, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d80140f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@518474b0, org.springframework.security.web.session.SessionManagementFilter@8cce5132, org.springframework.security.web.access.ExceptionTranslationFilter@bacca96, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d2b7c956]
2018-09-20 18:56:13,439 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 18:56:13,440 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:56:13,440 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 18:56:13,454 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9ed2b2e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@865b01d1, org.springframework.security.web.header.HeaderWriterFilter@62673658, org.springframework.security.web.csrf.CsrfFilter@be9809d1, org.springframework.security.web.authentication.logout.LogoutFilter@3c4d94a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2a4d695a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@63ef3dbe, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2ee68692, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d4b1be8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cd5dc7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e4ab8d6b, org.springframework.security.web.session.SessionManagementFilter@babf661f, org.springframework.security.web.access.ExceptionTranslationFilter@60bf3b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5674e3ac]
2018-09-20 18:56:13,458 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-20 18:56:13,665 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 18:56:13,996 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@686470a3: startup date [Thu Sep 20 18:56:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@165751e
2018-09-20 18:56:14,049 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 18:56:14,102 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 18:56:14,103 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 18:56:14,159 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 18:56:14,159 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 18:56:15,014 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 18:56:15,036 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 18:56:15,036 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 18:56:15,038 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 18:56:15,271 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 18:56:15,274 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 18:56:15,289 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 18:56:15,291 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 18:56:15,293 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 18:56:15,297 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 18:56:15,309 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 18:56:15,326 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=686470a3,type=ConfigurationPropertiesRebinder]
2018-09-20 18:56:15,338 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 18:56:15,408 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 18:56:15,414 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 15.75 seconds (JVM running for 17.95)
2018-09-20 18:58:44,183 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ba3ee777: startup date [Thu Sep 20 18:58:44 CST 2018]; root of context hierarchy
2018-09-20 18:58:44,709 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2b462a36] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:58:45,148 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 18:58:45,175 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@30fff4d0: startup date [Thu Sep 20 18:58:45 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ba3ee777
2018-09-20 18:58:46,301 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 18:58:47,209 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 18:58:47,842 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a10db05f-93b9-3649-b189-7c6ce16337bf
2018-09-20 18:58:48,145 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f2c2739] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:58:48,221 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2b462a36] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 18:58:48,936 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 18:58:49,252 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4077 ms
2018-09-20 18:58:49,410 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 18:58:50,652 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 18:58:50,652 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 18:58:50,652 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 18:58:50,652 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 18:58:50,652 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 18:58:50,654 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 18:58:50,654 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 18:58:50,654 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 18:58:50,799 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 18:58:50,971 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 18:58:51,032 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 18:58:51,048 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 18:58:51,164 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 18:58:51,167 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 18:58:51,221 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 18:58:51,385 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 18:58:51,660 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 18:58:51,693 microservice-oauth2-server [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'oauth2ServerConfig': Unsatisfied dependency expressed through field 'authenticationManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.authentication.AuthenticationManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2018-09-20 18:58:51,693 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 18:58:51,697 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 18:58:51,702 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 18:58:51,735 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-20 18:58:52,095 microservice-oauth2-server [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field authenticationManager in com.github.sawied.microservice.oauth2.config.Oauth2ServerConfig required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.

2018-09-20 19:00:28,401 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@850d9142: startup date [Thu Sep 20 19:00:28 CST 2018]; root of context hierarchy
2018-09-20 19:00:28,898 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a18927ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:00:29,333 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 19:00:29,358 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@647401d6: startup date [Thu Sep 20 19:00:29 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@850d9142
2018-09-20 19:00:30,472 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 19:00:31,405 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 19:00:31,985 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=73ae8854-7e8b-3436-ad6e-e86fab8b2cbc
2018-09-20 19:00:32,285 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$856f2502] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:00:32,356 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a18927ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:00:33,121 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 19:00:33,421 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4063 ms
2018-09-20 19:00:33,560 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 19:00:34,800 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 19:00:34,800 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 19:00:34,800 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 19:00:34,800 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 19:00:34,801 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 19:00:34,802 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 19:00:34,802 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 19:00:34,802 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 19:00:34,950 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 19:00:35,122 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 19:00:35,181 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 19:00:35,201 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 19:00:35,315 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 19:00:35,318 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 19:00:35,373 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 19:00:35,510 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 19:00:35,783 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 19:00:36,055 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 19:00:41,247 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@647401d6: startup date [Thu Sep 20 19:00:29 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@850d9142
2018-09-20 19:00:41,260 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 19:00:41,263 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 19:00:41,264 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 19:00:41,265 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 19:00:41,266 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 19:00:41,266 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 19:00:41,267 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 19:00:41,267 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 19:00:41,268 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 19:00:41,269 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 19:00:41,270 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 19:00:41,270 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 19:00:41,278 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 19:00:41,279 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 19:00:43,373 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 19:00:46,772 microservice-oauth2-server [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@70e1a3c6 to already built object
2018-09-20 19:00:46,778 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 19:00:46,804 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 19:00:46,820 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 19:00:46,884 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-20 19:00:46,898 microservice-oauth2-server [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@70e1a3c6 to already built object
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$118.0000000011237F40.getObject(Unknown Source) ~[?:?]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication.main(MicroserviceOauth2ServerApplication.java:10) [classes/:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@70e1a3c6 to already built object
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
Caused by: java.lang.IllegalStateException: Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@70e1a3c6 to already built object
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.add(AbstractConfiguredSecurityBuilder.java:196) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.apply(AbstractConfiguredSecurityBuilder.java:147) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:116) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.authenticationManager(WebSecurityConfigurerAdapter.java:268) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:201) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:321) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:92) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$$EnhancerBySpringCGLIB$$31e8d07b.init(<generated>) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:371) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:325) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$2ca051f5.CGLIB$springSecurityFilterChain$1(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$2ca051f5$$FastClassBySpringCGLIB$$35eece76.invoke(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:365) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$2ca051f5.springSecurityFilterChain(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
2018-09-20 19:02:19,664 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@b022a531: startup date [Thu Sep 20 19:02:19 CST 2018]; root of context hierarchy
2018-09-20 19:02:20,178 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$47d93c37] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:02:20,619 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 19:02:20,649 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ef75eb75: startup date [Thu Sep 20 19:02:20 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@b022a531
2018-09-20 19:02:21,795 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 19:02:22,751 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 19:02:23,339 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=73ae8854-7e8b-3436-ad6e-e86fab8b2cbc
2018-09-20 19:02:23,650 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2bbf393a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:02:23,723 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$47d93c37] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:02:24,455 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 19:02:24,759 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4110 ms
2018-09-20 19:02:24,932 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 19:02:26,145 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 19:02:26,145 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 19:02:26,145 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 19:02:26,145 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 19:02:26,145 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 19:02:26,147 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 19:02:26,147 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 19:02:26,147 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 19:02:26,325 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 19:02:26,497 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 19:02:26,559 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 19:02:26,574 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 19:02:26,682 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 19:02:26,686 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 19:02:26,738 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 19:02:26,874 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 19:02:27,153 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 19:15:49,446 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@df91e0ee: startup date [Thu Sep 20 19:15:49 CST 2018]; root of context hierarchy
2018-09-20 19:15:49,955 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5a663b1b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:15:50,387 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 19:15:50,415 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4e0bee11: startup date [Thu Sep 20 19:15:50 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@df91e0ee
2018-09-20 19:15:51,562 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 19:15:52,498 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 19:15:53,088 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a0f0319a-8c9f-396f-a581-852cb79fa093
2018-09-20 19:15:53,402 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3e4c381e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:15:53,474 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5a663b1b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:15:54,233 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 19:15:54,562 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4148 ms
2018-09-20 19:15:54,712 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 19:15:55,956 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 19:15:55,957 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 19:15:55,957 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 19:15:55,957 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 19:15:55,957 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 19:15:55,959 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 19:15:55,959 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 19:15:55,959 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 19:15:56,109 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 19:15:56,279 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 19:15:56,348 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 19:15:56,364 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 19:15:56,482 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 19:15:56,484 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 19:15:56,539 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 19:15:56,703 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 19:15:56,983 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 19:15:57,069 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 19:16:00,682 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4e0bee11: startup date [Thu Sep 20 19:15:50 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@df91e0ee
2018-09-20 19:16:00,697 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 19:16:00,700 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 19:16:00,701 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 19:16:00,702 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 19:16:00,703 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 19:16:00,703 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 19:16:00,704 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 19:16:00,704 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 19:16:00,707 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 19:16:00,707 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 19:16:00,708 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 19:16:00,709 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 19:16:00,718 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 19:16:00,718 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 19:16:02,329 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 19:16:02,710 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4e0bee11: startup date [Thu Sep 20 19:15:50 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@df91e0ee
2018-09-20 19:16:02,766 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 19:16:02,829 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 19:16:02,830 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 19:16:02,884 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 19:16:02,885 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 19:16:03,809 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 19:16:07,321 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration$$EnhancerBySpringCGLIB$$5bdb6253@aa269414}
2018-09-20 19:16:07,567 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 19:16:07,571 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 19:16:07,571 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 19:16:07,590 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 19:16:07,592 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 19:16:07,625 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b74ce18b, org.springframework.security.web.context.SecurityContextPersistenceFilter@dfc44a19, org.springframework.security.web.header.HeaderWriterFilter@f4a906df, org.springframework.security.web.authentication.logout.LogoutFilter@ae378a5f, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@f76798a6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@8a21c626, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ad2702f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1de925ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d1308ede, org.springframework.security.web.session.SessionManagementFilter@76609d38, org.springframework.security.web.access.ExceptionTranslationFilter@fd951ccc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b064fbd]
2018-09-20 19:16:07,658 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 19:16:07,659 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 19:16:07,660 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 19:16:07,660 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@290f39fe, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f5b174a, org.springframework.security.web.context.SecurityContextPersistenceFilter@1aa86020, org.springframework.security.web.header.HeaderWriterFilter@1ec45219, org.springframework.security.web.authentication.logout.LogoutFilter@3b24931c, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@bc9348dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@85274fa4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@872e208e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a159064, org.springframework.security.web.session.SessionManagementFilter@b24bb9b, org.springframework.security.web.access.ExceptionTranslationFilter@3be13689, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ff90fe5]
2018-09-20 19:16:07,715 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 19:16:07,742 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 19:16:07,742 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 19:16:07,743 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 19:16:07,941 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 19:16:07,944 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 19:16:07,962 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 19:16:07,964 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 19:16:07,968 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 19:16:07,972 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 19:16:07,986 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 19:16:08,004 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=4e0bee11,type=ConfigurationPropertiesRebinder]
2018-09-20 19:16:08,016 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 19:16:08,102 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 19:16:08,107 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 19.418 seconds (JVM running for 21.687)
2018-09-20 19:16:46,820 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 19:16:46,849 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 29 ms
2018-09-20 19:16:46,866 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 19:16:46,869 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 19:16:46,879 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 19:16:46,879 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 19:16:46,880 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 19:16:46,881 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 19:16:46,882 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 19:16:46,883 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 19:16:46,885 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 19:16:46,885 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 19:16:46,885 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 19:16:46,885 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 19:16:46,886 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 19:16:46,886 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 19:16:46,886 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 19:16:46,886 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 19:16:46,886 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 19:16:46,886 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 19:16:46,886 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 19:16:46,887 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 19:16:49,276 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 19:16:49,281 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 19:16:49,827 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 19:16:49,827 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 19:16:49,828 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 19:16:49,831 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 19:16:49,831 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-20 19:16:49,831 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 19:16:49,831 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@75a08db
2018-09-20 19:16:49,832 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 19:16:49,832 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 19:16:49,833 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 19:16:49,833 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 19:16:49,833 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 19:16:49,839 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@700ce790, returned: 1
2018-09-20 19:16:49,839 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 19:16:49,839 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 19:16:49,839 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 19:16:49,868 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 19:16:49,869 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 19:16:51,267 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: UnsupportedGrantTypeException, Unsupported grant type: password
org.springframework.security.oauth2.common.exceptions.UnsupportedGrantTypeException: Unsupported grant type: password
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:134) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-20 19:16:51,353 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@abd78f4
2018-09-20 19:16:51,359 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [error="unsupported_grant_type", error_description="Unsupported grant type: password"]
2018-09-20 19:16:51,368 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 19:16:51,369 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 19:41:38,077 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-20 19:41:38,078 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4e0bee11: startup date [Thu Sep 20 19:15:50 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@df91e0ee
2018-09-20 19:41:38,107 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-20 19:41:38,109 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-20 19:41:38,119 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 19:41:38,128 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-20 19:41:38,138 microservice-oauth2-server [RMI TCP Connection(2)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-20 19:41:47,565 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@691b9883: startup date [Thu Sep 20 19:41:47 CST 2018]; root of context hierarchy
2018-09-20 19:41:48,055 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$34f8aa6d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:41:48,494 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-20 19:41:48,521 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@988e8949: startup date [Thu Sep 20 19:41:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@691b9883
2018-09-20 19:41:49,633 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-20 19:41:50,598 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-20 19:41:51,203 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=a0f0319a-8c9f-396f-a581-852cb79fa093
2018-09-20 19:41:51,517 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18dea770] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:41:51,587 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$34f8aa6d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-20 19:41:52,302 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-20 19:41:52,605 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4084 ms
2018-09-20 19:41:52,755 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-20 19:41:53,996 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-20 19:41:53,996 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-20 19:41:53,996 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-20 19:41:53,996 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-20 19:41:53,997 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-20 19:41:53,998 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-20 19:41:53,998 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-20 19:41:53,998 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-20 19:41:54,146 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-20 19:41:54,319 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-20 19:41:54,381 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-20 19:41:54,395 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-20 19:41:54,508 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-20 19:41:54,511 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-20 19:41:54,563 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-20 19:41:54,697 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-20 19:41:55,003 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-20 19:41:55,088 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-20 19:41:57,543 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@988e8949: startup date [Thu Sep 20 19:41:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@691b9883
2018-09-20 19:41:57,555 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-20 19:41:57,558 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 19:41:57,559 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-20 19:41:57,560 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-20 19:41:57,561 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 19:41:57,562 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-20 19:41:57,562 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-20 19:41:57,563 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-20 19:41:57,564 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-20 19:41:57,564 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-20 19:41:57,565 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-20 19:41:57,565 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-20 19:41:57,575 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-20 19:41:57,576 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-20 19:41:59,107 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 19:41:59,512 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@988e8949: startup date [Thu Sep 20 19:41:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@691b9883
2018-09-20 19:41:59,576 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-20 19:41:59,630 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 19:41:59,631 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-20 19:41:59,688 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 19:41:59,688 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-20 19:42:00,586 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-20 19:42:09,203 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration$$EnhancerBySpringCGLIB$$366dd1a5@881badf8}
2018-09-20 19:42:09,454 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-20 19:42:09,457 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-20 19:42:09,457 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-20 19:42:09,468 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 19:42:09,469 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 19:42:09,488 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71fde05a, org.springframework.security.web.context.SecurityContextPersistenceFilter@a07b2efe, org.springframework.security.web.header.HeaderWriterFilter@73121d72, org.springframework.security.web.authentication.logout.LogoutFilter@ebb6e499, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@22ac0d28, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@ef3b69fe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@80fc438, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8d37bd6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2189c596, org.springframework.security.web.session.SessionManagementFilter@2199d86a, org.springframework.security.web.access.ExceptionTranslationFilter@bfbe547b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ecd98a09]
2018-09-20 19:42:09,512 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-20 19:42:09,513 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 19:42:09,513 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-20 19:42:09,513 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@fe357ac2, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@752ca3da, org.springframework.security.web.context.SecurityContextPersistenceFilter@c2ebdb63, org.springframework.security.web.header.HeaderWriterFilter@8f223077, org.springframework.security.web.authentication.logout.LogoutFilter@83b6da91, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@cce99bdd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c708bfb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@682b6ee1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ef4e8631, org.springframework.security.web.session.SessionManagementFilter@6091b372, org.springframework.security.web.access.ExceptionTranslationFilter@c667e6da, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a272aae]
2018-09-20 19:42:09,558 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-20 19:42:09,583 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 19:42:09,584 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-20 19:42:09,585 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-20 19:42:09,774 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-20 19:42:09,777 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-20 19:42:09,793 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-20 19:42:09,794 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-20 19:42:09,797 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-20 19:42:09,800 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-20 19:42:09,812 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-20 19:42:09,829 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=988e8949,type=ConfigurationPropertiesRebinder]
2018-09-20 19:42:09,839 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-20 19:42:09,939 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-20 19:42:09,945 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 23.128 seconds (JVM running for 25.357)
2018-09-20 19:42:24,492 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-20 19:42:24,520 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 27 ms
2018-09-20 19:42:24,536 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 19:42:24,538 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 19:42:24,549 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 19:42:24,549 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 19:42:24,549 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 19:42:24,550 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 19:42:24,552 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 19:42:24,552 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 19:42:24,554 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 19:42:24,554 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 19:42:24,554 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 19:42:24,554 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 19:42:24,555 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 19:42:24,555 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 19:42:24,555 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 19:42:24,555 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 19:42:24,555 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 19:42:24,555 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 19:42:24,555 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 19:42:24,556 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 19:42:28,090 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 19:42:28,094 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 19:42:28,490 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 19:42:28,490 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 19:42:28,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 19:42:28,494 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 19:42:28,494 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-20 19:42:28,494 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 19:42:28,494 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4d8f1cef
2018-09-20 19:42:28,495 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 19:42:28,495 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 19:42:28,496 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 19:42:28,496 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 19:42:28,496 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 19:42:28,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@b8e36f13, returned: 1
2018-09-20 19:42:28,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 19:42:28,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 19:42:28,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 19:42:28,511 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 19:42:28,511 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 19:42:30,208 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 19:42:30,208 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 19:42:33,858 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@a96e566c
2018-09-20 19:42:33,874 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 19:42:33,874 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-20 19:43:38,356 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 19:43:38,357 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 19:43:38,359 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-20 19:43:38,359 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 19:43:38,359 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-20 19:43:38,359 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-20 19:43:38,359 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-20 19:43:38,359 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-20 19:43:38,359 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-20 19:43:38,359 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-20 19:43:38,360 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-20 19:43:41,078 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-20 19:43:41,083 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-20 19:43:41,089 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 19:43:41,097 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-20 19:43:41,097 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-20 19:43:41,098 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-20 19:43:41,099 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-20 19:43:41,100 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-20 19:43:41,101 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4d8f1cef
2018-09-20 19:43:41,101 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-20 19:43:41,101 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-20 19:43:41,101 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-20 19:43:41,102 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-20 19:43:41,102 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-20 19:43:41,103 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@b8e36f13, returned: 1
2018-09-20 19:43:41,103 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-20 19:43:41,103 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-20 19:43:41,103 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-20 19:43:41,108 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-20 19:43:41,109 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-20 19:43:48,002 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-20 19:43:48,003 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-20 19:43:56,476 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@a96e566c
2018-09-20 19:43:56,480 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-20 19:43:56,481 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
