2018-09-19 16:42:37,831 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1f4dfe34: startup date [Wed Sep 19 16:42:37 CST 2018]; root of context hierarchy
2018-09-19 16:42:38,351 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2ac49e6d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 16:42:38,798 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 16:42:38,837 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6102286e: startup date [Wed Sep 19 16:42:38 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1f4dfe34
2018-09-19 16:42:39,935 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 16:42:40,797 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 16:42:41,366 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=17acecaf-f51a-334b-9dc9-3a383ceeff25
2018-09-19 16:42:41,666 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$eaa9b70] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 16:42:41,758 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2ac49e6d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 16:42:42,486 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 16:42:42,794 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 3957 ms
2018-09-19 16:42:42,962 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 16:42:44,204 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 16:42:44,205 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 16:42:44,205 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 16:42:44,205 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 16:42:44,205 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 16:42:44,206 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 16:42:44,207 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 16:42:44,207 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 16:42:44,348 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 16:42:44,514 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 16:42:44,593 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 16:42:44,593 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 16:42:44,728 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 16:42:44,731 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 16:42:44,782 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 16:42:44,911 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 16:42:45,193 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 16:42:45,366 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6102286e: startup date [Wed Sep 19 16:42:38 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1f4dfe34
2018-09-19 16:42:45,377 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 16:42:45,380 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 16:42:45,381 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 16:42:45,382 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 16:42:45,383 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 16:42:45,383 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 16:42:45,384 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 16:42:45,384 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 16:42:45,384 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 16:42:45,385 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 16:42:45,387 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 16:42:45,388 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 16:42:45,777 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 16:42:46,152 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6102286e: startup date [Wed Sep 19 16:42:38 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1f4dfe34
2018-09-19 16:42:46,199 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 16:42:46,255 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 16:42:46,255 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 16:42:46,313 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 16:42:46,313 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 16:42:47,211 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 16:42:47,549 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 16:42:47,552 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 16:42:47,552 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 16:42:47,563 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 16:42:47,565 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 16:42:47,584 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8304239b, org.springframework.security.web.context.SecurityContextPersistenceFilter@a9e618fa, org.springframework.security.web.header.HeaderWriterFilter@5b718921, org.springframework.security.web.authentication.logout.LogoutFilter@dc530b4a, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@8b52830c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@301e6ae5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e16c43b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20ecaed7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36e359b1, org.springframework.security.web.session.SessionManagementFilter@d6688bd0, org.springframework.security.web.access.ExceptionTranslationFilter@15270ee6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@168ea8e5]
2018-09-19 16:42:47,638 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 16:42:47,665 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 16:42:47,665 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 16:42:47,666 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 16:42:47,867 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 16:42:47,883 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 16:42:47,883 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 16:42:47,899 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 16:42:47,899 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 16:42:47,899 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 16:42:47,914 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 16:42:47,945 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=6102286e,type=ConfigurationPropertiesRebinder]
2018-09-19 16:42:47,945 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 16:42:48,039 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 16:42:48,039 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 10.968 seconds (JVM running for 13.114)
2018-09-19 16:53:34,385 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 16:53:34,418 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2018-09-19 16:53:34,433 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 16:53:34,433 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 16:53:34,457 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 16:53:34,458 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 16:53:34,458 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 16:53:34,459 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 16:53:34,460 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 16:53:34,461 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 16:53:34,462 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 16:53:34,463 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 16:53:34,463 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 16:53:34,463 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 16:53:34,463 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'POST /logout
2018-09-19 16:53:34,463 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 16:53:34,463 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'PUT /logout
2018-09-19 16:53:34,463 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 16:53:34,463 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'DELETE /logout
2018-09-19 16:53:34,463 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 16:53:34,464 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 16:53:34,464 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 16:53:34,464 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 16:53:34,464 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 16:53:34,465 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 16:53:34,467 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@27e69aac: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-09-19 16:53:34,467 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 16:53:34,467 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 16:53:34,467 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 16:53:34,468 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 16:53:34,469 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 16:53:34,469 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@27e69aac: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-09-19 16:53:34,476 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4da7194, returned: -1
2018-09-19 16:53:34,476 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using Ant [pattern='/**', GET]
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request '/oauth/token' matched by universal pattern '/**'
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=Ant [pattern='/**/favicon.ico']]
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/**/favicon.ico'
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]]
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-19 16:53:34,491 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - All requestMatchers returned true
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - DefaultSavedRequest added to Session: DefaultSavedRequest[http://localhost:8080/oauth/token]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Calling Authentication entry point.
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using OrRequestMatcher [requestMatchers=[RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - text/html .isCompatibleWith */* = true
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = false
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - isEqualTo true
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@d29f2934
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-19 16:53:34,507 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@88ce85a0
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@51994815
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 16:53:34,523 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error has no matching filters
2018-09-19 17:04:03,399 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:04:03,399 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:04:03,400 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:04:03,400 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:04:03,400 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:04:03,401 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:04:03,401 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:04:03,401 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:04:03,401 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:04:03,401 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:04:03,401 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:04:03,402 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:04:03,402 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'POST /logout
2018-09-19 17:04:03,402 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:04:03,402 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:04:03,402 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:04:03,402 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:04:03,402 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:04:03,402 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:04:03,403 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:04:03,403 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:04:03,403 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - pathInfo: both null (property equals)
2018-09-19 17:04:03,403 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - queryString: both null (property equals)
2018-09-19 17:04:03,403 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - requestURI: arg1=/oauth/token; arg2=/oauth/token (property equals)
2018-09-19 17:04:03,403 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - serverPort: arg1=8080; arg2=8080 (property equals)
2018-09-19 17:04:03,404 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - requestURL: arg1=http://localhost:8080/oauth/token; arg2=http://localhost:8080/oauth/token (property equals)
2018-09-19 17:04:03,404 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - scheme: arg1=http; arg2=http (property equals)
2018-09-19 17:04:03,404 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - serverName: arg1=localhost; arg2=localhost (property equals)
2018-09-19 17:04:03,404 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - contextPath: arg1=; arg2= (property equals)
2018-09-19 17:04:03,404 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.DefaultSavedRequest - servletPath: arg1=/oauth/token; arg2=/oauth/token (property equals)
2018-09-19 17:04:03,404 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - Removing DefaultSavedRequest from session if present
2018-09-19 17:04:03,407 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:04:03,407 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:04:03,407 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2823d2a0: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@2cd90: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 7A75BAE98217DEBB4FD7BF8504489A20; Granted Authorities: ROLE_ANONYMOUS'
2018-09-19 17:04:03,408 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:04:03,408 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:04:03,408 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:04:03,409 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:04:03,409 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:04:03,409 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2823d2a0: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@2cd90: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 7A75BAE98217DEBB4FD7BF8504489A20; Granted Authorities: ROLE_ANONYMOUS
2018-09-19 17:04:03,410 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4da7194, returned: -1
2018-09-19 17:04:03,410 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 17:04:03,415 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using Ant [pattern='/**', GET]
2018-09-19 17:04:03,415 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request '/oauth/token' matched by universal pattern '/**'
2018-09-19 17:04:03,415 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=Ant [pattern='/**/favicon.ico']]
2018-09-19 17:04:03,415 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/**/favicon.ico'
2018-09-19 17:04:03,416 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-19 17:04:03,416 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]]
2018-09-19 17:04:03,417 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-19 17:04:03,418 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-19 17:04:03,419 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-19 17:04:03,419 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-19 17:04:03,419 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-19 17:04:03,419 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]]
2018-09-19 17:04:03,419 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = true
2018-09-19 17:04:03,420 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - All requestMatchers returned true
2018-09-19 17:04:03,421 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.savedrequest.HttpSessionRequestCache - DefaultSavedRequest added to Session: DefaultSavedRequest[http://localhost:8080/oauth/token]
2018-09-19 17:04:03,421 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Calling Authentication entry point.
2018-09-19 17:04:03,422 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]
2018-09-19 17:04:03,422 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-19 17:04:03,422 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-19 17:04:03,422 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Ignoring
2018-09-19 17:04:03,422 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Did not match any media types
2018-09-19 17:04:03,423 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using OrRequestMatcher [requestMatchers=[RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]]
2018-09-19 17:04:03,423 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-19 17:04:03,423 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using AndRequestMatcher [requestMatchers=[NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]]
2018-09-19 17:04:03,425 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Trying to match using NegatedRequestMatcher [requestMatcher=MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]]
2018-09-19 17:04:03,426 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-19 17:04:03,427 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-19 17:04:03,427 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - text/html .isCompatibleWith */* = true
2018-09-19 17:04:03,427 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.NegatedRequestMatcher - matches = false
2018-09-19 17:04:03,427 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AndRequestMatcher - Did not match
2018-09-19 17:04:03,427 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@27ed79e6, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]
2018-09-19 17:04:03,428 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - httpRequestMediaTypes=[*/*]
2018-09-19 17:04:03,428 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - Processing */*
2018-09-19 17:04:03,428 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.MediaTypeRequestMatcher - isEqualTo true
2018-09-19 17:04:03,428 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:04:03,429 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@d29f2934
2018-09-19 17:04:03,429 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2018-09-19 17:04:03,429 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@88ce85a0
2018-09-19 17:04:03,429 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@51994815
2018-09-19 17:04:03,429 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:04:03,431 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:04:03,431 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-19 17:04:03,431 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-19 17:04:03,431 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-19 17:04:03,431 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-19 17:04:03,431 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-19 17:04:03,432 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:04:03,432 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error has no matching filters
2018-09-19 17:05:39,686 microservice-oauth2-server [RMI TCP Connection(30)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 17:05:39,687 microservice-oauth2-server [RMI TCP Connection(30)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6102286e: startup date [Wed Sep 19 16:42:38 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@1f4dfe34
2018-09-19 17:05:39,715 microservice-oauth2-server [RMI TCP Connection(30)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 17:05:39,716 microservice-oauth2-server [RMI TCP Connection(30)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 17:05:39,723 microservice-oauth2-server [RMI TCP Connection(30)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 17:05:39,730 microservice-oauth2-server [RMI TCP Connection(30)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 17:05:39,744 microservice-oauth2-server [RMI TCP Connection(30)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 17:05:48,754 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@32d8ef35: startup date [Wed Sep 19 17:05:48 CST 2018]; root of context hierarchy
2018-09-19 17:05:49,285 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$57238383] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:05:49,753 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 17:05:49,776 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e161f747: startup date [Wed Sep 19 17:05:49 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@32d8ef35
2018-09-19 17:05:50,912 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 17:05:51,784 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 17:05:52,358 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=17acecaf-f51a-334b-9dc9-3a383ceeff25
2018-09-19 17:05:52,679 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3b098086] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:05:52,756 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$57238383] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:05:53,505 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 17:05:53,805 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4029 ms
2018-09-19 17:05:53,954 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 17:05:55,211 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 17:05:55,212 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 17:05:55,212 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 17:05:55,212 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 17:05:55,212 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 17:05:55,214 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 17:05:55,214 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 17:05:55,214 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 17:05:55,368 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 17:05:55,554 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 17:05:55,614 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 17:05:55,629 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 17:05:55,779 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 17:05:55,779 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 17:05:55,826 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 17:05:55,951 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 17:05:56,247 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 17:05:56,415 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e161f747: startup date [Wed Sep 19 17:05:49 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@32d8ef35
2018-09-19 17:05:56,428 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 17:05:56,431 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:05:56,432 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:05:56,434 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 17:05:56,435 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:05:56,435 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:05:56,436 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 17:05:56,436 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 17:05:56,437 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 17:05:56,438 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 17:05:56,439 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 17:05:56,439 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 17:05:56,855 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:05:57,235 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e161f747: startup date [Wed Sep 19 17:05:49 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@32d8ef35
2018-09-19 17:05:57,284 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 17:05:57,342 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:05:57,342 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 17:05:57,404 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:05:57,405 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:05:58,369 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 17:05:58,702 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 17:05:58,705 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 17:05:58,705 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 17:05:58,717 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:05:58,719 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:05:58,737 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3624b623, org.springframework.security.web.context.SecurityContextPersistenceFilter@f622f48d, org.springframework.security.web.header.HeaderWriterFilter@7b087087, org.springframework.security.web.authentication.logout.LogoutFilter@5d074cd6, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@2a8a63ed, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@8cccdf47, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64494d84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f2d33779, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cdaf8f4, org.springframework.security.web.session.SessionManagementFilter@54fff735, org.springframework.security.web.access.ExceptionTranslationFilter@e173d1f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50dbec09]
2018-09-19 17:05:58,798 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 17:05:58,822 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:05:58,823 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:05:58,824 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:05:59,033 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 17:05:59,036 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 17:05:59,050 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 17:05:59,051 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 17:05:59,054 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 17:05:59,058 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 17:05:59,071 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 17:05:59,089 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=e161f747,type=ConfigurationPropertiesRebinder]
2018-09-19 17:05:59,099 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 17:05:59,181 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 17:05:59,186 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.212 seconds (JVM running for 13.502)
2018-09-19 17:06:21,437 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 17:06:21,469 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2018-09-19 17:06:21,483 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:06:21,485 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:06:21,497 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:06:21,497 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:06:21,497 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:06:21,498 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:06:21,500 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:06:21,500 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:06:21,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:06:21,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:06:21,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:06:21,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:06:21,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'POST /logout
2018-09-19 17:06:21,502 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:06:21,503 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:06:21,503 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:06:21,503 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:06:21,503 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:06:21,503 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:06:21,503 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:06:21,504 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:06:21,505 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:06:21,882 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@338f6963
2018-09-19 17:06:21,883 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:06:21,891 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:06:21,891 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-19 17:06:21,891 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-19 17:06:21,891 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-19 17:06:21,891 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-19 17:06:21,892 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-19 17:06:21,892 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:06:21,892 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /error has no matching filters
2018-09-19 17:06:39,290 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:06:39,291 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:06:39,292 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:06:39,292 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:06:39,292 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:06:39,292 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:06:39,292 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:06:39,292 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:06:39,293 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:06:39,293 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:06:39,293 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:06:39,293 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:06:39,293 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'POST /logout
2018-09-19 17:06:39,293 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:06:39,293 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:06:39,294 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:06:39,294 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:06:39,295 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:06:39,296 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:06:39,296 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:06:39,297 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:06:39,297 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:06:39,297 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@338f6963
2018-09-19 17:06:39,298 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:06:39,302 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:06:39,302 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-19 17:06:39,303 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-19 17:06:39,303 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-19 17:06:39,303 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-19 17:06:39,303 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-19 17:06:39,303 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:06:39,303 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /error has no matching filters
2018-09-19 17:08:57,457 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:08:57,458 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:08:57,459 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:08:57,460 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:08:57,460 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:08:57,460 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:08:57,460 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:08:57,460 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:08:57,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:08:57,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:08:57,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:08:57,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:08:57,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'POST /logout
2018-09-19 17:08:57,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:08:57,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:08:57,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:08:57,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:08:57,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:08:57,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:08:57,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:08:57,464 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:08:57,464 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:08:57,464 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@338f6963
2018-09-19 17:08:57,465 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:08:57,470 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:08:57,470 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-19 17:08:57,471 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-19 17:08:57,471 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-19 17:08:57,471 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-19 17:08:57,471 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-19 17:08:57,471 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:08:57,471 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /error has no matching filters
2018-09-19 17:09:24,762 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:09:24,762 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:09:24,763 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:09:24,763 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:09:24,763 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:09:24,763 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:09:24,763 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:09:24,763 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:09:24,763 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:09:24,763 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:09:24,763 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:09:24,767 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:09:24,767 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'POST /logout
2018-09-19 17:09:24,767 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:09:24,767 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:09:24,767 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:09:24,767 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:09:24,767 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:09:24,767 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:09:24,767 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:09:24,768 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:10:37,385 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:10:37,387 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@338f6963
2018-09-19 17:10:37,388 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:10:37,405 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:10:37,405 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token'
2018-09-19 17:10:37,406 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token_key']
2018-09-19 17:10:37,406 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/token_key'
2018-09-19 17:10:37,406 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/check_token']
2018-09-19 17:10:37,407 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/error'; against '/oauth/check_token'
2018-09-19 17:10:37,407 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:10:37,407 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /error has no matching filters
2018-09-19 17:17:34,346 microservice-oauth2-server [RMI TCP Connection(21)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 17:17:34,346 microservice-oauth2-server [RMI TCP Connection(21)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e161f747: startup date [Wed Sep 19 17:05:49 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@32d8ef35
2018-09-19 17:17:34,382 microservice-oauth2-server [RMI TCP Connection(21)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 17:17:34,384 microservice-oauth2-server [RMI TCP Connection(21)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 17:17:34,393 microservice-oauth2-server [RMI TCP Connection(21)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 17:17:34,401 microservice-oauth2-server [RMI TCP Connection(21)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 17:17:34,412 microservice-oauth2-server [RMI TCP Connection(21)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 17:17:53,800 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ea097a50: startup date [Wed Sep 19 17:17:53 CST 2018]; root of context hierarchy
2018-09-19 17:17:54,335 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$8ca314a8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:17:54,782 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 17:17:54,813 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cfb1d7f9: startup date [Wed Sep 19 17:17:54 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ea097a50
2018-09-19 17:17:55,940 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 17:17:56,825 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 17:17:57,414 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=17acecaf-f51a-334b-9dc9-3a383ceeff25
2018-09-19 17:17:57,731 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$708911ab] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:17:57,810 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$8ca314a8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:17:58,562 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 17:17:58,865 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4052 ms
2018-09-19 17:17:59,019 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 17:18:00,257 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 17:18:00,257 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 17:18:00,258 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 17:18:00,258 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 17:18:00,258 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 17:18:00,260 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 17:18:00,260 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 17:18:00,260 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 17:18:00,408 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 17:18:00,587 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 17:18:00,635 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 17:18:00,651 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 17:18:00,775 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 17:18:00,775 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 17:18:00,822 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 17:18:00,966 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 17:18:01,279 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 17:18:01,438 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cfb1d7f9: startup date [Wed Sep 19 17:17:54 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ea097a50
2018-09-19 17:18:01,453 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 17:18:01,453 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:18:01,453 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:18:01,453 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 17:18:01,453 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:18:01,453 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:18:01,453 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 17:18:01,453 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 17:18:01,453 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 17:18:01,453 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 17:18:01,453 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 17:18:01,453 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 17:18:01,866 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:18:02,215 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cfb1d7f9: startup date [Wed Sep 19 17:17:54 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ea097a50
2018-09-19 17:18:02,263 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 17:18:02,320 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:18:02,321 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 17:18:02,376 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:18:02,377 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:18:03,297 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 17:18:03,622 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 17:18:03,625 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 17:18:03,626 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 17:18:03,637 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:18:03,639 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:18:03,664 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ea043afb, org.springframework.security.web.context.SecurityContextPersistenceFilter@a7c1ad8b, org.springframework.security.web.header.HeaderWriterFilter@854a021d, org.springframework.security.web.authentication.logout.LogoutFilter@7c51abb2, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@e745f989, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4e090998, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d360edc3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dc35bdf5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@86aa2037, org.springframework.security.web.session.SessionManagementFilter@ffd36105, org.springframework.security.web.access.ExceptionTranslationFilter@384034ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66b4325d]
2018-09-19 17:18:03,722 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 17:18:03,749 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:18:03,749 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:18:03,750 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:18:03,963 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 17:18:03,966 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 17:18:03,979 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 17:18:03,980 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 17:18:03,983 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 17:18:03,987 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 17:18:03,999 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 17:18:04,018 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=cfb1d7f9,type=ConfigurationPropertiesRebinder]
2018-09-19 17:18:04,029 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 17:18:04,113 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 17:18:04,121 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.112 seconds (JVM running for 13.352)
2018-09-19 17:18:11,149 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 17:18:11,190 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 40 ms
2018-09-19 17:18:11,204 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:18:11,207 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:18:11,216 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:18:11,216 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:18:11,216 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:18:11,217 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:18:11,218 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:18:11,219 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:18:11,221 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:18:11,221 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:18:11,221 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:18:11,221 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:18:11,221 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'POST /logout
2018-09-19 17:18:11,222 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:18:11,222 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:18:11,222 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:18:11,222 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'GET /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:18:11,222 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:18:11,222 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:18:11,222 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:18:11,223 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:18:14,831 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:18:15,250 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:18:15,250 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:18:15,250 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:18:15,252 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:18:15,252 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 17:18:15,253 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:18:15,253 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5f9cb66c
2018-09-19 17:18:15,253 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:18:15,253 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:18:15,254 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:18:15,254 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:18:15,255 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:18:15,264 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@cb74e30d, returned: 1
2018-09-19 17:18:15,264 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 17:18:15,264 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 17:18:15,265 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 17:18:15,275 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:18:15,275 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:18:15,298 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: HttpRequestMethodNotSupportedException, Request method 'GET' not supported
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(TokenEndpoint.java:81) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 17:18:15,449 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@25c6ebb3
2018-09-19 17:18:15,455 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2018-09-19 17:18:15,477 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 17:18:15,477 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:20:47,687 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:20:47,688 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:20:47,689 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:20:47,690 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:20:47,690 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:20:47,690 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:20:47,690 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:20:47,690 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:20:47,690 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:20:47,690 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:20:47,690 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 17:20:47,690 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:20:47,691 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:20:47,691 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:20:47,691 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:20:47,691 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:20:47,691 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:20:47,691 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:20:47,691 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:20:47,691 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:20:47,691 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:20:50,779 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:20:50,783 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:20:50,783 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:20:50,785 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:20:50,787 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:20:50,799 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 17:20:50,799 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:20:50,800 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5f9cb66c
2018-09-19 17:20:50,800 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:20:50,801 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:20:50,805 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:20:50,805 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:20:50,805 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:20:50,806 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@cb74e30d, returned: 1
2018-09-19 17:20:50,806 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 17:20:50,807 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 17:20:50,807 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 17:20:50,810 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:20:50,810 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:20:50,828 microservice-oauth2-server [http-nio-8080-exec-4] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: UnsupportedGrantTypeException, Unsupported grant type: password
org.springframework.security.oauth2.common.exceptions.UnsupportedGrantTypeException: Unsupported grant type: password
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:134) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 17:20:50,832 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@25c6ebb3
2018-09-19 17:20:50,834 microservice-oauth2-server [http-nio-8080-exec-4] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [error="unsupported_grant_type", error_description="Unsupported grant type: password"]
2018-09-19 17:20:50,835 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 17:20:50,835 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:22:24,285 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:22:24,286 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:22:24,287 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:22:24,288 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:22:24,288 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:22:24,288 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:22:24,289 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:22:24,289 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:22:24,289 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:22:24,289 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:22:24,289 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 17:22:24,290 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:22:24,290 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:22:24,290 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:22:24,290 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:22:24,290 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:22:24,290 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:22:24,290 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:22:24,290 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:22:24,290 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:22:24,291 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:22:27,410 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:22:27,410 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:22:27,410 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:22:27,426 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:22:27,426 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5f9cb66c
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@cb74e30d, returned: 1
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:22:27,442 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:24:00,180 microservice-oauth2-server [http-nio-8080-exec-5] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: UnsupportedGrantTypeException, Unsupported grant type: password
org.springframework.security.oauth2.common.exceptions.UnsupportedGrantTypeException: Unsupported grant type: password
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:134) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 17:24:00,201 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@25c6ebb3
2018-09-19 17:24:00,204 microservice-oauth2-server [http-nio-8080-exec-5] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [error="unsupported_grant_type", error_description="Unsupported grant type: password"]
2018-09-19 17:24:00,205 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 17:24:00,205 microservice-oauth2-server [http-nio-8080-exec-5] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:24:02,040 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:24:02,041 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:24:02,043 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:24:02,043 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:24:02,044 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:24:02,045 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:24:02,045 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:24:02,045 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:24:02,045 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:24:02,045 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:24:02,045 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:24:02,047 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:24:07,011 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:24:07,012 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:24:07,012 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:24:07,013 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:24:07,013 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:24:07,013 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 17:24:07,014 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:24:07,014 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5f9cb66c
2018-09-19 17:24:07,014 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:24:07,015 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:24:07,015 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:24:07,015 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:24:07,016 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:24:07,021 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@cb74e30d, returned: 1
2018-09-19 17:24:07,021 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 17:24:07,021 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 17:24:07,024 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 17:24:07,037 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:24:07,037 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:26:15,563 microservice-oauth2-server [http-nio-8080-exec-6] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: UnsupportedGrantTypeException, Unsupported grant type: password
org.springframework.security.oauth2.common.exceptions.UnsupportedGrantTypeException: Unsupported grant type: password
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:134) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 17:26:15,577 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@25c6ebb3
2018-09-19 17:26:15,580 microservice-oauth2-server [http-nio-8080-exec-6] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [error="unsupported_grant_type", error_description="Unsupported grant type: password"]
2018-09-19 17:26:15,581 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 17:26:15,582 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:41:15,564 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ad6ba954: startup date [Wed Sep 19 17:41:15 CST 2018]; root of context hierarchy
2018-09-19 17:41:16,120 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$73c77674] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:41:16,603 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 17:41:16,631 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8b500c91: startup date [Wed Sep 19 17:41:16 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ad6ba954
2018-09-19 17:41:17,796 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 17:41:18,677 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 17:41:19,250 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=2fc873e8-1a41-3e0f-9cff-b54888a6146f
2018-09-19 17:41:19,552 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$57ad7377] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:41:19,626 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$73c77674] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:41:20,382 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 17:41:20,703 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4072 ms
2018-09-19 17:41:20,863 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 17:41:22,155 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 17:41:22,156 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 17:41:22,156 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 17:41:22,156 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 17:41:22,156 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 17:41:22,158 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 17:41:22,158 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 17:41:22,159 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 17:41:22,310 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 17:41:22,495 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 17:41:22,561 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 17:41:22,578 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 17:41:22,698 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 17:41:22,701 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 17:41:22,794 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 17:41:22,932 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 17:41:23,227 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 17:41:23,680 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8b500c91: startup date [Wed Sep 19 17:41:16 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ad6ba954
2018-09-19 17:41:23,692 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 17:41:23,695 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:41:23,696 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:41:23,697 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 17:41:23,697 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:41:23,698 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:41:23,699 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 17:41:23,699 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 17:41:23,699 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 17:41:23,700 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 17:41:23,701 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 17:41:23,701 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 17:41:23,833 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 17:41:23,973 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$598dc92d@53aee61d}
2018-09-19 17:41:23,992 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 17:41:24,176 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 17:41:24,179 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 17:41:24,179 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 17:41:24,191 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:41:24,193 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:41:24,216 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ccf1ff, org.springframework.security.web.context.SecurityContextPersistenceFilter@2588060e, org.springframework.security.web.header.HeaderWriterFilter@ee1b3dde, org.springframework.security.web.authentication.logout.LogoutFilter@1e9c3644, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@f4ff83dd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@abdad914, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bc70c513, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b19a3ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cfe735ae, org.springframework.security.web.session.SessionManagementFilter@6a767539, org.springframework.security.web.access.ExceptionTranslationFilter@da73679b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a1fafcc9]
2018-09-19 17:41:24,248 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 17:41:24,249 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:41:24,249 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:41:24,263 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f5c7d4f9, org.springframework.security.web.context.SecurityContextPersistenceFilter@30137a72, org.springframework.security.web.header.HeaderWriterFilter@4da288b6, org.springframework.security.web.csrf.CsrfFilter@ed1024f5, org.springframework.security.web.authentication.logout.LogoutFilter@a93b13e4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@dd777c4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@f481b600, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@ac310b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bceb1b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e001910, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d81a6d86, org.springframework.security.web.session.SessionManagementFilter@d914b30, org.springframework.security.web.access.ExceptionTranslationFilter@74e4a02b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b5af89b5]
2018-09-19 17:41:24,482 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:41:24,833 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8b500c91: startup date [Wed Sep 19 17:41:16 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ad6ba954
2018-09-19 17:41:24,885 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 17:41:24,951 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:41:24,952 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 17:41:25,014 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:41:25,014 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:41:25,885 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 17:41:25,910 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:41:25,910 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:41:25,912 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:41:26,141 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 17:41:26,143 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 17:41:26,160 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 17:41:26,161 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 17:41:26,164 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 17:41:26,168 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 17:41:26,181 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 17:41:26,197 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=8b500c91,type=ConfigurationPropertiesRebinder]
2018-09-19 17:41:26,208 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 17:41:26,285 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 17:41:26,293 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.569 seconds (JVM running for 13.918)
2018-09-19 17:42:49,622 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 17:42:49,654 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2018-09-19 17:42:49,670 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:42:49,672 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:42:49,682 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:42:49,682 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:42:49,683 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:42:49,683 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:42:49,685 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:42:49,686 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:42:49,687 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:42:49,688 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:42:49,688 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 17:42:49,688 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:42:49,688 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:42:49,688 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:42:49,688 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:42:49,688 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:42:49,689 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:42:49,689 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:42:49,689 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:42:49,689 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:42:49,689 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:42:55,371 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:42:55,770 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:42:55,770 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:42:55,771 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:42:55,772 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:42:55,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 17:42:55,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:42:55,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@d56e5b6d
2018-09-19 17:42:55,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:42:55,773 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:42:55,774 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:42:55,775 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:42:55,775 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:42:55,782 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7e973e32, returned: 1
2018-09-19 17:42:55,782 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 17:42:55,782 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 17:42:55,782 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 17:42:55,792 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:42:55,792 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:43:07,835 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 17:43:07,835 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:43:08,105 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: IllegalArgumentException, There is no PasswordEncoder mapped for the id "null"
java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:238) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:198) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$LazyPasswordEncoder.matches(AuthenticationConfiguration.java:289) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:166) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:512) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 17:43:08,200 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@334d935f
2018-09-19 17:43:08,206 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"]
2018-09-19 17:43:08,222 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 17:43:08,222 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:44:05,120 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:44:05,121 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:44:05,124 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:44:05,125 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:44:05,125 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:44:05,125 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:44:05,126 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:44:05,126 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:44:05,126 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:44:05,127 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:44:05,127 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 17:44:05,127 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:44:05,127 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:44:05,139 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:44:05,139 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:44:05,140 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:44:05,140 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:44:05,140 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:44:05,141 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:44:05,141 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:44:05,142 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:44:07,819 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:44:07,822 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:44:07,824 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:44:07,825 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:44:07,827 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:44:07,828 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 17:44:07,830 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:44:07,832 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@d56e5b6d
2018-09-19 17:44:07,833 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:44:07,834 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:44:07,835 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:44:07,842 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:44:07,853 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:44:07,855 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7e973e32, returned: 1
2018-09-19 17:44:07,855 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 17:44:07,856 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 17:44:07,856 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 17:44:07,865 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:44:07,866 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:44:10,802 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 17:44:10,809 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:44:10,818 microservice-oauth2-server [http-nio-8080-exec-2] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: IllegalArgumentException, There is no PasswordEncoder mapped for the id "null"
java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:238) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:198) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$LazyPasswordEncoder.matches(AuthenticationConfiguration.java:289) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:166) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:502) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 17:44:10,848 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@334d935f
2018-09-19 17:44:10,855 microservice-oauth2-server [http-nio-8080-exec-2] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"]
2018-09-19 17:44:10,857 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 17:44:10,857 microservice-oauth2-server [http-nio-8080-exec-2] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:45:13,327 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 17:45:13,328 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8b500c91: startup date [Wed Sep 19 17:41:16 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ad6ba954
2018-09-19 17:45:13,361 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 17:45:13,362 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 17:45:13,374 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 17:45:13,383 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 17:45:13,391 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 17:45:23,585 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@2329a3c2: startup date [Wed Sep 19 17:45:23 CST 2018]; root of context hierarchy
2018-09-19 17:45:24,135 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$af671fe1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:45:24,590 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 17:45:24,619 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8b9bf27f: startup date [Wed Sep 19 17:45:24 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@2329a3c2
2018-09-19 17:45:25,754 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 17:45:26,648 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 17:45:27,212 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=2fc873e8-1a41-3e0f-9cff-b54888a6146f
2018-09-19 17:45:27,577 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$934d1ce4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:45:27,654 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$af671fe1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:45:28,421 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 17:45:28,730 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4111 ms
2018-09-19 17:45:28,911 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 17:45:30,208 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 17:45:30,209 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 17:45:30,209 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 17:45:30,209 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 17:45:30,209 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 17:45:30,211 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 17:45:30,211 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 17:45:30,212 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 17:45:30,366 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 17:45:30,550 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 17:45:30,611 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 17:45:30,627 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 17:45:30,745 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 17:45:30,748 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 17:45:30,803 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 17:45:30,943 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 17:45:31,261 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 17:45:31,711 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8b9bf27f: startup date [Wed Sep 19 17:45:24 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@2329a3c2
2018-09-19 17:45:31,726 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 17:45:31,728 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:45:31,729 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:45:31,730 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 17:45:31,731 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:45:31,732 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:45:31,732 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 17:45:31,732 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 17:45:31,733 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 17:45:31,734 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 17:45:31,734 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 17:45:31,734 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 17:45:31,867 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 17:45:32,002 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$952d729a@266704ce}
2018-09-19 17:45:32,020 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 17:45:32,246 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 17:45:32,250 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 17:45:32,250 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 17:45:32,264 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:45:32,266 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:45:32,290 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d2067d21, org.springframework.security.web.context.SecurityContextPersistenceFilter@69b58620, org.springframework.security.web.header.HeaderWriterFilter@bf0035e9, org.springframework.security.web.authentication.logout.LogoutFilter@d0fafa62, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@a3d3ff74, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7c5479a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d78a9648, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ac01a9c2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23b31f25, org.springframework.security.web.session.SessionManagementFilter@55fb17bc, org.springframework.security.web.access.ExceptionTranslationFilter@35b854a7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f4226d75]
2018-09-19 17:45:32,322 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 17:45:32,322 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:45:32,323 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:45:32,337 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5772d8a4, org.springframework.security.web.context.SecurityContextPersistenceFilter@caa9166, org.springframework.security.web.header.HeaderWriterFilter@11443f8f, org.springframework.security.web.csrf.CsrfFilter@4b38fbdc, org.springframework.security.web.authentication.logout.LogoutFilter@e371f4a7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@b05bf033, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@efc60a3e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@af2cd8c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8e8074ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@81e62d52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9bb93c1a, org.springframework.security.web.session.SessionManagementFilter@82966a6c, org.springframework.security.web.access.ExceptionTranslationFilter@af9e8b80, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a2f0dc46]
2018-09-19 17:45:32,524 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:45:32,867 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8b9bf27f: startup date [Wed Sep 19 17:45:24 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@2329a3c2
2018-09-19 17:45:32,918 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 17:45:32,983 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:45:32,983 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 17:45:33,044 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:45:33,044 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:45:33,896 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 17:45:33,928 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:45:33,929 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:45:33,930 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:45:34,152 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 17:45:34,155 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 17:45:34,172 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 17:45:34,174 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 17:45:34,177 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 17:45:34,180 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 17:45:34,192 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 17:45:34,209 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=8b9bf27f,type=ConfigurationPropertiesRebinder]
2018-09-19 17:45:34,219 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 17:45:34,295 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 17:45:34,302 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.521 seconds (JVM running for 13.774)
2018-09-19 17:45:48,521 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 17:45:48,555 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2018-09-19 17:45:48,571 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:45:48,573 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:45:48,583 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:45:48,583 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:45:48,584 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:45:48,585 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:45:48,586 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:45:48,587 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:45:48,590 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:45:48,590 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:45:48,590 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 17:45:48,590 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:45:48,591 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:45:48,591 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:45:48,591 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:45:48,591 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:45:48,591 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:45:48,591 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:45:48,591 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:45:48,591 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:45:48,592 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:45:51,420 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:45:51,841 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:45:51,842 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:45:51,842 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:45:51,843 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:45:51,844 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 17:45:51,844 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:45:51,844 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5a146d78
2018-09-19 17:45:51,845 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:45:51,845 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:45:51,846 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:45:51,846 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:45:51,846 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:45:51,852 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@12b384a4, returned: 1
2018-09-19 17:45:51,853 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 17:45:51,853 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 17:45:51,853 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 17:45:51,863 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:45:51,863 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:45:54,355 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 17:45:54,356 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:45:55,427 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@224541b2
2018-09-19 17:45:55,450 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 17:45:55,451 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:51:30,838 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ffcb2105: startup date [Wed Sep 19 17:51:30 CST 2018]; root of context hierarchy
2018-09-19 17:51:31,409 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$13d1ac48] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:51:31,868 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 17:51:31,897 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9a3fa28d: startup date [Wed Sep 19 17:51:31 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ffcb2105
2018-09-19 17:51:33,052 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 17:51:33,980 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 17:51:34,568 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=6a916e36-70a7-3d64-b004-e0adcfda2f59
2018-09-19 17:51:34,893 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f7b7a94b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:51:34,971 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$13d1ac48] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:51:35,738 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 17:51:36,070 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4173 ms
2018-09-19 17:51:36,226 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 17:51:37,553 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 17:51:37,553 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 17:51:37,554 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 17:51:37,554 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 17:51:37,554 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 17:51:37,555 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 17:51:37,556 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 17:51:37,556 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 17:51:37,715 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 17:51:37,902 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 17:51:37,970 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 17:51:37,986 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 17:51:38,108 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 17:51:38,111 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 17:51:38,166 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 17:51:38,342 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 17:51:38,632 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 17:51:39,089 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9a3fa28d: startup date [Wed Sep 19 17:51:31 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ffcb2105
2018-09-19 17:51:39,104 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 17:51:39,106 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:51:39,107 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:51:39,108 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 17:51:39,109 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:51:39,109 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:51:39,110 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 17:51:39,110 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 17:51:39,111 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 17:51:39,111 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 17:51:39,112 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 17:51:39,112 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 17:51:39,259 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 17:51:39,427 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$f997ff01@20892a9e}
2018-09-19 17:51:39,447 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 17:51:39,625 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 17:51:39,631 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 17:51:39,632 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 17:51:39,645 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:51:39,647 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:51:39,677 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d328a818, org.springframework.security.web.context.SecurityContextPersistenceFilter@815d105b, org.springframework.security.web.header.HeaderWriterFilter@2fb12dd9, org.springframework.security.web.authentication.logout.LogoutFilter@a0984f65, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@33a7a57f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7cd198b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@dd8ce640, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a79d58, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d2a92e3b, org.springframework.security.web.session.SessionManagementFilter@34844695, org.springframework.security.web.access.ExceptionTranslationFilter@b97adcad, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d91dce1f]
2018-09-19 17:51:39,705 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 17:51:39,706 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:51:39,706 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:51:39,723 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c5c9085, org.springframework.security.web.context.SecurityContextPersistenceFilter@b7a0d43c, org.springframework.security.web.header.HeaderWriterFilter@8d70ddb1, org.springframework.security.web.csrf.CsrfFilter@845aa6dd, org.springframework.security.web.authentication.logout.LogoutFilter@34d492b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@509719c0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@610e6654, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@8321585f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cf828a19, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ee06eaa2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d45e800d, org.springframework.security.web.session.SessionManagementFilter@3668799c, org.springframework.security.web.access.ExceptionTranslationFilter@8813da32, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@864da7b2]
2018-09-19 17:51:39,908 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:51:40,250 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9a3fa28d: startup date [Wed Sep 19 17:51:31 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ffcb2105
2018-09-19 17:51:40,300 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 17:51:40,359 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:51:40,359 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 17:51:40,419 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:51:40,419 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:51:41,264 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 17:51:41,290 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:51:41,290 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:51:41,291 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:51:41,502 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 17:51:41,505 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 17:51:41,520 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 17:51:41,522 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 17:51:41,524 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 17:51:41,528 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 17:51:41,540 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 17:51:41,556 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=9a3fa28d,type=ConfigurationPropertiesRebinder]
2018-09-19 17:51:41,568 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 17:51:41,644 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 17:51:41,649 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.605 seconds (JVM running for 13.863)
2018-09-19 17:51:50,469 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 17:51:50,503 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2018-09-19 17:51:50,520 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:51:50,522 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:51:50,534 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:51:50,534 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:51:50,534 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:51:50,535 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:51:50,536 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:51:50,537 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:51:50,538 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:51:50,539 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:51:50,539 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 17:51:50,539 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:51:50,539 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:51:50,539 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:51:50,539 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:51:50,539 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:51:50,540 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:51:50,540 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:51:50,540 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:51:50,540 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:51:50,540 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:51:53,426 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:51:53,969 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:51:53,969 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:51:53,970 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:51:53,971 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:51:53,972 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 17:51:53,972 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:51:53,972 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@f9b19047
2018-09-19 17:51:53,972 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:51:53,973 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:51:53,973 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:51:53,974 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:51:53,974 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:51:53,983 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@184499d3, returned: 1
2018-09-19 17:51:53,983 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 17:51:53,983 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 17:51:53,983 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 17:51:54,004 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:51:54,007 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:51:57,414 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 17:51:57,415 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:51:58,859 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@9025556c
2018-09-19 17:51:58,887 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 17:51:58,887 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 17:54:56,034 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@221cc926: startup date [Wed Sep 19 17:54:56 CST 2018]; root of context hierarchy
2018-09-19 17:54:56,577 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e6a14efb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:54:57,036 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 17:54:57,068 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b9a92769: startup date [Wed Sep 19 17:54:57 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@221cc926
2018-09-19 17:54:58,180 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 17:54:59,070 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 17:54:59,668 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=6a916e36-70a7-3d64-b004-e0adcfda2f59
2018-09-19 17:55:00,018 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ca874bfe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:55:00,096 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e6a14efb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 17:55:00,853 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 17:55:01,154 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4086 ms
2018-09-19 17:55:01,315 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 17:55:02,613 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 17:55:02,614 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 17:55:02,614 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 17:55:02,614 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 17:55:02,615 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 17:55:02,617 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 17:55:02,617 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 17:55:02,617 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 17:55:02,777 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 17:55:02,956 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 17:55:03,026 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 17:55:03,041 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 17:55:03,171 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 17:55:03,176 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 17:55:03,245 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 17:55:03,405 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 17:55:03,813 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 17:55:04,339 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b9a92769: startup date [Wed Sep 19 17:54:57 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@221cc926
2018-09-19 17:55:04,356 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 17:55:04,358 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:55:04,360 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 17:55:04,361 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 17:55:04,361 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:55:04,362 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 17:55:04,363 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 17:55:04,363 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 17:55:04,364 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 17:55:04,364 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 17:55:04,365 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 17:55:04,366 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 17:55:04,529 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 17:55:04,701 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$cc67a1b4@33e2c912}
2018-09-19 17:55:04,719 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 17:55:04,930 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 17:55:04,930 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 17:55:04,930 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 17:55:04,930 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:55:04,946 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:55:04,961 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@798003ca, org.springframework.security.web.context.SecurityContextPersistenceFilter@cdfe3525, org.springframework.security.web.header.HeaderWriterFilter@8fa55d42, org.springframework.security.web.authentication.logout.LogoutFilter@ed4050e1, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@ddf4e283, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@dd6073bc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@355093e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@460b879a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95a1754a, org.springframework.security.web.session.SessionManagementFilter@ad823384, org.springframework.security.web.access.ExceptionTranslationFilter@9e2a0ba1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b233d474]
2018-09-19 17:55:04,993 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 17:55:04,993 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:55:04,993 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 17:55:05,009 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d7d1408, org.springframework.security.web.context.SecurityContextPersistenceFilter@6879f68a, org.springframework.security.web.header.HeaderWriterFilter@6bb9b9b9, org.springframework.security.web.csrf.CsrfFilter@680a97ad, org.springframework.security.web.authentication.logout.LogoutFilter@5ab1f95e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4b5bc9c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@c2900e49, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@578349c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fbacf552, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b7fff2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c562a055, org.springframework.security.web.session.SessionManagementFilter@a2db2439, org.springframework.security.web.access.ExceptionTranslationFilter@9d21b3f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@da1a5805]
2018-09-19 17:55:05,209 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:55:05,630 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@b9a92769: startup date [Wed Sep 19 17:54:57 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@221cc926
2018-09-19 17:55:05,695 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 17:55:05,771 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:55:05,771 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 17:55:05,848 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:55:05,848 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 17:55:06,723 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 17:55:06,757 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:55:06,757 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 17:55:06,759 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 17:55:07,066 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 17:55:07,069 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 17:55:07,087 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 17:55:07,089 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 17:55:07,093 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 17:55:07,097 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 17:55:07,110 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 17:55:07,130 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=b9a92769,type=ConfigurationPropertiesRebinder]
2018-09-19 17:55:07,144 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 17:55:07,238 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 17:55:07,246 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 12.024 seconds (JVM running for 14.308)
2018-09-19 17:55:16,314 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 17:55:16,330 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
2018-09-19 17:55:16,345 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:55:16,345 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 17:55:16,361 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 17:55:16,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 17:55:16,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 17:55:16,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 17:55:16,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 17:55:16,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 17:55:16,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 17:55:16,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 17:55:16,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 17:55:16,376 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 17:55:20,194 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:55:20,582 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:55:20,583 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 17:55:20,583 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 17:55:20,585 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 17:55:20,585 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 17:55:20,585 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 17:55:20,586 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4705c2f5
2018-09-19 17:55:20,586 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 17:55:20,586 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 17:55:20,587 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 17:55:20,588 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 17:55:20,588 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 17:55:20,594 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@52a3ae37, returned: 1
2018-09-19 17:55:20,595 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 17:55:20,595 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 17:55:20,595 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 17:55:20,607 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 17:55:20,607 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 17:55:24,779 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 17:55:24,780 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 17:55:26,273 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@80e46da
2018-09-19 17:55:26,300 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 17:55:26,301 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 18:00:07,228 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@46d19a58: startup date [Wed Sep 19 18:00:07 CST 2018]; root of context hierarchy
2018-09-19 18:00:07,782 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$86581c80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:00:08,226 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 18:00:08,252 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@210501bd: startup date [Wed Sep 19 18:00:08 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@46d19a58
2018-09-19 18:00:09,399 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 18:00:10,287 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 18:00:10,863 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=ff54bb6c-ce55-35fe-a4bf-8d00426c567e
2018-09-19 18:00:11,171 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6a3e1983] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:00:11,247 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$86581c80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:00:12,036 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 18:00:12,334 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4082 ms
2018-09-19 18:00:12,485 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 18:00:13,714 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 18:00:13,716 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 18:00:13,716 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 18:00:13,716 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 18:00:13,716 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 18:00:13,718 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 18:00:13,718 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 18:00:13,718 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 18:00:13,903 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 18:00:14,086 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 18:00:14,148 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 18:00:14,162 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 18:00:14,277 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 18:00:14,280 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 18:00:14,337 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 18:00:14,477 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 18:00:14,755 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 18:00:15,146 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 18:00:15,263 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@210501bd: startup date [Wed Sep 19 18:00:08 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@46d19a58
2018-09-19 18:00:15,278 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 18:00:15,280 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 18:00:15,281 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 18:00:15,282 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 18:00:15,283 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 18:00:15,284 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 18:00:15,284 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 18:00:15,285 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 18:00:15,285 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 18:00:15,285 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 18:00:15,286 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 18:00:15,286 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 18:00:15,293 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 18:00:15,294 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 18:00:15,462 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 18:00:15,596 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$6c1e6f39@dfeea36a}
2018-09-19 18:00:15,616 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 18:00:15,798 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 18:00:15,801 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 18:00:15,802 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 18:00:15,814 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:00:15,816 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:00:15,844 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2747046f, org.springframework.security.web.context.SecurityContextPersistenceFilter@f318cec4, org.springframework.security.web.header.HeaderWriterFilter@54f8c9ba, org.springframework.security.web.authentication.logout.LogoutFilter@b1145d4a, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@cfffb750, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@51d619cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5aa6ceae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@98fdc7f3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fa439792, org.springframework.security.web.session.SessionManagementFilter@7e01d93f, org.springframework.security.web.access.ExceptionTranslationFilter@c341d61f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57cdf137]
2018-09-19 18:00:15,876 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 18:00:15,876 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:00:15,877 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:00:15,889 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b5c206e, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f22b369, org.springframework.security.web.header.HeaderWriterFilter@9ffc0177, org.springframework.security.web.csrf.CsrfFilter@2c1229e6, org.springframework.security.web.authentication.logout.LogoutFilter@989d488b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@b1f03545, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@67af6e77, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@e68dd9c4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a7a69c38, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@92b5dc71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29a16833, org.springframework.security.web.session.SessionManagementFilter@232b4201, org.springframework.security.web.access.ExceptionTranslationFilter@c88d5dc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7fbc1d1f]
2018-09-19 18:00:16,059 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:00:16,461 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@210501bd: startup date [Wed Sep 19 18:00:08 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@46d19a58
2018-09-19 18:00:16,514 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 18:00:16,570 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 18:00:16,571 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 18:00:16,627 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:00:16,628 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:00:17,489 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 18:00:17,513 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 18:00:17,514 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 18:00:17,515 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 18:00:17,733 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 18:00:17,736 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 18:00:17,750 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 18:00:17,752 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 18:00:17,756 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 18:00:17,760 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 18:00:17,772 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 18:00:17,793 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=210501bd,type=ConfigurationPropertiesRebinder]
2018-09-19 18:00:17,805 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 18:00:17,884 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 18:00:17,890 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.468 seconds (JVM running for 13.775)
2018-09-19 18:00:39,646 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 18:00:39,679 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2018-09-19 18:00:39,695 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:00:39,697 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:00:39,708 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 18:00:39,708 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:00:39,708 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 18:00:39,709 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 18:00:39,710 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 18:00:39,711 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 18:00:39,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 18:00:39,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 18:00:39,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 18:00:39,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 18:00:39,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 18:00:39,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 18:00:39,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 18:00:39,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 18:00:39,714 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 18:00:39,714 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 18:00:39,714 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 18:00:39,714 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 18:00:39,714 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 18:00:42,050 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:00:42,435 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:00:42,435 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 18:00:42,436 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 18:00:42,437 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 18:00:42,437 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 18:00:42,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 18:00:42,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@a62813db
2018-09-19 18:00:42,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 18:00:42,438 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 18:00:42,439 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:00:42,439 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 18:00:42,440 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:00:42,446 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@b58ff0da, returned: 1
2018-09-19 18:00:42,446 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 18:00:42,446 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 18:00:42,446 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 18:00:42,458 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:00:42,459 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:00:42,508 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 18:00:42,508 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:00:46,683 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1562b059
2018-09-19 18:00:46,711 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 18:00:46,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 18:03:48,371 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:03:48,371 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:03:48,372 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 18:03:48,372 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:03:48,373 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 18:03:48,373 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 18:03:48,373 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 18:03:48,373 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 18:03:48,373 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 18:03:48,373 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 18:03:48,373 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 18:03:48,373 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 18:03:48,373 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 18:03:48,374 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 18:03:48,374 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 18:03:48,374 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 18:03:48,374 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 18:03:48,374 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 18:03:48,374 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 18:03:48,374 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 18:03:48,375 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 18:03:50,164 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:03:50,165 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:03:50,166 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 18:03:50,166 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 18:03:50,167 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 18:03:50,168 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 18:03:50,169 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 18:03:50,169 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@a62813db
2018-09-19 18:03:50,170 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 18:03:50,170 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 18:03:50,171 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:03:50,172 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 18:03:50,177 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:03:50,179 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@b58ff0da, returned: 1
2018-09-19 18:03:50,180 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 18:03:50,181 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 18:03:50,182 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 18:03:50,200 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:03:50,200 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:03:50,202 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 18:03:50,202 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:03:50,205 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1562b059
2018-09-19 18:03:50,209 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 18:03:50,209 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 18:04:15,470 microservice-oauth2-server [RMI TCP Connection(12)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 18:04:15,470 microservice-oauth2-server [RMI TCP Connection(12)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@210501bd: startup date [Wed Sep 19 18:00:08 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@46d19a58
2018-09-19 18:04:15,476 microservice-oauth2-server [RMI TCP Connection(12)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 18:04:15,477 microservice-oauth2-server [RMI TCP Connection(12)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 18:04:15,485 microservice-oauth2-server [RMI TCP Connection(12)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 18:04:15,492 microservice-oauth2-server [RMI TCP Connection(12)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 18:04:15,501 microservice-oauth2-server [RMI TCP Connection(12)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 18:04:25,058 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@94809897: startup date [Wed Sep 19 18:04:25 CST 2018]; root of context hierarchy
2018-09-19 18:04:25,610 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$40db8e27] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:04:26,085 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 18:04:26,117 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc544fbd: startup date [Wed Sep 19 18:04:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@94809897
2018-09-19 18:04:27,437 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 18:04:28,444 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 18:04:29,123 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=ff54bb6c-ce55-35fe-a4bf-8d00426c567e
2018-09-19 18:04:29,465 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$24c18b2a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:04:29,568 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$40db8e27] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:04:30,355 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 18:04:30,668 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4551 ms
2018-09-19 18:04:30,854 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 18:04:32,109 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 18:04:32,109 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 18:04:32,110 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 18:04:32,110 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 18:04:32,110 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 18:04:32,111 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 18:04:32,111 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 18:04:32,112 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 18:04:32,311 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 18:04:32,484 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 18:04:32,539 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 18:04:32,554 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 18:04:32,681 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 18:04:32,684 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 18:04:32,738 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 18:04:32,875 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 18:04:33,195 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 18:04:33,566 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 18:04:33,680 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc544fbd: startup date [Wed Sep 19 18:04:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@94809897
2018-09-19 18:04:33,694 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 18:04:33,697 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 18:04:33,698 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 18:04:33,699 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 18:04:33,700 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 18:04:33,700 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 18:04:33,701 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 18:04:33,701 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 18:04:33,702 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 18:04:33,703 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 18:04:33,703 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 18:04:33,704 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 18:04:33,712 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 18:04:33,712 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 18:04:33,871 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 18:04:34,027 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$26a1e0e0@273b0c8d}
2018-09-19 18:04:34,045 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 18:04:34,239 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 18:04:34,246 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 18:04:34,246 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 18:04:34,248 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:04:34,258 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:04:34,278 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2dd4eb05, org.springframework.security.web.context.SecurityContextPersistenceFilter@b195a7fe, org.springframework.security.web.header.HeaderWriterFilter@c0e51184, org.springframework.security.web.authentication.logout.LogoutFilter@17ca6fe8, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@befcbee5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4ed5d8a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cde44999, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d119aa4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f76cf0c3, org.springframework.security.web.session.SessionManagementFilter@572eedcd, org.springframework.security.web.access.ExceptionTranslationFilter@4f0c2242, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3babcfe8]
2018-09-19 18:04:34,309 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 18:04:34,309 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:04:34,309 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:04:34,339 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ae5f518, org.springframework.security.web.context.SecurityContextPersistenceFilter@28f4cbe8, org.springframework.security.web.header.HeaderWriterFilter@a346ee5a, org.springframework.security.web.csrf.CsrfFilter@68f66095, org.springframework.security.web.authentication.logout.LogoutFilter@51cdd226, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6e40ecb3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@c71a1b2b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@32510c7a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75bcb758, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@685ba85f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cfb5debc, org.springframework.security.web.session.SessionManagementFilter@ded026ae, org.springframework.security.web.access.ExceptionTranslationFilter@c8ba11e7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a13986]
2018-09-19 18:04:34,570 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:04:34,902 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@cc544fbd: startup date [Wed Sep 19 18:04:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@94809897
2018-09-19 18:04:34,966 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 18:04:35,026 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 18:04:35,027 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 18:04:35,097 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:04:35,097 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:04:36,006 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 18:04:36,032 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 18:04:36,032 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 18:04:36,033 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 18:04:36,273 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 18:04:36,276 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 18:04:36,292 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 18:04:36,294 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 18:04:36,297 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 18:04:36,301 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 18:04:36,314 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 18:04:36,332 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=cc544fbd,type=ConfigurationPropertiesRebinder]
2018-09-19 18:04:36,347 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 18:04:36,437 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 18:04:36,444 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 12.222 seconds (JVM running for 14.628)
2018-09-19 18:04:45,794 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 18:04:45,826 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2018-09-19 18:04:45,844 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:04:45,847 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:04:45,857 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 18:04:45,857 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:04:45,858 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 18:04:45,858 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 18:04:45,860 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 18:04:45,860 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 18:04:45,862 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 18:04:45,862 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 18:04:45,862 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 18:04:45,862 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 18:04:45,862 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 18:04:45,862 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 18:04:45,862 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 18:04:45,863 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 18:04:45,863 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 18:04:45,863 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 18:04:45,863 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 18:04:45,863 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 18:04:45,863 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 18:04:49,362 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:04:49,743 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:04:49,744 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 18:04:49,744 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 18:04:49,746 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 18:04:49,746 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 18:04:49,746 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 18:04:49,747 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@dfe9c715
2018-09-19 18:04:49,747 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 18:04:49,747 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 18:04:49,748 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:04:49,748 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 18:04:49,748 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:04:49,755 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2673be53, returned: 1
2018-09-19 18:04:49,756 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 18:04:49,756 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 18:04:49,756 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 18:04:49,767 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:04:49,768 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:04:49,812 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 18:04:49,812 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:04:50,098 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@a1936c2d
2018-09-19 18:04:50,112 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 18:04:50,112 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 18:08:39,875 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@754f971e: startup date [Wed Sep 19 18:08:39 CST 2018]; root of context hierarchy
2018-09-19 18:08:40,397 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$82a7b86d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:08:40,857 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 18:08:40,901 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@482fc80c: startup date [Wed Sep 19 18:08:40 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@754f971e
2018-09-19 18:08:42,040 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 18:08:42,943 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 18:08:43,552 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=ff54bb6c-ce55-35fe-a4bf-8d00426c567e
2018-09-19 18:08:43,891 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$668db570] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:08:43,967 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$82a7b86d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:08:44,703 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 18:08:44,980 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4079 ms
2018-09-19 18:08:45,138 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 18:08:46,428 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 18:08:46,428 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 18:08:46,428 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 18:08:46,428 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 18:08:46,428 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 18:08:46,428 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 18:08:46,428 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 18:08:46,428 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 18:08:46,596 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 18:08:46,777 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 18:08:46,836 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 18:08:46,855 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 18:08:46,974 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 18:08:46,977 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 18:08:47,033 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 18:08:47,171 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 18:08:47,488 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 18:08:47,852 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 18:08:47,995 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@482fc80c: startup date [Wed Sep 19 18:08:40 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@754f971e
2018-09-19 18:08:48,010 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 18:08:48,012 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 18:08:48,013 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 18:08:48,014 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 18:08:48,015 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 18:08:48,016 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 18:08:48,016 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 18:08:48,017 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 18:08:48,017 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 18:08:48,018 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 18:08:48,018 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 18:08:48,019 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 18:08:48,025 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 18:08:48,026 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 18:08:48,162 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 18:08:48,293 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$686e0b26@1aa9b992}
2018-09-19 18:08:48,312 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 18:08:48,493 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 18:08:48,498 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 18:08:48,498 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 18:08:48,510 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:08:48,512 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:08:48,544 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c9d11d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@be951e6, org.springframework.security.web.header.HeaderWriterFilter@6223921, org.springframework.security.web.authentication.logout.LogoutFilter@babbaac7, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@bda376fa, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6df9404f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e41b37d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6fa9cfa4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ec39eb0, org.springframework.security.web.session.SessionManagementFilter@548000e1, org.springframework.security.web.access.ExceptionTranslationFilter@98ad302, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7a8ee680]
2018-09-19 18:08:48,583 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 18:08:48,584 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:08:48,584 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:08:48,659 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42db5ca3, org.springframework.security.web.context.SecurityContextPersistenceFilter@5edb31ff, org.springframework.security.web.header.HeaderWriterFilter@93369d34, org.springframework.security.web.csrf.CsrfFilter@5af07946, org.springframework.security.web.authentication.logout.LogoutFilter@28babb58, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@d0d89f1d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1ee65cb8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@233b1017, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@449a72b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c6428d97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d8b6dab0, org.springframework.security.web.session.SessionManagementFilter@95900bd3, org.springframework.security.web.access.ExceptionTranslationFilter@2af1e1f3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@644d5bdc]
2018-09-19 18:08:48,864 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:08:49,283 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@482fc80c: startup date [Wed Sep 19 18:08:40 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@754f971e
2018-09-19 18:08:49,341 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 18:08:49,417 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 18:08:49,418 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 18:08:49,488 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:08:49,489 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:08:50,411 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 18:08:50,443 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 18:08:50,443 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 18:08:50,444 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 18:08:50,663 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 18:08:50,666 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 18:08:50,680 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 18:08:50,681 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 18:08:50,684 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 18:08:50,688 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 18:08:50,700 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 18:08:50,718 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=482fc80c,type=ConfigurationPropertiesRebinder]
2018-09-19 18:08:50,728 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 18:08:50,803 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 18:08:50,809 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.719 seconds (JVM running for 14.004)
2018-09-19 18:08:55,174 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 18:08:55,207 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2018-09-19 18:08:55,224 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:08:55,226 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:08:55,237 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 18:08:55,237 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:08:55,237 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 18:08:55,238 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 18:08:55,239 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 18:08:55,240 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 18:08:55,242 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 18:08:55,242 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 18:08:55,242 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 18:08:55,242 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 18:08:55,242 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 18:08:55,243 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 18:08:55,243 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 18:08:55,243 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 18:08:55,243 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 18:08:55,243 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 18:08:55,243 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 18:08:55,243 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 18:08:55,244 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 18:08:57,217 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:08:57,603 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:08:57,603 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 18:08:57,604 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 18:08:57,605 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 18:08:57,606 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 18:08:57,606 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 18:08:57,606 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@66ee25c4
2018-09-19 18:08:57,606 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 18:08:57,606 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 18:08:57,607 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:08:57,608 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 18:08:57,608 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:08:57,614 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@f6789e1c, returned: 1
2018-09-19 18:08:57,614 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 18:08:57,615 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 18:08:57,615 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 18:08:57,628 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:08:57,628 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:08:57,679 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 18:08:57,679 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:08:57,885 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@11b218d0
2018-09-19 18:08:57,898 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 18:08:57,898 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 18:09:06,467 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:09:06,467 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:09:06,468 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 18:09:06,468 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:09:06,468 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 18:09:06,468 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 18:09:06,468 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 18:09:06,468 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 18:09:06,468 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 18:09:06,468 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 18:09:06,469 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 18:09:06,469 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 18:09:06,469 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 18:09:06,469 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 18:09:06,469 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 18:09:06,469 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 18:09:06,469 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 18:09:06,469 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 18:09:06,470 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 18:09:06,470 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 18:09:06,471 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 18:09:07,865 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:09:07,866 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:09:07,867 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 18:09:07,867 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 18:09:07,868 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 18:09:07,869 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 18:09:07,869 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 18:09:07,870 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@66ee25c4
2018-09-19 18:09:07,870 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 18:09:07,871 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 18:09:07,871 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:09:07,872 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 18:09:07,873 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:09:07,875 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@f6789e1c, returned: 1
2018-09-19 18:09:07,876 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 18:09:07,876 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 18:09:07,876 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 18:09:07,885 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:09:07,886 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:09:07,888 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 18:09:07,888 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:09:07,891 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@11b218d0
2018-09-19 18:09:07,909 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 18:09:07,910 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 18:25:32,613 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@3314eb59: startup date [Wed Sep 19 18:25:32 CST 2018]; root of context hierarchy
2018-09-19 18:25:33,168 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$91886690] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:25:33,626 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 18:25:33,653 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24633896: startup date [Wed Sep 19 18:25:33 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@3314eb59
2018-09-19 18:25:34,832 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 18:25:35,765 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 18:25:36,332 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=ff54bb6c-ce55-35fe-a4bf-8d00426c567e
2018-09-19 18:25:36,645 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$756e6393] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:25:36,745 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$91886690] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 18:25:37,548 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 18:25:37,856 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4203 ms
2018-09-19 18:25:38,013 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 18:25:39,275 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 18:25:39,276 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 18:25:39,276 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 18:25:39,276 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 18:25:39,276 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 18:25:39,278 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 18:25:39,278 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 18:25:39,278 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 18:25:39,432 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 18:25:39,611 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 18:25:39,675 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 18:25:39,692 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 18:25:39,914 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 18:25:39,916 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 18:25:39,972 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 18:25:40,116 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 18:25:40,415 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 18:25:40,785 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 18:25:40,925 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24633896: startup date [Wed Sep 19 18:25:33 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@3314eb59
2018-09-19 18:25:40,940 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 18:25:40,942 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 18:25:40,944 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 18:25:40,945 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 18:25:40,945 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 18:25:40,946 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 18:25:40,946 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 18:25:40,947 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 18:25:40,947 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 18:25:40,947 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 18:25:40,948 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 18:25:40,948 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 18:25:40,955 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 18:25:40,955 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 18:25:41,082 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 18:25:41,262 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$774eb949@14102732}
2018-09-19 18:25:41,280 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 18:25:41,466 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 18:25:41,471 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 18:25:41,471 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 18:25:41,483 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:25:41,487 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:25:41,514 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@383d6df3, org.springframework.security.web.context.SecurityContextPersistenceFilter@af59e6f2, org.springframework.security.web.header.HeaderWriterFilter@bdd6e817, org.springframework.security.web.authentication.logout.LogoutFilter@1d015845, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@dd00ee5a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@148fb5ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b10c4082, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d31a7f39, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b4016be0, org.springframework.security.web.session.SessionManagementFilter@eb55c853, org.springframework.security.web.access.ExceptionTranslationFilter@23d12355, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f208943]
2018-09-19 18:25:41,546 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 18:25:41,546 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:25:41,547 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 18:25:41,561 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a8ae3f8f, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ffaaaa5, org.springframework.security.web.header.HeaderWriterFilter@550d2c98, org.springframework.security.web.csrf.CsrfFilter@a0735be5, org.springframework.security.web.authentication.logout.LogoutFilter@bf4c69b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1128cb0b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@43e1ea6d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4246ebdb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ff5b2ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@aa5e12d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@dba513a0, org.springframework.security.web.session.SessionManagementFilter@85be77d0, org.springframework.security.web.access.ExceptionTranslationFilter@481b3621, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41cf3132]
2018-09-19 18:25:41,749 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:25:42,106 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24633896: startup date [Wed Sep 19 18:25:33 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@3314eb59
2018-09-19 18:25:42,159 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 18:25:42,219 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 18:25:42,219 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 18:25:42,281 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:25:42,282 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 18:25:43,177 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 18:25:43,199 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 18:25:43,199 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 18:25:43,200 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 18:25:43,419 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 18:25:43,422 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 18:25:43,437 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 18:25:43,438 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 18:25:43,442 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 18:25:43,445 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 18:25:43,458 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 18:25:43,477 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=24633896,type=ConfigurationPropertiesRebinder]
2018-09-19 18:25:43,488 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 18:25:43,566 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 18:25:43,573 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.763 seconds (JVM running for 14.075)
2018-09-19 18:28:10,078 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 18:28:10,115 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 36 ms
2018-09-19 18:28:10,129 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:28:10,131 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:28:10,141 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 18:28:10,141 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:28:10,142 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 18:28:10,142 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 18:28:10,144 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 18:28:10,144 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 18:28:10,146 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 18:28:10,146 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 18:28:10,147 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 18:28:10,147 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 18:28:10,147 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 18:28:10,147 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 18:28:10,147 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 18:28:10,148 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 18:28:10,148 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 18:28:10,148 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 18:28:10,148 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 18:28:10,148 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 18:28:10,149 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 18:28:12,208 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:28:12,586 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:28:12,586 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 18:28:12,586 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 18:28:12,588 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 18:28:12,588 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 18:28:12,588 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 18:28:12,589 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@f3b76cf7
2018-09-19 18:28:12,589 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 18:28:12,589 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 18:28:12,590 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:28:12,590 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 18:28:12,590 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:28:12,597 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@d4892331, returned: 1
2018-09-19 18:28:12,598 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 18:28:12,598 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 18:28:12,598 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 18:28:12,610 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:28:12,610 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:28:12,651 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 18:28:12,652 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:28:14,570 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@cdaaa8
2018-09-19 18:28:14,592 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 18:28:14,593 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 18:59:44,947 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:59:44,948 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:59:44,950 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 18:59:44,950 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:59:44,950 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 18:59:44,951 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 18:59:44,951 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 18:59:44,951 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 18:59:44,951 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 18:59:44,952 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 18:59:44,952 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 18:59:44,952 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 18:59:44,952 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 18:59:44,952 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 18:59:44,953 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 18:59:44,953 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 18:59:44,953 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 18:59:44,953 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 18:59:44,953 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 18:59:44,955 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 18:59:44,955 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 18:59:48,811 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:59:48,811 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:59:48,811 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 18:59:48,812 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 18:59:48,812 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 18:59:48,812 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 18:59:48,812 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 18:59:48,812 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@f3b76cf7
2018-09-19 18:59:48,812 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 18:59:48,812 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 18:59:48,813 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 18:59:48,813 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 18:59:48,813 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 18:59:48,813 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@d4892331, returned: 1
2018-09-19 18:59:48,813 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 18:59:48,813 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 18:59:48,814 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 18:59:48,818 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 18:59:48,819 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 18:59:48,821 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 18:59:48,822 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 18:59:48,832 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@cdaaa8
2018-09-19 18:59:48,833 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 18:59:48,833 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 19:03:05,826 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@c01aefec: startup date [Wed Sep 19 19:03:05 CST 2018]; root of context hierarchy
2018-09-19 19:03:06,352 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a3b80011] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 19:03:06,813 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 19:03:06,847 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@df77f9c0: startup date [Wed Sep 19 19:03:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@c01aefec
2018-09-19 19:03:07,980 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 19:03:08,884 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 19:03:09,461 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 19:03:09,795 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$879dfd14] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 19:03:09,872 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a3b80011] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 19:03:10,639 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 19:03:10,953 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4106 ms
2018-09-19 19:03:11,134 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 19:03:12,415 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 19:03:12,416 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 19:03:12,416 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 19:03:12,416 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 19:03:12,416 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 19:03:12,418 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 19:03:12,418 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 19:03:12,418 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 19:03:12,598 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 19:03:12,778 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 19:03:12,841 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 19:03:12,856 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 19:03:12,973 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 19:03:12,976 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 19:03:13,031 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 19:03:13,175 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 19:03:13,494 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 19:03:13,864 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 19:03:14,009 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@df77f9c0: startup date [Wed Sep 19 19:03:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@c01aefec
2018-09-19 19:03:14,023 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 19:03:14,025 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 19:03:14,027 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 19:03:14,028 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 19:03:14,028 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 19:03:14,029 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 19:03:14,029 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 19:03:14,030 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 19:03:14,030 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 19:03:14,032 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 19:03:14,033 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 19:03:14,033 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 19:03:14,040 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 19:03:14,041 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 19:03:14,166 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 19:03:14,302 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$897e52ca@812184cb}
2018-09-19 19:03:14,324 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 19:03:14,545 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 19:03:14,548 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 19:03:14,548 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 19:03:14,560 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 19:03:14,562 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 19:03:14,593 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@86eed165, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ffe8d40, org.springframework.security.web.header.HeaderWriterFilter@ccb41c94, org.springframework.security.web.authentication.logout.LogoutFilter@eb711957, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@f547e4a5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@dc9dba52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d0d8fe3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d6b153e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ca2bc57, org.springframework.security.web.session.SessionManagementFilter@ba503d5, org.springframework.security.web.access.ExceptionTranslationFilter@f4e0fa95, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@569ac18b]
2018-09-19 19:03:14,624 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 19:03:14,624 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 19:03:14,625 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 19:03:14,641 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ec80495, org.springframework.security.web.context.SecurityContextPersistenceFilter@86529089, org.springframework.security.web.header.HeaderWriterFilter@8caaa0bc, org.springframework.security.web.csrf.CsrfFilter@5bb91c76, org.springframework.security.web.authentication.logout.LogoutFilter@cb748585, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f871fcb6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@eb8a3155, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@12be1b2d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@acf190ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8a968769, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@925bea41, org.springframework.security.web.session.SessionManagementFilter@bfdc4cf0, org.springframework.security.web.access.ExceptionTranslationFilter@9278d166, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@faa834b6]
2018-09-19 19:03:14,644 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-19 19:03:14,818 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 19:03:15,167 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@df77f9c0: startup date [Wed Sep 19 19:03:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@c01aefec
2018-09-19 19:03:15,222 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 19:03:15,276 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 19:03:15,277 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 19:03:15,334 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 19:03:15,334 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 19:03:16,213 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 19:03:16,239 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 19:03:16,239 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 19:03:16,240 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 19:03:16,454 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 19:03:16,459 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 19:03:16,472 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 19:03:16,474 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 19:03:16,478 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 19:03:16,482 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 19:03:16,494 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 19:03:16,511 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=df77f9c0,type=ConfigurationPropertiesRebinder]
2018-09-19 19:03:16,525 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 19:03:16,600 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 19:03:16,606 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.588 seconds (JVM running for 13.943)
2018-09-19 19:03:27,913 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 19:03:27,949 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 35 ms
2018-09-19 19:03:27,963 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 19:03:27,966 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 19:03:27,975 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 19:03:27,975 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 19:03:27,975 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 19:03:27,976 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@5a904423

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: cd0da277-b142-c3cf-2a6a-28582e0cfe5e
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 19:03:27,980 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 19:03:27,980 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 19:03:27,980 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 19:03:27,981 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 19:03:27,982 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 19:03:27,983 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 19:03:27,984 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 19:03:27,984 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 19:03:27,984 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 19:03:27,984 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 19:03:27,984 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 19:03:27,985 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 19:03:27,985 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 19:03:27,985 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 19:03:27,985 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 19:03:27,985 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 19:03:27,985 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 19:03:27,985 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 19:03:27,985 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 19:03:29,944 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 19:03:30,321 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 19:03:30,322 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 19:03:30,322 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 19:03:30,323 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 19:03:30,324 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 19:03:30,324 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 19:03:30,324 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@eab41eb7
2018-09-19 19:03:30,325 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 19:03:30,325 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 19:03:30,326 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 19:03:30,327 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 19:03:30,327 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 19:03:30,334 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@c1c2897f, returned: 1
2018-09-19 19:03:30,334 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 19:03:30,334 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 19:03:30,334 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 19:03:30,345 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 19:03:30,345 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 19:03:30,387 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 19:03:30,387 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 19:03:32,171 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@21829550
2018-09-19 19:03:32,189 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 19:03:32,189 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 19:17:35,943 microservice-oauth2-server [RMI TCP Connection(24)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 19:17:35,943 microservice-oauth2-server [RMI TCP Connection(24)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@df77f9c0: startup date [Wed Sep 19 19:03:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@c01aefec
2018-09-19 19:17:35,951 microservice-oauth2-server [RMI TCP Connection(24)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 19:17:35,951 microservice-oauth2-server [RMI TCP Connection(24)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 19:17:35,959 microservice-oauth2-server [RMI TCP Connection(24)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 19:17:35,964 microservice-oauth2-server [RMI TCP Connection(24)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 19:17:35,970 microservice-oauth2-server [RMI TCP Connection(24)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 19:17:45,718 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@6128918f: startup date [Wed Sep 19 19:17:45 CST 2018]; root of context hierarchy
2018-09-19 19:17:46,249 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$bf6377f3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 19:17:46,719 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 19:17:46,743 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@645bdf61: startup date [Wed Sep 19 19:17:46 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@6128918f
2018-09-19 19:17:47,897 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 19:17:48,805 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 19:17:49,414 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 19:17:49,758 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a34974f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 19:17:49,833 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$bf6377f3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 19:17:50,596 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 19:17:50,905 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4162 ms
2018-09-19 19:17:51,069 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 19:17:52,367 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 19:17:52,367 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 19:17:52,368 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 19:17:52,368 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 19:17:52,368 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 19:17:52,369 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 19:17:52,369 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 19:17:52,370 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 19:17:52,522 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 19:17:52,739 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 19:17:52,807 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 19:17:52,822 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 19:17:52,941 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 19:17:52,945 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 19:17:52,999 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 19:17:53,149 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 19:17:53,438 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 19:17:53,805 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 19:17:53,994 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@645bdf61: startup date [Wed Sep 19 19:17:46 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@6128918f
2018-09-19 19:17:54,009 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 19:17:54,011 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 19:17:54,013 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 19:17:54,014 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 19:17:54,014 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 19:17:54,015 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 19:17:54,016 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 19:17:54,016 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 19:17:54,016 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 19:17:54,017 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 19:17:54,018 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 19:17:54,019 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 19:17:54,025 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 19:17:54,026 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 19:17:54,157 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 19:17:54,297 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$a529caac@ebbdb132}
2018-09-19 19:17:54,319 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 19:17:54,506 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 19:17:54,510 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 19:17:54,510 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 19:17:54,522 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 19:17:54,524 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 19:48:20,479 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@50ddb0b0: startup date [Wed Sep 19 19:48:20 CST 2018]; root of context hierarchy
2018-09-19 19:48:21,013 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c65edfc9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 19:48:21,467 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 19:48:21,494 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8567489e: startup date [Wed Sep 19 19:48:21 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@50ddb0b0
2018-09-19 19:48:22,678 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 19:48:23,638 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 19:48:24,234 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 19:48:24,544 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$aa44dccc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 19:48:24,622 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c65edfc9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 19:48:25,414 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 19:48:25,733 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4239 ms
2018-09-19 19:48:25,892 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 19:48:27,123 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 19:48:27,123 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 19:48:27,123 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 19:48:27,124 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 19:48:27,124 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 19:48:27,125 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 19:48:27,126 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 19:48:27,126 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 19:48:27,307 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 19:48:27,489 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 19:48:27,555 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 19:48:27,570 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 19:48:27,692 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 19:48:27,695 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 19:48:27,755 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 19:48:27,904 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 19:48:28,219 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 19:48:28,591 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 19:48:28,742 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@8567489e: startup date [Wed Sep 19 19:48:21 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@50ddb0b0
2018-09-19 19:48:28,756 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 19:48:28,759 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 19:48:28,762 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 19:48:28,763 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 19:48:28,763 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 19:48:28,764 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 19:48:28,765 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 19:48:28,765 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 19:48:28,765 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 19:48:28,766 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 19:48:28,766 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 19:48:28,767 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 19:48:28,773 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 19:48:28,773 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 19:48:28,894 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 19:48:29,010 microservice-oauth2-server [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
2018-09-19 19:48:29,012 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 19:48:29,014 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 19:48:29,021 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 19:48:29,063 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-19 19:48:29,076 microservice-oauth2-server [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$121.0000000011123BB0.getObject(Unknown Source) ~[?:?]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication.main(MicroserviceOauth2ServerApplication.java:10) [classes/:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
Caused by: java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.security.config.annotation.SecurityConfigurerAdapter.getBuilder(SecurityConfigurerAdapter.java:68) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.SecurityConfigurerAdapter.and(SecurityConfigurerAdapter.java:57) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.config.Oauth2ServerConfig.configure(Oauth2ServerConfig.java:53) ~[classes/:?]
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:103) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:77) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:230) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:321) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:92) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$b9525ebc.init(<generated>) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:371) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:325) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$517609bf.CGLIB$springSecurityFilterChain$1(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$517609bf$$FastClassBySpringCGLIB$$d1419d33.invoke(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:365) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$517609bf.springSecurityFilterChain(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
2018-09-19 20:04:30,010 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@57c44f58: startup date [Wed Sep 19 20:04:29 CST 2018]; root of context hierarchy
2018-09-19 20:04:30,534 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dbb1d4fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:04:30,985 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 20:04:31,022 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@54b4e377: startup date [Wed Sep 19 20:04:31 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@57c44f58
2018-09-19 20:04:32,203 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 20:04:33,096 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 20:04:33,695 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 20:04:34,015 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bf97d1fe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:04:34,091 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dbb1d4fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:04:34,834 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 20:04:35,138 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4115 ms
2018-09-19 20:04:35,318 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 20:04:36,583 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 20:04:36,583 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 20:04:36,584 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 20:04:36,584 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 20:04:36,584 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 20:04:36,585 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 20:04:36,586 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 20:04:36,586 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 20:04:36,774 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 20:04:36,956 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 20:04:37,023 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 20:04:37,039 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 20:04:37,158 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 20:04:37,162 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 20:04:37,218 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 20:04:37,359 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 20:04:37,646 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:04:38,049 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 20:04:38,194 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@54b4e377: startup date [Wed Sep 19 20:04:31 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@57c44f58
2018-09-19 20:04:38,209 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 20:04:38,212 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:04:38,213 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:04:38,214 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 20:04:38,215 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:04:38,215 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:04:38,217 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 20:04:38,218 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 20:04:38,218 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 20:04:38,219 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 20:04:38,219 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 20:04:38,220 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 20:04:38,226 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 20:04:38,227 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 20:04:38,346 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 20:04:38,488 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$c17827b4@623bad36}
2018-09-19 20:04:38,509 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 20:04:38,661 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 20:04:38,665 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 20:04:38,665 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/check_token']
2018-09-19 20:04:38,680 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:04:38,682 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:04:43,104 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e0e235a, org.springframework.security.web.context.SecurityContextPersistenceFilter@9008840d, org.springframework.security.web.header.HeaderWriterFilter@a3cd056d, org.springframework.security.web.authentication.logout.LogoutFilter@d9e23cea, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@45f757d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9832eb8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@184b4315, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb8442e, org.springframework.security.web.session.SessionManagementFilter@418cd8f7, org.springframework.security.web.access.ExceptionTranslationFilter@5f1941f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7612b404]
2018-09-19 20:04:43,138 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 20:04:43,138 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:04:43,138 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:04:44,155 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ae692fcf, org.springframework.security.web.context.SecurityContextPersistenceFilter@da843d7, org.springframework.security.web.header.HeaderWriterFilter@58555995, org.springframework.security.web.csrf.CsrfFilter@38bd60f3, org.springframework.security.web.authentication.logout.LogoutFilter@7e0ec54e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64e75de, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@bc619668, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@b7b7bb15, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66ac8cb8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a9ce013, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b318d092, org.springframework.security.web.session.SessionManagementFilter@66e5e787, org.springframework.security.web.access.ExceptionTranslationFilter@7dfc4201, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b94c5e8]
2018-09-19 20:04:44,162 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-19 20:04:44,390 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 20:04:44,838 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@54b4e377: startup date [Wed Sep 19 20:04:31 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@57c44f58
2018-09-19 20:04:44,902 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 20:04:44,972 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 20:04:44,973 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 20:04:45,049 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 20:04:45,049 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 20:04:46,035 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 20:04:46,072 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 20:04:46,073 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 20:04:46,074 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 20:04:46,323 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 20:04:46,328 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 20:04:46,353 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 20:04:46,355 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 20:04:46,360 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 20:04:46,365 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 20:04:46,383 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 20:04:46,406 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=54b4e377,type=ConfigurationPropertiesRebinder]
2018-09-19 20:04:46,422 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 20:04:46,529 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 20:04:46,536 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 17.335 seconds (JVM running for 19.69)
2018-09-19 20:04:56,236 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 20:04:56,266 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 29 ms
2018-09-19 20:04:56,286 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:04:56,288 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:04:56,299 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:04:56,299 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:04:56,299 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:04:56,301 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@a9b773e1

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 8f3dced3-024a-a4b6-f8d9-5d471caa1bd3
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 20:04:56,306 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:04:56,307 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:04:56,307 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:04:56,308 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 20:04:56,310 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 20:04:56,311 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 20:04:56,313 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 20:04:56,313 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 20:04:56,313 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 20:04:56,313 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 20:04:56,313 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 20:04:56,314 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 20:04:56,314 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 20:04:56,314 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 20:04:56,314 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 20:04:56,315 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 20:04:56,315 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 11 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 20:04:56,315 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 20:04:56,317 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:04:56,694 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:04:56,694 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 20:04:56,694 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 20:04:56,696 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 20:04:56,696 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 20:04:56,696 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 20:04:56,697 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4f1e9981
2018-09-19 20:04:56,697 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 20:04:56,697 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 20:04:56,698 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:04:56,698 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 20:04:56,698 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:04:56,708 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7d89cb5a, returned: 1
2018-09-19 20:04:56,709 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 20:04:56,709 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 20:04:56,709 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 20:04:56,719 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:04:56,720 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:04:56,768 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 20:04:56,768 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:04:58,591 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45aa7efd
2018-09-19 20:04:58,604 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 20:04:58,604 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 20:05:59,201 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 20:05:59,202 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@54b4e377: startup date [Wed Sep 19 20:04:31 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@57c44f58
2018-09-19 20:05:59,240 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 20:05:59,244 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 20:05:59,254 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:05:59,263 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 20:05:59,284 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 20:06:09,641 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@c9ecd69d: startup date [Wed Sep 19 20:06:09 CST 2018]; root of context hierarchy
2018-09-19 20:06:10,169 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7201ab5c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:06:10,620 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 20:06:10,644 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@628f35c1: startup date [Wed Sep 19 20:06:10 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@c9ecd69d
2018-09-19 20:06:11,815 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 20:06:12,747 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 20:06:16,424 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 20:06:16,764 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$55e7a85f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:06:16,843 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7201ab5c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:06:17,630 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 20:06:17,943 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 7299 ms
2018-09-19 20:06:18,121 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 20:06:19,399 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 20:06:19,400 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 20:06:19,400 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 20:06:19,400 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 20:06:19,400 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 20:06:19,402 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 20:06:19,403 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 20:06:19,403 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 20:06:19,597 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 20:06:19,775 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 20:06:19,837 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 20:06:19,856 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 20:06:19,988 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 20:06:19,991 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 20:06:20,047 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 20:06:20,196 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 20:06:20,479 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:06:23,352 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 20:06:23,510 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@628f35c1: startup date [Wed Sep 19 20:06:10 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@c9ecd69d
2018-09-19 20:06:23,529 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 20:06:23,531 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:06:23,533 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:06:23,534 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 20:06:23,535 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:06:23,536 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:06:23,537 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 20:06:23,537 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 20:06:23,538 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 20:06:23,539 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 20:06:23,539 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 20:06:23,540 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 20:06:23,548 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 20:06:23,548 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 20:06:23,684 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 20:06:44,200 microservice-oauth2-server [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
2018-09-19 20:06:44,211 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:06:44,223 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 20:06:44,241 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 20:06:44,320 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-19 20:06:44,336 microservice-oauth2-server [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$121.00000000112ADE30.getObject(Unknown Source) ~[?:?]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication.main(MicroserviceOauth2ServerApplication.java:10) [classes/:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
Caused by: java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.security.config.annotation.SecurityConfigurerAdapter.getBuilder(SecurityConfigurerAdapter.java:68) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.SecurityConfigurerAdapter.and(SecurityConfigurerAdapter.java:57) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.config.Oauth2ServerConfig.configure(Oauth2ServerConfig.java:53) ~[classes/:?]
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:103) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:77) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:230) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:321) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:92) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$64f52a4f.init(<generated>) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:371) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:325) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$fd18d552.CGLIB$springSecurityFilterChain$1(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$fd18d552$$FastClassBySpringCGLIB$$332fabbe.invoke(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:365) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$fd18d552.springSecurityFilterChain(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
2018-09-19 20:07:00,238 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@61560ab2: startup date [Wed Sep 19 20:07:00 CST 2018]; root of context hierarchy
2018-09-19 20:07:00,778 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$34721291] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:07:01,226 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 20:07:01,260 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6d941ca3: startup date [Wed Sep 19 20:07:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@61560ab2
2018-09-19 20:07:02,417 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 20:07:03,336 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 20:07:07,250 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 20:07:07,579 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18580f94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:07:07,658 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$34721291] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:07:08,432 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 20:07:08,740 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 7480 ms
2018-09-19 20:07:08,909 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 20:07:10,211 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 20:07:10,212 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 20:07:10,212 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 20:07:10,212 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 20:07:10,212 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 20:07:10,214 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 20:07:10,214 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 20:07:10,214 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 20:07:10,382 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 20:07:10,591 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 20:07:10,655 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 20:07:10,668 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 20:07:10,785 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 20:07:10,789 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 20:07:10,851 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 20:07:10,997 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 20:07:11,289 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:07:11,713 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 20:07:11,866 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6d941ca3: startup date [Wed Sep 19 20:07:01 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@61560ab2
2018-09-19 20:07:11,882 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 20:07:11,885 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:07:11,886 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:07:11,888 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 20:07:11,888 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:07:11,889 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:07:11,890 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 20:07:11,890 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 20:07:11,891 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 20:07:11,891 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 20:07:11,891 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 20:07:11,892 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 20:07:11,898 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 20:07:11,899 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 20:07:12,028 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 20:10:26,187 microservice-oauth2-server [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
2018-09-19 20:10:26,193 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:10:26,202 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 20:10:26,212 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 20:10:26,275 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-19 20:10:26,296 microservice-oauth2-server [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$121.0000000011329140.getObject(Unknown Source) ~[?:?]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication.main(MicroserviceOauth2ServerApplication.java:10) [classes/:?]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
Caused by: java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.security.config.annotation.SecurityConfigurerAdapter.getBuilder(SecurityConfigurerAdapter.java:68) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.SecurityConfigurerAdapter.and(SecurityConfigurerAdapter.java:57) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.config.Oauth2ServerConfig.configure(Oauth2ServerConfig.java:53) ~[classes/:?]
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:103) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:77) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:230) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:321) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:92) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$27659184.init(<generated>) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:371) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:325) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$bf893c87.CGLIB$springSecurityFilterChain$1(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$bf893c87$$FastClassBySpringCGLIB$$961d97f.invoke(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:365) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$bf893c87.springSecurityFilterChain(<generated>) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	... 21 more
2018-09-19 20:47:47,582 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@18820057: startup date [Wed Sep 19 20:47:47 CST 2018]; root of context hierarchy
2018-09-19 20:47:48,132 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c803d0dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:47:48,578 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 20:47:48,603 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ab7a8da6: startup date [Wed Sep 19 20:47:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18820057
2018-09-19 20:47:49,775 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 20:47:50,736 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 20:47:51,322 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5a75b832-76be-3916-9794-84cbfc0b9e7f
2018-09-19 20:47:51,634 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$abe9cde0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:47:51,719 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c803d0dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:47:52,489 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 20:47:52,800 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4197 ms
2018-09-19 20:47:52,983 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 20:47:54,265 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 20:47:54,265 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 20:47:54,266 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 20:47:54,266 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 20:47:54,266 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 20:47:54,267 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 20:47:54,267 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 20:47:54,268 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 20:47:54,476 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 20:47:54,658 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 20:47:54,720 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 20:47:54,738 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 20:47:54,856 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 20:47:54,858 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 20:47:54,914 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 20:47:55,059 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 20:47:55,344 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:47:55,739 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 20:47:55,884 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ab7a8da6: startup date [Wed Sep 19 20:47:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18820057
2018-09-19 20:47:55,899 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 20:47:55,901 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:47:55,903 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:47:55,904 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 20:47:55,905 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:47:55,905 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:47:55,906 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 20:47:55,906 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 20:47:55,907 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 20:47:55,907 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 20:47:55,908 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 20:47:55,908 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 20:47:55,917 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 20:47:55,917 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 20:47:56,064 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 20:47:59,868 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$adca2396@976d62c3}
2018-09-19 20:47:59,889 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 20:48:00,086 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 20:48:00,090 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 20:48:00,090 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 20:48:00,108 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:48:00,109 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:48:03,109 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f4a0dc46, org.springframework.security.web.context.SecurityContextPersistenceFilter@12c064fd, org.springframework.security.web.header.HeaderWriterFilter@e7da8273, org.springframework.security.web.authentication.logout.LogoutFilter@9c3feb97, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@aae33e1e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c20eaed0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@da0a83b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f87b0c2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@91cd8da6, org.springframework.security.web.session.SessionManagementFilter@33eb8f7b, org.springframework.security.web.access.ExceptionTranslationFilter@fbe6e3d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@88294fc5]
2018-09-19 20:48:03,159 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 20:48:03,160 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:48:03,160 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:48:03,945 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30e4ad2a, org.springframework.security.web.context.SecurityContextPersistenceFilter@31e6b45f, org.springframework.security.web.header.HeaderWriterFilter@f59d354b, org.springframework.security.web.csrf.CsrfFilter@d9eb11c9, org.springframework.security.web.authentication.logout.LogoutFilter@bdad9544, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@abe788bf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@d7af96f1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@dbaae896, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54f65b70, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@655f42bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b3117e6b, org.springframework.security.web.session.SessionManagementFilter@1c71ddca, org.springframework.security.web.access.ExceptionTranslationFilter@4eaf0867, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e47f58d]
2018-09-19 20:48:03,971 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-19 20:48:04,184 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 20:48:04,587 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ab7a8da6: startup date [Wed Sep 19 20:47:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18820057
2018-09-19 20:48:04,644 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 20:48:04,715 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 20:48:04,715 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 20:48:04,783 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 20:48:04,783 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 20:48:05,748 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 20:48:05,771 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 20:48:05,772 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 20:48:05,773 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 20:48:06,009 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 20:48:06,012 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 20:48:06,029 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 20:48:06,030 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 20:48:06,033 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 20:48:06,037 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 20:48:06,049 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 20:48:06,069 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=ab7a8da6,type=ConfigurationPropertiesRebinder]
2018-09-19 20:48:06,082 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 20:48:06,178 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 20:48:06,185 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 19.396 seconds (JVM running for 21.632)
2018-09-19 20:48:12,232 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 20:48:12,263 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 31 ms
2018-09-19 20:48:12,279 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:48:12,281 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:48:12,289 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:48:12,289 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:48:12,290 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:48:12,291 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@7e16e20d

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: f233d676-1766-a4b2-d1fa-718dc758eab7
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 20:48:12,296 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:48:12,296 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:48:12,296 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:48:12,297 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 20:48:12,299 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 20:48:12,299 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 20:48:12,301 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 20:48:12,301 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 20:48:12,301 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 20:48:12,301 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 20:48:12,301 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 20:48:12,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 20:48:12,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 20:48:12,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 20:48:12,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 20:48:12,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 20:48:12,302 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 20:48:12,303 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 20:48:12,303 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 20:48:12,304 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:48:12,667 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:48:12,667 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 20:48:12,667 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 20:48:12,669 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 20:48:12,669 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 20:48:12,669 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 20:48:12,669 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@135b6efc
2018-09-19 20:48:12,670 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 20:48:12,670 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 20:48:12,671 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:48:12,671 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 20:48:12,671 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:48:12,677 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@c3ad5dab, returned: 1
2018-09-19 20:48:12,677 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 20:48:12,678 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 20:48:12,678 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 20:48:12,687 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:48:12,688 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:48:12,727 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 20:48:12,727 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:48:14,371 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6ab5fbf2
2018-09-19 20:48:14,384 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 20:48:14,385 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 20:49:28,229 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:49:28,230 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:49:28,231 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:49:28,231 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:49:28,231 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:49:28,232 microservice-oauth2-server [http-nio-8080-exec-3] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@7e16e20d

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 8ca1c979-2913-558c-8c75-e4040f8d88e7
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 20:49:28,232 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:49:28,232 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:49:28,232 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:49:28,232 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 20:49:28,233 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 20:49:28,233 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 20:49:28,233 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 20:49:28,233 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 20:49:28,236 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 20:49:28,237 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:49:28,237 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:49:28,237 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 20:49:28,237 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 20:49:28,237 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 20:49:28,237 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 20:49:28,237 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 20:49:28,237 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@135b6efc
2018-09-19 20:49:28,237 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 20:49:28,238 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 20:49:28,238 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:49:28,238 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 20:49:28,238 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:49:28,238 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@c3ad5dab, returned: 1
2018-09-19 20:49:28,238 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 20:49:28,238 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 20:49:28,239 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 20:49:28,242 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:49:28,242 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:49:28,244 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 20:49:28,244 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:49:28,254 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6ab5fbf2
2018-09-19 20:49:28,255 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 20:49:28,255 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 20:49:29,369 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:49:29,371 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:49:29,372 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:49:29,372 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:49:29,372 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:49:29,373 microservice-oauth2-server [http-nio-8080-exec-4] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@7e16e20d

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: e032762d-91fb-25ee-28fb-7af9d6a3b3e2
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 20:49:29,373 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:49:29,373 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:49:29,373 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:49:29,373 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 20:49:29,373 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 20:49:29,373 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 20:49:29,374 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 20:49:29,375 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 20:49:29,375 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 20:49:29,375 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 20:49:29,375 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:49:29,375 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:49:29,375 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 20:49:29,376 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 20:49:29,376 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 20:49:29,376 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 20:49:29,376 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 20:49:29,376 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@135b6efc
2018-09-19 20:49:29,376 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 20:49:29,376 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 20:49:29,376 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:49:29,376 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 20:49:29,377 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:49:29,377 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@c3ad5dab, returned: 1
2018-09-19 20:49:29,377 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 20:49:29,377 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 20:49:29,377 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 20:49:29,382 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:49:29,383 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:49:29,386 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 20:49:29,386 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:49:29,403 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6ab5fbf2
2018-09-19 20:49:29,406 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 20:49:29,406 microservice-oauth2-server [http-nio-8080-exec-4] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 20:49:44,276 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:49:44,277 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:49:44,278 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:49:44,278 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:49:44,278 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:49:44,278 microservice-oauth2-server [http-nio-8080-exec-6] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@7e16e20d

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: fbfb81ff-b1f1-a267-d2bf-0b2a59bd1453
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 20:49:44,279 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 20:49:44,279 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:49:44,279 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 20:49:44,279 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 20:49:44,279 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 20:49:44,279 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 20:49:44,279 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 20:49:44,279 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 20:49:44,283 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:49:44,284 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:49:44,284 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 20:49:44,284 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 20:49:44,284 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 20:49:44,284 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 20:49:44,290 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 20:49:44,290 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@135b6efc
2018-09-19 20:49:44,290 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 20:49:44,290 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 20:49:44,290 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 20:49:44,291 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 20:49:44,291 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 20:49:44,291 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@c3ad5dab, returned: 1
2018-09-19 20:49:44,291 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 20:49:44,291 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 20:49:44,291 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 20:49:44,293 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 20:49:44,294 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 20:49:44,294 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 20:49:44,295 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 20:49:44,303 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6ab5fbf2
2018-09-19 20:49:44,307 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 20:49:44,307 microservice-oauth2-server [http-nio-8080-exec-6] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 20:50:16,060 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 20:50:16,060 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ab7a8da6: startup date [Wed Sep 19 20:47:48 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18820057
2018-09-19 20:50:16,066 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 20:50:16,067 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 20:50:16,074 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:50:16,079 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 20:50:16,095 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 20:50:22,591 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5027879e: startup date [Wed Sep 19 20:50:22 CST 2018]; root of context hierarchy
2018-09-19 20:50:23,124 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$416af14] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:50:23,592 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 20:50:23,630 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9e10dd7e: startup date [Wed Sep 19 20:50:23 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@5027879e
2018-09-19 20:50:24,765 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 20:50:25,678 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 20:50:26,269 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5a75b832-76be-3916-9794-84cbfc0b9e7f
2018-09-19 20:50:26,593 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e7fcac17] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:50:26,670 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$416af14] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 20:50:27,418 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 20:50:27,724 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4094 ms
2018-09-19 20:50:27,882 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 20:50:29,171 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 20:50:29,174 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 20:50:29,174 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 20:50:29,174 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 20:50:29,174 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 20:50:29,176 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 20:50:29,176 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 20:50:29,176 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 20:50:29,328 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 20:50:29,507 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 20:50:29,570 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 20:50:29,592 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 20:50:29,709 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 20:50:29,712 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 20:50:29,793 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 20:50:29,941 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 20:50:30,225 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:50:30,591 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 20:50:30,730 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9e10dd7e: startup date [Wed Sep 19 20:50:23 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@5027879e
2018-09-19 20:50:30,744 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 20:50:30,747 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:50:30,748 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 20:50:30,749 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 20:50:30,750 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:50:30,750 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 20:50:30,751 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 20:50:30,751 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 20:50:30,751 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 20:50:30,752 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 20:50:30,752 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 20:50:30,752 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 20:50:30,759 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 20:50:30,760 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 20:50:34,843 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 20:50:34,999 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$e9dd01cd@363f737c}
2018-09-19 20:50:35,016 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 20:54:19,577 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 20:54:19,583 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 20:54:19,583 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 20:54:19,599 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:54:19,602 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:54:19,628 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10343869, org.springframework.security.web.context.SecurityContextPersistenceFilter@e1f8adfc, org.springframework.security.web.header.HeaderWriterFilter@72d8750, org.springframework.security.web.authentication.logout.LogoutFilter@19cd4ce4, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@8e190029, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@44cabb02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@abb45cf1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@85040569, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b4f6935, org.springframework.security.web.session.SessionManagementFilter@68ba6d18, org.springframework.security.web.access.ExceptionTranslationFilter@8a269941, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@91da6bab]
2018-09-19 20:54:19,657 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 20:54:19,657 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:54:19,658 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 20:54:19,671 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d1e4fc55, org.springframework.security.web.context.SecurityContextPersistenceFilter@4792b0fa, org.springframework.security.web.header.HeaderWriterFilter@b3c540ce, org.springframework.security.web.csrf.CsrfFilter@31654bcc, org.springframework.security.web.authentication.logout.LogoutFilter@151bc0b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7c8db02c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@dcd56c46, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c414970b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7646b16d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ba4bd88f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65e88214, org.springframework.security.web.session.SessionManagementFilter@f5220aa7, org.springframework.security.web.access.ExceptionTranslationFilter@735cbe0d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@8f605e1b]
2018-09-19 20:54:19,675 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-19 20:54:19,889 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 20:54:20,324 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9e10dd7e: startup date [Wed Sep 19 20:50:23 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@5027879e
2018-09-19 20:54:20,376 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 20:54:20,426 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 20:54:20,427 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 20:54:20,495 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 20:54:20,496 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 20:54:21,474 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 20:54:21,495 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 20:54:21,495 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 20:54:21,497 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 20:54:21,719 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 20:54:21,724 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 20:54:21,746 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 20:54:21,749 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 20:54:21,754 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 20:54:21,759 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 20:54:21,775 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 20:54:21,801 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=9e10dd7e,type=ConfigurationPropertiesRebinder]
2018-09-19 20:54:21,819 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 20:54:21,939 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 20:54:21,947 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 240.161 seconds (JVM running for 242.417)
2018-09-19 20:59:59,777 microservice-oauth2-server [RMI TCP Connection(15)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 20:59:59,778 microservice-oauth2-server [RMI TCP Connection(15)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9e10dd7e: startup date [Wed Sep 19 20:50:23 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@5027879e
2018-09-19 20:59:59,816 microservice-oauth2-server [RMI TCP Connection(15)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 20:59:59,818 microservice-oauth2-server [RMI TCP Connection(15)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 20:59:59,834 microservice-oauth2-server [RMI TCP Connection(15)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 20:59:59,843 microservice-oauth2-server [RMI TCP Connection(15)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 20:59:59,856 microservice-oauth2-server [RMI TCP Connection(15)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 21:00:08,488 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@cababbad: startup date [Wed Sep 19 21:00:08 CST 2018]; root of context hierarchy
2018-09-19 21:00:09,021 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7c5bc0b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:00:09,461 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 21:00:09,490 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c100af91: startup date [Wed Sep 19 21:00:09 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@cababbad
2018-09-19 21:00:10,662 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 21:00:11,647 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 21:00:12,232 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=5a75b832-76be-3916-9794-84cbfc0b9e7f
2018-09-19 21:00:12,558 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ebabb90e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:00:12,636 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7c5bc0b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:00:13,380 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 21:00:13,692 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4202 ms
2018-09-19 21:00:13,855 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 21:00:15,124 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 21:00:15,124 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 21:00:15,124 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 21:00:15,125 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 21:00:15,125 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 21:00:15,126 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 21:00:15,127 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 21:00:15,127 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 21:00:15,284 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 21:00:15,464 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 21:00:15,527 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 21:00:15,542 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 21:00:15,660 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 21:00:15,663 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 21:00:15,746 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 21:00:15,893 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 21:00:16,178 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 21:00:16,547 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 21:00:16,696 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c100af91: startup date [Wed Sep 19 21:00:09 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@cababbad
2018-09-19 21:00:16,710 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 21:00:16,712 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:00:16,714 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:00:16,715 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 21:00:16,715 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:00:16,716 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:00:16,717 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 21:00:16,717 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 21:00:16,718 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 21:00:16,718 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 21:00:16,721 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 21:00:16,721 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 21:00:16,729 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 21:00:16,729 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 21:00:20,201 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 21:00:20,406 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$ed8c0ec4@8d6e0018}
2018-09-19 21:00:20,423 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 21:00:32,069 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 21:00:32,072 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 21:00:32,072 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 21:00:32,088 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:00:32,090 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:00:32,114 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@149822b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@d4475eaa, org.springframework.security.web.header.HeaderWriterFilter@8278cb8f, org.springframework.security.web.authentication.logout.LogoutFilter@62a1f83, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@4daa8265, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@fd91f1a0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@96f861c8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d431eb06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ef87686d, org.springframework.security.web.session.SessionManagementFilter@e4652cc1, org.springframework.security.web.access.ExceptionTranslationFilter@15106721, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@af2da3e4]
2018-09-19 21:00:32,143 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 21:00:32,144 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:00:32,144 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:00:32,162 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ec26751d, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c7e87d0, org.springframework.security.web.header.HeaderWriterFilter@1d373bee, org.springframework.security.web.csrf.CsrfFilter@f1d219fe, org.springframework.security.web.authentication.logout.LogoutFilter@1202b3f0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@192d20ba, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@54e52d80, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@9b7a5820, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fc53005, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16dcd792, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c081c009, org.springframework.security.web.session.SessionManagementFilter@a033505, org.springframework.security.web.access.ExceptionTranslationFilter@faae21b1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@795e26e1]
2018-09-19 21:00:32,166 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-19 21:00:32,364 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:00:32,749 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c100af91: startup date [Wed Sep 19 21:00:09 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@cababbad
2018-09-19 21:00:32,809 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 21:00:32,877 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:00:32,877 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 21:00:32,936 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:00:32,936 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:00:33,878 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 21:00:33,904 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:00:33,905 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:00:33,906 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:00:34,121 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 21:00:34,125 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 21:00:34,143 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 21:00:34,145 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 21:00:34,148 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 21:00:34,151 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 21:00:34,164 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 21:00:34,182 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=c100af91,type=ConfigurationPropertiesRebinder]
2018-09-19 21:00:34,197 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 21:00:34,300 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 21:00:34,306 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 26.601 seconds (JVM running for 28.819)
2018-09-19 21:00:40,666 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 21:00:40,694 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 28 ms
2018-09-19 21:00:40,707 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:00:40,709 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:00:40,717 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:00:40,717 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:00:40,717 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:00:40,721 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@c4c0d5ca

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: fb6c9699-072d-c133-62a3-47e2ffcf9e33
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 21:00:40,725 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:00:40,725 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:00:40,726 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:00:40,727 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 21:00:40,728 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 21:00:40,729 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 21:00:40,731 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 21:00:40,731 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 21:00:40,731 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 21:00:40,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 21:00:40,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 21:00:40,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 21:00:40,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 21:00:40,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 21:00:40,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 21:00:40,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 21:00:40,732 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 21:00:40,733 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 21:00:40,733 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 21:00:40,734 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 21:00:41,097 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:00:41,098 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 21:00:41,098 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 21:00:41,100 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 21:00:41,100 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 21:00:41,100 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 21:00:41,100 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@8c3e0a7c
2018-09-19 21:00:41,101 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 21:00:41,101 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 21:00:41,102 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:00:41,102 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 21:00:41,103 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:00:41,112 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@fb4127e6, returned: 1
2018-09-19 21:00:41,112 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 21:00:41,113 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 21:00:41,113 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 21:00:41,122 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:00:41,123 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:00:41,211 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 21:00:41,211 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 21:00:42,459 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@b9a9c16
2018-09-19 21:00:42,472 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 21:00:42,472 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 21:05:43,453 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:05:43,454 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:05:43,455 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:05:43,455 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:05:43,456 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:05:43,457 microservice-oauth2-server [http-nio-8080-exec-3] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@c4c0d5ca

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 775223f2-8f98-2ba2-5c14-b39e1c24a9d0
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 21:05:43,457 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:05:43,457 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:05:43,458 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:05:43,458 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 21:05:43,458 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 21:05:43,458 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 21:05:43,458 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 21:05:43,458 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 21:05:43,459 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 21:05:43,459 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 21:05:43,459 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 21:05:43,459 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 21:05:43,459 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 21:05:43,459 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 21:05:43,460 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 21:05:43,460 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 21:05:43,460 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 21:05:43,460 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 21:05:43,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 21:05:43,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 21:05:43,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:05:43,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 21:05:43,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 21:05:43,461 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 21:05:43,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 21:05:43,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 21:05:43,462 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@8c3e0a7c
2018-09-19 21:05:43,463 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 21:05:43,463 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 21:05:43,463 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:05:43,463 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 21:05:43,464 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:05:43,465 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@fb4127e6, returned: 1
2018-09-19 21:05:43,465 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 21:05:43,465 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 21:05:43,465 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 21:05:43,469 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:05:43,471 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:08:54,003 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 21:11:49,544 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 21:11:49,565 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@b9a9c16
2018-09-19 21:11:49,569 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 21:11:49,570 microservice-oauth2-server [http-nio-8080-exec-3] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 21:21:32,356 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@15c2a77: startup date [Wed Sep 19 21:21:32 CST 2018]; root of context hierarchy
2018-09-19 21:21:32,889 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$aca811ed] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:21:33,324 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 21:21:33,353 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@25f23028: startup date [Wed Sep 19 21:21:33 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@15c2a77
2018-09-19 21:21:34,490 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 21:21:35,410 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 21:21:35,985 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 21:21:36,311 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$908e0ef0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:21:36,387 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$aca811ed] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:21:37,143 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 21:21:37,434 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4080 ms
2018-09-19 21:21:37,590 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 21:21:38,841 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 21:21:38,841 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 21:21:38,842 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 21:21:38,842 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 21:21:38,842 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 21:21:38,843 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 21:21:38,844 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 21:21:38,844 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 21:21:38,999 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 21:21:39,184 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 21:21:39,245 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 21:21:39,259 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 21:21:39,378 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 21:21:39,382 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 21:21:39,436 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 21:21:39,580 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 21:21:39,889 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 21:21:40,259 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 21:21:40,412 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@25f23028: startup date [Wed Sep 19 21:21:33 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@15c2a77
2018-09-19 21:21:40,426 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 21:21:40,428 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:21:40,429 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:21:40,430 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 21:21:40,431 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:21:40,431 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:21:40,432 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 21:21:40,432 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 21:21:40,432 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 21:21:40,433 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 21:21:40,433 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 21:21:40,434 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 21:21:40,443 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 21:21:40,443 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 21:21:40,572 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 21:21:40,717 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$926e64a6@6e43cedc}
2018-09-19 21:21:40,727 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 21:21:45,095 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 21:21:45,099 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 21:21:45,099 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 21:21:45,113 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:21:45,115 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:21:45,141 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d9d3ec45, org.springframework.security.web.context.SecurityContextPersistenceFilter@45eb13f, org.springframework.security.web.header.HeaderWriterFilter@7e843f3, org.springframework.security.web.authentication.logout.LogoutFilter@ee9ecf47, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@ffcc428a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@72e5d658, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47858abe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c521d02, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e36db815, org.springframework.security.web.session.SessionManagementFilter@9ab7a63a, org.springframework.security.web.access.ExceptionTranslationFilter@5641229b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d48e75c]
2018-09-19 21:21:45,175 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 21:21:45,175 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:21:45,176 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:21:45,194 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bcd835, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e6365a8, org.springframework.security.web.header.HeaderWriterFilter@337a4d8, org.springframework.security.web.csrf.CsrfFilter@5ff8a28a, org.springframework.security.web.authentication.logout.LogoutFilter@1c57f5b8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f7ae60da, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6266e42d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@e1131272, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af56c9f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56ea781b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f404f463, org.springframework.security.web.session.SessionManagementFilter@de9f442f, org.springframework.security.web.access.ExceptionTranslationFilter@691dd3c7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e0e55e52]
2018-09-19 21:21:45,198 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-19 21:21:45,387 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:21:45,773 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@25f23028: startup date [Wed Sep 19 21:21:33 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@15c2a77
2018-09-19 21:21:45,829 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 21:21:45,889 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:21:45,889 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 21:21:45,948 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:21:45,949 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:21:46,783 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 21:21:46,857 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:21:46,858 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:21:46,858 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:21:47,081 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 21:21:47,084 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 21:21:47,098 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 21:21:47,099 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 21:21:47,101 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 21:21:47,105 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 21:21:47,119 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 21:21:47,135 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=25f23028,type=ConfigurationPropertiesRebinder]
2018-09-19 21:21:47,146 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 21:21:47,211 microservice-oauth2-server [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2018-09-19 21:21:47,220 microservice-oauth2-server [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8080 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8080, or configure this application to listen on another port.

2018-09-19 21:21:47,221 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@25f23028: startup date [Wed Sep 19 21:21:33 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@15c2a77
2018-09-19 21:21:47,226 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 21:21:47,227 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 21:21:47,231 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 21:21:47,234 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 21:21:47,239 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 21:22:07,176 microservice-oauth2-server [RMI TCP Connection(36)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 21:22:07,177 microservice-oauth2-server [RMI TCP Connection(36)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c100af91: startup date [Wed Sep 19 21:00:09 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@cababbad
2018-09-19 21:22:07,210 microservice-oauth2-server [RMI TCP Connection(36)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 21:22:07,211 microservice-oauth2-server [RMI TCP Connection(36)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 21:22:07,222 microservice-oauth2-server [RMI TCP Connection(36)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 21:22:07,231 microservice-oauth2-server [RMI TCP Connection(36)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 21:22:07,239 microservice-oauth2-server [RMI TCP Connection(36)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 21:22:16,201 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@902d5bd1: startup date [Wed Sep 19 21:22:16 CST 2018]; root of context hierarchy
2018-09-19 21:22:16,722 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2691e09e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:22:17,175 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 21:22:17,210 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@343a8346: startup date [Wed Sep 19 21:22:17 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@902d5bd1
2018-09-19 21:22:18,363 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 21:22:19,293 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 21:22:19,883 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 21:22:20,194 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a77dda1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:22:20,272 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2691e09e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:22:21,000 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 21:22:21,335 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4124 ms
2018-09-19 21:22:21,526 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 21:22:22,810 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 21:22:22,810 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 21:22:22,811 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 21:22:22,811 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 21:22:22,811 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 21:22:22,812 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 21:22:22,813 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 21:22:22,813 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 21:22:22,970 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 21:22:23,152 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 21:22:23,217 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 21:22:23,232 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 21:22:23,356 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 21:22:23,360 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 21:22:23,420 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 21:22:23,566 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 21:22:23,888 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 21:22:24,274 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 21:22:24,427 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@343a8346: startup date [Wed Sep 19 21:22:17 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@902d5bd1
2018-09-19 21:22:24,441 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 21:22:24,443 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:22:24,444 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:22:24,445 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 21:22:24,446 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:22:24,446 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:22:24,447 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 21:22:24,447 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 21:22:24,448 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 21:22:24,448 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 21:22:24,450 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 21:22:24,450 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 21:22:24,457 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 21:22:24,458 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 21:22:24,585 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 21:22:24,732 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$c583357@e94682d4}
2018-09-19 21:22:24,740 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 21:22:24,945 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 21:22:24,948 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 21:22:24,949 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 21:22:24,962 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:22:24,963 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:22:24,988 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f409458, org.springframework.security.web.context.SecurityContextPersistenceFilter@a5594857, org.springframework.security.web.header.HeaderWriterFilter@2be5373f, org.springframework.security.web.authentication.logout.LogoutFilter@2888fe69, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@f745a577, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@454368a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8d4d7015, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7da31b6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ccd0496, org.springframework.security.web.session.SessionManagementFilter@da5a3df4, org.springframework.security.web.access.ExceptionTranslationFilter@72e77df6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b00ca1f2]
2018-09-19 21:22:25,018 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 21:22:25,019 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:22:25,019 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:22:25,043 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cc9b3f51, org.springframework.security.web.context.SecurityContextPersistenceFilter@84b0f379, org.springframework.security.web.header.HeaderWriterFilter@9069401f, org.springframework.security.web.csrf.CsrfFilter@81780b48, org.springframework.security.web.authentication.logout.LogoutFilter@f9176e28, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@a09b09a8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4ece9853, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@533f3d68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24e8a1a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a78112dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1913e76e, org.springframework.security.web.session.SessionManagementFilter@b09be1f2, org.springframework.security.web.access.ExceptionTranslationFilter@555b77d4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@120d0032]
2018-09-19 21:22:25,051 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-19 21:22:25,263 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:22:25,612 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@343a8346: startup date [Wed Sep 19 21:22:17 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@902d5bd1
2018-09-19 21:22:25,670 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 21:22:25,724 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:22:25,725 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 21:22:25,782 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:22:25,782 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:22:26,657 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 21:22:26,680 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:22:26,680 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:22:26,681 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:22:26,902 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 21:22:26,905 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 21:22:26,920 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 21:22:26,921 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 21:22:26,924 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 21:22:26,928 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 21:22:26,940 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 21:22:26,957 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=343a8346,type=ConfigurationPropertiesRebinder]
2018-09-19 21:22:26,969 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 21:22:27,049 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 21:22:27,056 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.674 seconds (JVM running for 13.943)
2018-09-19 21:22:36,643 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 21:22:36,676 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2018-09-19 21:22:36,692 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:22:36,694 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:22:36,701 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:22:36,701 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:22:36,702 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:22:36,704 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@e5594792

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: dc465f29-68ee-f8b2-ddbd-e6029c6a0cd4
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 21:22:36,707 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:22:36,707 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:22:36,707 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:22:36,708 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 21:22:36,709 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 21:22:36,710 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 21:22:36,711 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 21:22:36,711 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 21:22:36,711 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 21:22:36,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 21:22:36,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 21:22:36,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 21:22:36,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 21:22:36,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 21:22:36,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 21:22:36,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 21:22:36,712 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 21:22:36,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 21:22:36,713 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 21:22:36,714 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 21:22:37,082 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:22:37,082 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 21:22:37,082 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 21:22:37,084 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 21:22:37,084 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 21:22:37,084 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 21:22:37,084 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1b876508
2018-09-19 21:22:37,085 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 21:22:37,085 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 21:22:37,086 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:22:37,086 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 21:22:37,086 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:22:37,095 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@30c931df, returned: 1
2018-09-19 21:22:37,096 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 21:22:37,096 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 21:22:37,096 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 21:22:37,105 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:22:37,106 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:22:45,871 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 21:22:45,872 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-19 21:23:01,506 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.DefaultAuthenticationEventPublisher - No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2018-09-19 21:23:01,529 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: InternalAuthenticationServiceException, UserDetailsService returned null, which is an interface contract violation
org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:106) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:512) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 21:23:01,628 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@20ccdaa3
2018-09-19 21:23:01,634 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation]
2018-09-19 21:23:01,653 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 21:23:01,653 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 21:24:09,536 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 21:24:09,537 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@343a8346: startup date [Wed Sep 19 21:22:17 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@902d5bd1
2018-09-19 21:24:09,568 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 21:24:09,570 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 21:24:09,580 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 21:24:09,588 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 21:24:09,604 microservice-oauth2-server [RMI TCP Connection(11)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 21:24:16,686 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@71881b67: startup date [Wed Sep 19 21:24:16 CST 2018]; root of context hierarchy
2018-09-19 21:24:17,210 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$25296750] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:24:17,662 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 21:24:17,690 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5180cc83: startup date [Wed Sep 19 21:24:17 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@71881b67
2018-09-19 21:24:18,864 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 21:24:19,819 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 21:24:20,392 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 21:24:20,715 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$90f6453] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:24:20,791 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$25296750] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:24:21,554 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 21:24:21,856 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4166 ms
2018-09-19 21:24:22,019 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 21:24:23,261 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 21:24:23,262 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 21:24:23,262 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 21:24:23,262 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 21:24:23,262 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 21:24:23,264 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 21:24:23,264 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 21:24:23,264 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 21:24:23,422 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 21:24:23,633 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 21:24:23,697 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 21:24:23,719 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 21:24:23,846 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 21:24:23,848 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 21:24:23,906 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 21:24:24,054 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 21:24:24,342 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 21:24:24,713 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 21:24:24,891 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5180cc83: startup date [Wed Sep 19 21:24:17 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@71881b67
2018-09-19 21:24:24,922 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 21:24:24,924 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:24:24,926 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:24:24,927 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 21:24:24,927 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:24:24,928 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:24:24,928 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 21:24:24,928 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 21:24:24,929 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 21:24:24,929 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 21:24:24,930 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 21:24:24,930 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 21:24:24,937 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 21:24:24,938 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 21:24:25,062 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 21:24:25,197 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$aefba09@78cc07df}
2018-09-19 21:24:25,207 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 21:24:25,395 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 21:24:25,400 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 21:24:25,400 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 21:24:25,412 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:24:25,414 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:24:25,440 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d85ce156, org.springframework.security.web.context.SecurityContextPersistenceFilter@8791463a, org.springframework.security.web.header.HeaderWriterFilter@9ad5bd35, org.springframework.security.web.authentication.logout.LogoutFilter@35d2c292, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@986fee72, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@85950d40, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f4c689c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29e2c0f6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d967388, org.springframework.security.web.session.SessionManagementFilter@6f4a13d5, org.springframework.security.web.access.ExceptionTranslationFilter@7ceb5836, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f5689c33]
2018-09-19 21:24:25,472 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 21:24:25,473 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:24:25,473 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:24:25,486 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15495848, org.springframework.security.web.context.SecurityContextPersistenceFilter@f6884bb5, org.springframework.security.web.header.HeaderWriterFilter@5b90896e, org.springframework.security.web.csrf.CsrfFilter@8e28711a, org.springframework.security.web.authentication.logout.LogoutFilter@195a2afe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1d4227cf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@65e5b734, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@bfecb5bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60bb5987, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@aaef062d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c2a97376, org.springframework.security.web.session.SessionManagementFilter@f4df9d1e, org.springframework.security.web.access.ExceptionTranslationFilter@c40eae71, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47b10eb8]
2018-09-19 21:24:25,489 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-19 21:24:25,662 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:24:25,995 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5180cc83: startup date [Wed Sep 19 21:24:17 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@71881b67
2018-09-19 21:24:26,051 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 21:24:26,109 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:24:26,109 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 21:24:26,166 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:24:26,166 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:24:27,023 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 21:24:27,048 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:24:27,048 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:24:27,049 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:24:27,266 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 21:24:27,269 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 21:24:27,283 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 21:24:27,285 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 21:24:27,287 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 21:24:27,291 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 21:24:27,303 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 21:24:27,322 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=5180cc83,type=ConfigurationPropertiesRebinder]
2018-09-19 21:24:27,332 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 21:24:27,408 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 21:24:27,413 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.526 seconds (JVM running for 13.778)
2018-09-19 21:24:40,510 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 21:24:40,543 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2018-09-19 21:24:40,560 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:24:40,562 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:24:40,570 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:24:40,571 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:24:40,571 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:24:40,572 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@89a29092

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 1c4e219c-c285-2bdb-50f4-d5c6c11c6a2d
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 21:24:40,576 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:24:40,577 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:24:40,577 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:24:40,578 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 21:24:40,579 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 21:24:40,580 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 21:24:40,581 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 21:24:40,581 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 21:24:40,581 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 21:24:40,581 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 21:24:40,582 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 21:24:40,582 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 21:24:40,582 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 21:24:40,582 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 21:24:40,582 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 21:24:40,582 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 21:24:40,583 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 21:24:40,583 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 21:24:40,583 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 21:24:40,584 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 21:24:40,955 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:24:40,956 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 21:24:40,956 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 21:24:40,958 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 21:24:40,959 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 21:24:40,959 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 21:24:40,959 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@f3bc5fe2
2018-09-19 21:24:40,959 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 21:24:40,960 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 21:24:40,960 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:24:40,961 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 21:24:40,961 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:24:40,967 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@85c12da0, returned: 1
2018-09-19 21:24:40,968 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 21:24:40,968 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 21:24:40,968 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 21:24:40,980 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:24:40,980 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:24:43,727 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 21:24:43,727 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-19 21:24:46,259 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.DefaultAuthenticationEventPublisher - No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2018-09-19 21:24:46,287 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: InternalAuthenticationServiceException, Cannot pass a null GrantedAuthority collection
org.springframework.security.authentication.InternalAuthenticationServiceException: Cannot pass a null GrantedAuthority collection
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:119) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:512) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
Caused by: java.lang.IllegalArgumentException: Cannot pass a null GrantedAuthority collection
	at org.springframework.util.Assert.notNull(Assert.java:193) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.core.userdetails.User.sortAuthorities(User.java:163) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.core.userdetails.User.<init>(User.java:123) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.core.userdetails.User.<init>(User.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.config.SecurityConfiguration$1.loadUserByUsername(SecurityConfiguration.java:34) ~[classes/:?]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:104) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	... 111 more
2018-09-19 21:24:46,457 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@98bbc545
2018-09-19 21:24:46,461 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authentication.InternalAuthenticationServiceException: Cannot pass a null GrantedAuthority collection]
2018-09-19 21:24:46,476 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 21:24:46,476 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
2018-09-19 21:25:57,695 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2018-09-19 21:25:57,695 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5180cc83: startup date [Wed Sep 19 21:24:17 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@71881b67
2018-09-19 21:25:57,738 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2018-09-19 21:25:57,740 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2018-09-19 21:25:57,751 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 21:25:57,762 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown initiated...
2018-09-19 21:25:57,776 microservice-oauth2-server [RMI TCP Connection(10)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - trade - Shutdown completed.
2018-09-19 21:26:05,475 microservice-oauth2-server [main] INFO  org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ad685589: startup date [Wed Sep 19 21:26:05 CST 2018]; root of context hierarchy
2018-09-19 21:26:05,995 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$cee0b42c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:26:06,465 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - No active profile set, falling back to default profiles: default
2018-09-19 21:26:06,496 microservice-oauth2-server [main] INFO  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61205f5: startup date [Wed Sep 19 21:26:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ad685589
2018-09-19 21:26:07,647 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'clientDetailsService' with a different definition: replacing [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/security/oauth2/config/annotation/configuration/ClientDetailsServiceConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=oauth2ServerConfig; factoryMethodName=clientDetailsService; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/github/sawied/microservice/oauth2/config/Oauth2ServerConfig.class]]
2018-09-19 21:26:08,592 microservice-oauth2-server [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=refresh; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=false; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.aop.scope.ScopedProxyFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in BeanDefinition defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]]
2018-09-19 21:26:09,156 microservice-oauth2-server [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=93266a23-27d7-32ca-8f94-ef5b65561c0e
2018-09-19 21:26:09,444 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b2c6b12f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:26:09,538 microservice-oauth2-server [main] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$cee0b42c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-09-19 21:26:10,282 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2018-09-19 21:26:10,600 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 4104 ms
2018-09-19 21:26:10,749 microservice-oauth2-server [localhost-startStop-1] WARN  io.micrometer.core.instrument.binder.jvm.JvmGcMetrics - GC notifications will not be available because com.sun.management.GarbageCollectionNotificationInfo is not present
2018-09-19 21:26:11,983 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-09-19 21:26:11,984 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-09-19 21:26:11,984 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-09-19 21:26:11,984 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-09-19 21:26:11,985 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-09-19 21:26:11,986 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean - Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-09-19 21:26:11,986 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2018-09-19 21:26:11,986 microservice-oauth2-server [localhost-startStop-1] INFO  org.springframework.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2018-09-19 21:26:12,145 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Starting...
2018-09-19 21:26:12,325 microservice-oauth2-server [main] INFO  com.zaxxer.hikari.HikariDataSource - trade - Start completed.
2018-09-19 21:26:12,390 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-09-19 21:26:12,406 microservice-oauth2-server [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-09-19 21:26:12,562 microservice-oauth2-server [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.17.Final}
2018-09-19 21:26:12,565 microservice-oauth2-server [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2018-09-19 21:26:12,620 microservice-oauth2-server [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-09-19 21:26:12,768 microservice-oauth2-server [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-09-19 21:26:13,045 microservice-oauth2-server [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-09-19 21:26:13,404 microservice-oauth2-server [main] WARN  org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2018-09-19 21:26:13,561 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking for request mappings in application context: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61205f5: startup date [Wed Sep 19 21:26:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ad685589
2018-09-19 21:26:13,574 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize]}, public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map,java.util.Map,org.springframework.web.bind.support.SessionStatus,java.security.Principal)={[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}}
2018-09-19 21:26:13,579 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(java.util.Map<java.lang.String, java.lang.Object>,java.util.Map<java.lang.String, java.lang.String>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:26:13,580 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/authorize],methods=[POST],params=[user_oauth_approval]}" onto public org.springframework.web.servlet.View org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.approveOrDeny(java.util.Map<java.lang.String, java.lang.String>,java.util.Map<java.lang.String, ?>,org.springframework.web.bind.support.SessionStatus,java.security.Principal)
2018-09-19 21:26:13,581 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 2 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenEndpoint: {public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[GET]}, public org.springframework.http.ResponseEntity org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map) throws org.springframework.web.HttpRequestMethodNotSupportedException={[/oauth/token],methods=[POST]}}
2018-09-19 21:26:13,582 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.getAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:26:13,582 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token],methods=[POST]}" onto public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-09-19 21:26:13,583 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)={[/oauth/check_token]}}
2018-09-19 21:26:13,584 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/check_token]}" onto public java.util.Map<java.lang.String, ?> org.springframework.security.oauth2.provider.endpoint.CheckTokenEndpoint.checkToken(java.lang.String)
2018-09-19 21:26:13,585 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map,javax.servlet.http.HttpServletRequest) throws java.lang.Exception={[/oauth/confirm_access]}}
2018-09-19 21:26:13,585 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/confirm_access]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelApprovalEndpoint.getAccessConfirmation(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest) throws java.lang.Exception
2018-09-19 21:26:13,586 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint: {public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)={[/oauth/error]}}
2018-09-19 21:26:13,586 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/error]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.security.oauth2.provider.endpoint.WhitelabelErrorEndpoint.handleError(javax.servlet.http.HttpServletRequest)
2018-09-19 21:26:13,592 microservice-oauth2-server [main] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - 1 request handler methods found on class org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint: {public java.util.Map org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)={[/oauth/token_key],methods=[GET]}}
2018-09-19 21:26:13,593 microservice-oauth2-server [main] INFO  org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Mapped "{[/oauth/token_key],methods=[GET]}" onto public java.util.Map<java.lang.String, java.lang.String> org.springframework.security.oauth2.provider.endpoint.TokenKeyEndpoint.getKey(java.security.Principal)
2018-09-19 21:26:13,722 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$3 - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2018-09-19 21:26:13,859 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=com.github.sawied.microservice.oauth2.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$b4a706e5@5bcb995e}
2018-09-19 21:26:13,871 microservice-oauth2-server [main] DEBUG org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter - Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).
2018-09-19 21:26:14,094 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2018-09-19 21:26:14,098 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'denyAll()', for Ant [pattern='/oauth/token_key']
2018-09-19 21:26:14,099 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'isAuthenticated()', for Ant [pattern='/oauth/check_token']
2018-09-19 21:26:14,111 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:26:14,113 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:26:14,139 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9218f0ab, org.springframework.security.web.context.SecurityContextPersistenceFilter@aec906ad, org.springframework.security.web.header.HeaderWriterFilter@79324f9f, org.springframework.security.web.authentication.logout.LogoutFilter@945e3022, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@706bf0eb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c6ef9405, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@361d7ed2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@459f75c3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f82360d, org.springframework.security.web.session.SessionManagementFilter@447cd484, org.springframework.security.web.access.ExceptionTranslationFilter@3977a88f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@ad2d1e79]
2018-09-19 21:26:14,171 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.expression.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-09-19 21:26:14,171 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:26:14,171 microservice-oauth2-server [main] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Validated configuration attributes
2018-09-19 21:26:14,185 microservice-oauth2-server [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bad6485, org.springframework.security.web.context.SecurityContextPersistenceFilter@205a6909, org.springframework.security.web.header.HeaderWriterFilter@919e7bc2, org.springframework.security.web.csrf.CsrfFilter@5644c3e0, org.springframework.security.web.authentication.logout.LogoutFilter@7d5b69cc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42a2b6de, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@f9b2b490, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@f248556, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c8565b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ab31e4e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e5710ca, org.springframework.security.web.session.SessionManagementFilter@fd51ee9d, org.springframework.security.web.access.ExceptionTranslationFilter@37b60da8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f7e0d9]
2018-09-19 21:26:14,188 microservice-oauth2-server [main] WARN  org.springframework.security.config.annotation.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2018-09-19 21:26:14,368 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:26:14,710 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61205f5: startup date [Wed Sep 19 21:26:06 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@ad685589
2018-09-19 21:26:14,761 microservice-oauth2-server [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-09-19 21:26:14,815 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:26:14,818 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-09-19 21:26:14,878 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:26:14,878 microservice-oauth2-server [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-09-19 21:26:15,727 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2018-09-19 21:26:15,752 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:26:15,753 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-09-19 21:26:15,754 microservice-oauth2-server [main] INFO  org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-09-19 21:26:15,963 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-09-19 21:26:15,966 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2018-09-19 21:26:15,981 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-09-19 21:26:15,982 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-09-19 21:26:15,985 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-09-19 21:26:15,989 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-09-19 21:26:16,001 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-09-19 21:26:16,018 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=61205f5,type=ConfigurationPropertiesRebinder]
2018-09-19 21:26:16,031 microservice-oauth2-server [main] INFO  org.springframework.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-09-19 21:26:16,108 microservice-oauth2-server [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2018-09-19 21:26:16,115 microservice-oauth2-server [main] INFO  com.github.sawied.microservice.oauth2.MicroserviceOauth2ServerApplication - Started MicroserviceOauth2ServerApplication in 11.432 seconds (JVM running for 13.678)
2018-09-19 21:26:21,575 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-09-19 21:26:21,608 microservice-oauth2-server [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2018-09-19 21:26:21,625 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:26:21,627 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:26:21,635 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:26:21,635 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:26:21,636 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:26:21,637 microservice-oauth2-server [http-nio-8080-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/oauth/token':

org.apache.catalina.connector.RequestFacade@47ef7b8c

servletPath:/oauth/token
pathInfo:null
headers: 
host: localhost:8080
connection: keep-alive
content-length: 71
authorization: Basic YXBpLWdhdGV3YXk6c2VjcmV0
postman-token: 31e16406-3493-fd93-1c30-8e29d68ec94c
cache-control: no-cache
origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
content-type: application/x-www-form-urlencoded
accept: */*
accept-encoding: gzip, deflate, br
accept-language: en-US,en;q=0.9
cookie: JSESSIONID=7A75BAE98217DEBB4FD7BF8504489A20


Security filter chain: [
  WebAsyncManagerIntegrationFilter
  SecurityContextPersistenceFilter
  HeaderWriterFilter
  LogoutFilter
  ClientCredentialsTokenEndpointFilter
  BasicAuthenticationFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  SessionManagementFilter
  ExceptionTranslationFilter
  FilterSecurityInterceptor
]


************************************************************


2018-09-19 21:26:21,640 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/oauth/token']
2018-09-19 21:26:21,640 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:26:21,640 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - matched
2018-09-19 21:26:21,641 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-09-19 21:26:21,642 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-09-19 21:26:21,643 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-09-19 21:26:21,644 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2018-09-19 21:26:21,644 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
2018-09-19 21:26:21,644 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'GET /logout
2018-09-19 21:26:21,645 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
2018-09-19 21:26:21,645 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/logout'
2018-09-19 21:26:21,645 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
2018-09-19 21:26:21,645 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'PUT /logout
2018-09-19 21:26:21,645 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
2018-09-19 21:26:21,645 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Request 'POST /oauth/token' doesn't match 'DELETE /logout
2018-09-19 21:26:21,645 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.OrRequestMatcher - No matches found
2018-09-19 21:26:21,645 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2018-09-19 21:26:21,646 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-09-19 21:26:21,646 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Basic Authentication Authorization header found for user 'api-gateway'
2018-09-19 21:26:21,647 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-09-19 21:26:22,004 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.www.BasicAuthenticationFilter - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:26:22,004 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2018-09-19 21:26:22,005 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-09-19 21:26:22,006 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-09-19 21:26:22,006 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT'
2018-09-19 21:26:22,007 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2018-09-19 21:26:22,007 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@fdd7b304
2018-09-19 21:26:22,007 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-09-19 21:26:22,008 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-09-19 21:26:22,008 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.util.matcher.AntPathRequestMatcher - Checking match of request : '/oauth/token'; against '/oauth/token'
2018-09-19 21:26:22,009 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /oauth/token; Attributes: [fullyAuthenticated]
2018-09-19 21:26:22,009 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9dd5be85: Principal: org.springframework.security.core.userdetails.User@5229e991: Username: api-gateway; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_CLIENT; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_CLIENT
2018-09-19 21:26:22,017 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@8893b3e4, returned: 1
2018-09-19 21:26:22,017 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - Authorization successful
2018-09-19 21:26:22,017 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.intercept.FilterSecurityInterceptor - RunAsManager did not change Authentication object
2018-09-19 21:26:22,017 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - /oauth/token reached end of additional filter chain; proceeding with original chain
2018-09-19 21:26:22,027 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Looking up handler method for path /oauth/token
2018-09-19 21:26:22,027 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.endpoint.FrameworkEndpointHandlerMapping - Returning handler method [public org.springframework.http.ResponseEntity<org.springframework.security.oauth2.common.OAuth2AccessToken> org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(java.security.Principal,java.util.Map<java.lang.String, java.lang.String>) throws org.springframework.web.HttpRequestMethodNotSupportedException]
2018-09-19 21:26:26,333 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter - Getting access token for: api-gateway
2018-09-19 21:26:26,333 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.authentication.ProviderManager - Authentication attempt using com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider
2018-09-19 21:35:59,971 microservice-oauth2-server [http-nio-8080-exec-1] ERROR org.springframework.security.oauth2.provider.endpoint.TokenEndpoint - Handling error: IllegalArgumentException, There is no PasswordEncoder mapped for the id "null"
java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:238) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:198) ~[spring-security-crypto-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at com.github.sawied.microservice.oauth2.security.JpaAuthenticationProvider.additionalAuthenticationChecks(JpaAuthenticationProvider.java:13) ~[classes/:?]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:166) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:512) ~[spring-security-config-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:70) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:65) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:561) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132) ~[spring-security-oauth2-2.2.1.RELEASE.jar:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]
	at java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) [spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77) [spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:155) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:123) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) [?:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:1.8.0]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.34.jar:8.5.34]
	at java.lang.Thread.run(Thread.java:785) [?:2.6 (06-16-2017)]
2018-09-19 21:36:00,117 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@520b73cb
2018-09-19 21:36:00,122 microservice-oauth2-server [http-nio-8080-exec-1] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id "null"]
2018-09-19 21:36:00,136 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.access.ExceptionTranslationFilter - Chain processed normally
2018-09-19 21:36:00,137 microservice-oauth2-server [http-nio-8080-exec-1] DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
